(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4047],{23754:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>R});var r=a(95155),l=a(12115),t=a(83209),i=a(97003),c=a(67812),n=a(55850),d=a(32559),m=a(26983),x=a(6132),h=a(42529),o=a(50906),j=a(85710),u=a(80534),f=a(15870),g=a(56154),p=a(89559),N=a(71360),v=a(22454),b=a(80549),y=a(81630);function w(){let[e,s]=(0,l.useState)(""),{data:a,isLoading:w,refetch:A}=(0,v.I)({queryKey:["/api/cache/stats"],queryFn:()=>fetch("/api/cache/stats").then(e=>e.json()),refetchInterval:5e3}),R=(0,b.n)({mutationFn:()=>(0,y.AT)("/api/cache/flush",{method:"POST"}),onSuccess:()=>{y.qQ.invalidateQueries({queryKey:["/api/cache/stats"]}),A()}}),C=(0,b.n)({mutationFn:()=>(0,y.AT)("/api/cache/warmup",{method:"POST"}),onSuccess:()=>{y.qQ.invalidateQueries({queryKey:["/api/cache/stats"]}),A()}}),F=async()=>{s("flush"),await R.mutateAsync(),s("")},k=async()=>{s("warmup"),await C.mutateAsync(),s("")};return w?(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsx)(t.Zp,{children:(0,r.jsxs)(t.aR,{children:[(0,r.jsxs)(t.ZB,{className:"flex items-center",children:[(0,r.jsx)(j.A,{className:"w-5 h-5 mr-2"}),"Cache Management"]}),(0,r.jsx)(t.BT,{children:"Loading cache statistics..."})]})})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(t.Zp,{children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsxs)(t.ZB,{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(j.A,{className:"w-5 h-5 mr-2"}),"Cache Management & Performance"]}),w?(0,r.jsxs)(c.E,{variant:"outline",className:"bg-gray-100",children:[(0,r.jsx)(m.A,{className:"w-3 h-3 mr-1"}),"Loading..."]}):a?a.redis.connected?(0,r.jsxs)(c.E,{variant:"default",className:"bg-green-500",children:[(0,r.jsx)(h.A,{className:"w-3 h-3 mr-1"}),"Redis Connected"]}):(0,r.jsxs)(c.E,{variant:"secondary",className:"bg-yellow-500",children:[(0,r.jsx)(o.A,{className:"w-3 h-3 mr-1"}),"Memory Fallback"]}):(0,r.jsxs)(c.E,{variant:"destructive",children:[(0,r.jsx)(x.A,{className:"w-3 h-3 mr-1"}),"Error"]})]}),(0,r.jsx)(t.BT,{children:"Monitor and manage Redis cache performance for optimal lead processing"})]}),(0,r.jsx)(t.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl",children:[(0,r.jsxs)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[(null==a?void 0:a.hitRatio)||0,"%"]}),(0,r.jsx)("div",{className:"text-sm font-medium text-blue-700 mb-3",children:"Cache Hit Ratio"}),(0,r.jsx)(n.k,{value:(null==a?void 0:a.hitRatio)||0,className:"h-2"}),(0,r.jsx)("div",{className:"text-xs text-blue-600 mt-2",children:"Higher is better for performance"})]}),(0,r.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:(null==a?void 0:a.redis.memory)||"0 bytes"}),(0,r.jsx)("div",{className:"text-sm font-medium text-green-700 mb-3",children:"Memory Usage"}),(0,r.jsxs)("div",{className:"flex items-center justify-center text-xs text-green-600",children:[(0,r.jsx)(o.A,{className:"w-3 h-3 mr-1"}),"Redis Memory Consumption"]})]}),(0,r.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:(null==a?void 0:a.totalKeys)||0}),(0,r.jsx)("div",{className:"text-sm font-medium text-purple-700 mb-3",children:"Cached Keys"}),(0,r.jsxs)("div",{className:"flex items-center justify-center text-xs text-purple-600",children:[(0,r.jsx)(u.A,{className:"w-3 h-3 mr-1"}),"Active Cache Entries"]})]})]})})]}),(0,r.jsxs)(t.Zp,{children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsxs)(t.ZB,{className:"flex items-center",children:[(0,r.jsx)(f.A,{className:"w-5 h-5 mr-2"}),"Cache Operations"]}),(0,r.jsx)(t.BT,{children:"Manage cache data and optimize performance"})]}),(0,r.jsx)(t.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"p-6 border rounded-lg",children:[(0,r.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"font-semibold text-lg flex items-center mb-2",children:[(0,r.jsx)(g.A,{className:"w-5 h-5 mr-2 text-blue-500"}),"Warmup Cache"]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Preload frequently accessed data into cache for optimal performance"}),(0,r.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[(0,r.jsx)("li",{children:"• Dashboard statistics"}),(0,r.jsx)("li",{children:"• Recent leads (top 20)"}),(0,r.jsx)("li",{children:"• High priority leads"}),(0,r.jsx)("li",{children:"• First page pagination"})]})]})}),(0,r.jsx)(i.$,{onClick:k,disabled:C.isPending||"warmup"===e,variant:"default",className:"w-full",children:C.isPending||"warmup"===e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Warming Up..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Warmup Cache"]})})]}),(0,r.jsxs)("div",{className:"p-6 border rounded-lg",children:[(0,r.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"font-semibold text-lg flex items-center mb-2",children:[(0,r.jsx)(N.A,{className:"w-5 h-5 mr-2 text-red-500"}),"Flush Cache"]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Clear all cached data to ensure fresh data is loaded"}),(0,r.jsxs)(d.Fc,{className:"mb-4",children:[(0,r.jsx)(x.A,{className:"w-4 h-4"}),(0,r.jsx)(d.TN,{className:"text-xs",children:"This will temporarily reduce performance while cache rebuilds"})]})]})}),(0,r.jsx)(i.$,{onClick:F,disabled:R.isPending||"flush"===e,variant:"destructive",className:"w-full",children:R.isPending||"flush"===e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Flushing..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Flush All Cache"]})})]})]})})]}),(0,r.jsxs)(t.Zp,{children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsxs)(t.ZB,{className:"flex items-center",children:[(0,r.jsx)(u.A,{className:"w-5 h-5 mr-2"}),"Week 1 Migration: Redis Caching Layer"]}),(0,r.jsx)(t.BT,{children:"Performance improvements from Redis implementation"})]}),(0,r.jsx)(t.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold",children:"Performance Benefits"}),(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[(0,r.jsx)("span",{children:"Dashboard Load Time"}),(0,r.jsx)("span",{className:"font-semibold text-green-600",children:"5x Faster"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[(0,r.jsx)("span",{children:"Lead Query Performance"}),(0,r.jsx)("span",{className:"font-semibold text-blue-600",children:"3x Faster"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[(0,r.jsx)("span",{children:"Database Load Reduction"}),(0,r.jsx)("span",{className:"font-semibold text-purple-600",children:"70%"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold",children:"Scalability Readiness"}),(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)(h.A,{className:"w-4 h-4 text-green-500 mr-2"}),(0,r.jsx)("span",{children:"Ready for 10,000+ leads/month"})]}),(0,r.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)(h.A,{className:"w-4 h-4 text-green-500 mr-2"}),(0,r.jsx)("span",{children:"Memory fallback for development"})]}),(0,r.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)(h.A,{className:"w-4 h-4 text-green-500 mr-2"}),(0,r.jsx)("span",{children:"Foundation for microservices"})]})]})]})]})})]})]})}var A=a(96029);function R(){return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,r.jsx)(A.A,{}),(0,r.jsx)("div",{className:"flex-1 p-6",children:(0,r.jsx)(w,{})})]})}},32559:(e,s,a)=>{"use strict";a.d(s,{Fc:()=>n,TN:()=>d});var r=a(95155),l=a(12115),t=a(83101),i=a(25016);let c=(0,t.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n=l.forwardRef((e,s)=>{let{className:a,variant:l,...t}=e;return(0,r.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(c({variant:l}),a),...t})});n.displayName="Alert",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,r.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...l})}).displayName="AlertTitle";let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...l})});d.displayName="AlertDescription"},34954:(e,s,a)=>{Promise.resolve().then(a.bind(a,23754))},55850:(e,s,a)=>{"use strict";a.d(s,{k:()=>c});var r=a(95155),l=a(12115),t=a(77450),i=a(25016);let c=l.forwardRef((e,s)=>{let{className:a,value:l,...c}=e;return(0,r.jsx)(t.bL,{ref:s,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...c,children:(0,r.jsx)(t.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});c.displayName=t.bL.displayName}},e=>{e.O(0,[7349,1668,2619,7429,4852,2494,7827,245,8441,1255,7358],()=>e(e.s=34954)),_N_E=e.O()}]);