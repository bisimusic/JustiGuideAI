"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8923],{32559:(e,s,a)=>{a.d(s,{Fc:()=>c,TN:()=>d});var t=a(95155),l=a(12115),i=a(83101),r=a(25016);let n=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=l.forwardRef((e,s)=>{let{className:a,variant:l,...i}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,r.cn)(n({variant:l}),a),...i})});c.displayName="Alert",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h5",{ref:s,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",a),...l})}).displayName="AlertTitle";let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",a),...l})});d.displayName="AlertDescription"},54664:(e,s,a)=>{a.d(s,{w:()=>n});var t=a(95155),l=a(12115),i=a(47321),r=a(25016);let n=l.forwardRef((e,s)=>{let{className:a,orientation:l="horizontal",decorative:n=!0,...c}=e;return(0,t.jsx)(i.b,{ref:s,decorative:n,orientation:l,className:(0,r.cn)("shrink-0 bg-border","horizontal"===l?"h-[1px] w-full":"h-full w-[1px]",a),...c})});n.displayName=i.b.displayName},57968:(e,s,a)=>{a.d(s,{e:()=>u});var t=a(95155),l=a(12115),i=a(22454),r=a(80549),n=a(83209),c=a(67812),d=a(97003),o=a(90923),x=a(55850),m=a(32559),h=a(81630);function u(){var e,s;let[a,u]=(0,l.useState)(""),{data:g,isLoading:j,error:p}=(0,i.I)({queryKey:["/api/database/stats"],queryFn:async()=>{let e=await fetch("/api/database/stats");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return await e.json()},refetchInterval:3e4}),{data:v,isLoading:N,error:b}=(0,i.I)({queryKey:["/api/database/performance-analysis"],queryFn:async()=>{let e=await fetch("/api/database/performance-analysis");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return await e.json()},refetchInterval:6e4}),y=(0,r.n)({mutationFn:async()=>(await fetch("/api/database/optimize-indexes",{method:"POST",headers:{"Content-Type":"application/json"}})).json(),onSuccess:()=>{h.qQ.invalidateQueries({queryKey:["/api/database/stats"]}),h.qQ.invalidateQueries({queryKey:["/api/database/performance-analysis"]})}}),f=(0,r.n)({mutationFn:async e=>(await fetch(e?"/api/database/cache?pattern=".concat(e):"/api/database/cache",{method:"DELETE"})).json(),onSuccess:()=>{h.qQ.invalidateQueries({queryKey:["/api/database/stats"]})}}),w=e=>e<1e3?"".concat(Math.round(e),"ms"):"".concat((e/1e3).toFixed(2),"s");return j?(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{children:"\uD83D\uDDC4️ Database Optimization"})}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),(0,t.jsx)("div",{className:"h-32 bg-gray-200 rounded"})]})})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"\uD83D\uDDC4️ Database Performance Overview"}),(0,t.jsx)(n.BT,{children:"Intelligent caching, query optimization, and performance monitoring"})]}),(0,t.jsx)(n.Wu,{children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold ".concat((e=g.stats.cacheEfficiency||0)>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600"),children:[(g.stats.cacheEfficiency||0).toFixed(1),"%"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Cache Efficiency"}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(x.k,{value:g.stats.cacheEfficiency||0,className:"h-2"})})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold ".concat((s=g.stats.averageQueryTime||0)<=100?"text-green-600":s<=500?"text-yellow-600":"text-red-600"),children:w(g.stats.averageQueryTime||0)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Query Time"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Total: ",w(g.stats.queryTime||0)]})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:g.stats.totalQueries||0}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Total Queries"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Hits: ",g.stats.cacheHits||0," | Misses: ",g.stats.cacheMisses||0]})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:g.cacheSize||0}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Cache Entries"}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"5 min timeout"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Cache Performance"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Cache Hits"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium",children:g.stats.cacheHits||0}),(0,t.jsx)("div",{className:"w-20 h-2 bg-gray-200 rounded",children:(0,t.jsx)("div",{className:"h-full bg-green-500 rounded",style:{width:"".concat(g.stats.totalQueries>0?g.stats.cacheHits/g.stats.totalQueries*100:0,"%")}})})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Cache Misses"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium",children:g.stats.cacheMisses||0}),(0,t.jsx)("div",{className:"w-20 h-2 bg-gray-200 rounded",children:(0,t.jsx)("div",{className:"h-full bg-red-500 rounded",style:{width:"".concat(g.stats.totalQueries>0?g.stats.cacheMisses/g.stats.totalQueries*100:0,"%")}})})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Optimization Features"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{className:"text-sm",children:"5-minute intelligent caching"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{className:"text-sm",children:"Optimized database indexes"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{className:"text-sm",children:"Query result pagination"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{className:"text-sm",children:"Automatic cache cleanup"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{className:"text-sm",children:"Performance monitoring"})]})]})]})]})]}):j?(0,t.jsx)("div",{className:"text-center py-8 text-blue-500",children:(0,t.jsx)("p",{children:"Loading database statistics..."})}):(0,t.jsxs)("div",{className:"text-center py-8 text-red-500",children:[(0,t.jsx)("p",{children:"Unable to load database statistics"}),p&&(0,t.jsx)("p",{className:"text-sm mt-2",children:p.message})]})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"⚡ Performance Analysis & Optimization"}),(0,t.jsx)(n.BT,{children:"Automated performance analysis with optimization recommendations"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)(o.tU,{defaultValue:"analysis",className:"w-full",children:[(0,t.jsxs)(o.j7,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(o.Xi,{value:"analysis",children:"Performance Analysis"}),(0,t.jsx)(o.Xi,{value:"optimization",children:"Optimization Actions"}),(0,t.jsx)(o.Xi,{value:"indexes",children:"Database Indexes"})]}),(0,t.jsx)(o.av,{value:"analysis",className:"space-y-4",children:v&&v.analysis?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[v.analysis.cacheEfficiency.toFixed(1),"%"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Cache Efficiency"})]}),(0,t.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:w(v.analysis.averageQueryTime)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Query Time"})]}),(0,t.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:v.analysis.totalQueries}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Total Queries"})]})]}),v.analysis.recommendations.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Optimization Recommendations"}),(0,t.jsx)("div",{className:"space-y-2",children:v.analysis.recommendations.map((e,s)=>(0,t.jsx)(m.Fc,{children:(0,t.jsx)(m.TN,{children:e})},s))})]})]}):N?(0,t.jsx)("div",{className:"text-center py-8 text-blue-500",children:(0,t.jsx)("p",{children:"Loading performance analysis..."})}):(0,t.jsxs)("div",{className:"text-center py-8 text-red-500",children:[(0,t.jsx)("p",{children:"Unable to load performance analysis"}),b&&(0,t.jsx)("p",{className:"text-sm mt-2",children:b.message})]})}),(0,t.jsx)(o.av,{value:"optimization",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Cache Management"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>f.mutate(void 0),disabled:f.isPending,children:f.isPending?"Clearing...":"Clear All Cache"}),(0,t.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>f.mutate("leads"),disabled:f.isPending,children:"Clear Leads Cache"}),(0,t.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>f.mutate("dashboard"),disabled:f.isPending,children:"Clear Dashboard Cache"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Database Optimization"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.$,{onClick:()=>y.mutate(),disabled:y.isPending,className:"w-full",children:y.isPending?"Optimizing...":"Optimize Database Indexes"}),(0,t.jsx)(d.$,{variant:"outline",onClick:()=>h.qQ.invalidateQueries({queryKey:["/api/database/stats"]}),className:"w-full",children:"Refresh Statistics"})]})]})]})}),(0,t.jsx)(o.av,{value:"indexes",className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Active Database Indexes"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:"idx_leads_score_date"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Optimizes lead queries by AI score and discovery date"}),(0,t.jsx)(c.E,{variant:"secondary",className:"text-xs mt-1",children:"leads(ai_score DESC, discovered_at DESC)"})]}),(0,t.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:"idx_leads_platform_score"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Optimizes platform-filtered lead queries"}),(0,t.jsx)(c.E,{variant:"secondary",className:"text-xs mt-1",children:"leads(source_platform, ai_score DESC)"})]}),(0,t.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:"idx_responses_lead_date"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Optimizes response lookup and ordering"}),(0,t.jsx)(c.E,{variant:"secondary",className:"text-xs mt-1",children:"lead_responses(lead_id, posted_at DESC)"})]}),(0,t.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:"idx_leads_high_score"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Partial index for high-priority leads"}),(0,t.jsxs)(c.E,{variant:"secondary",className:"text-xs mt-1",children:["leads(ai_score) WHERE ai_score ",">="," 5"]})]})]})]})})]})})]})]})}},59960:(e,s,a)=>{a.d(s,{Z:()=>m});var t=a(95155),l=a(12115),i=a(22454),r=a(83209),n=a(67812),c=a(97003),d=a(90923),o=a(55850),x=a(32559);function m(){var e,s,a,m,h,u,g,j,p,v,N,b,y,f,w,C,A,k,S,R,P,T,I,L;let[D,E]=(0,l.useState)(24),[z,F]=(0,l.useState)("api_latency"),{data:_,isLoading:q}=(0,i.I)({queryKey:["/api/monitoring/health"],queryFn:async()=>{let e=await fetch("/api/monitoring/health");if(!e.ok)throw Error("Failed to fetch health data");return await e.json()},refetchInterval:18e4}),{data:Q,isLoading:B}=(0,i.I)({queryKey:["/api/monitoring/alerts",D],queryFn:async()=>{let e=await fetch("/api/monitoring/alerts?hours=".concat(D));if(!e.ok)throw Error("Failed to fetch alerts data");return await e.json()},refetchInterval:3e5}),{data:M,isLoading:H}=(0,i.I)({queryKey:["/api/monitoring/metrics",z,D],queryFn:async()=>{let e=await fetch("/api/monitoring/metrics?metricName=".concat(z,"&hours=").concat(D));if(!e.ok)throw Error("Failed to fetch metrics data");return await e.json()},refetchInterval:3e5}),Z=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600",O=e=>e<1e3?"".concat(Math.round(e),"ms"):"".concat((e/1e3).toFixed(2),"s"),U=e=>new Date(e).toLocaleTimeString();return q?(0,t.jsxs)(r.Zp,{children:[(0,t.jsx)(r.aR,{children:(0,t.jsx)(r.ZB,{children:"\uD83D\uDCCA Performance Monitoring"})}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),(0,t.jsx)("div",{className:"h-32 bg-gray-200 rounded"})]})})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(r.Zp,{children:[(0,t.jsxs)(r.aR,{children:[(0,t.jsx)(r.ZB,{children:"\uD83D\uDCCA System Health Overview"}),(0,t.jsx)(r.BT,{children:"Real-time performance monitoring with anomaly detection and health scoring"})]}),(0,t.jsx)(r.Wu,{children:_?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-white border rounded-lg",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold ".concat(Z((null==(e=_.report)?void 0:e.systemHealth)||_.score||0)),children:[(null==(s=_.report)?void 0:s.systemHealth)||_.score||0,"%"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"System Health"}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(o.k,{value:(null==(a=_.report)?void 0:a.systemHealth)||_.score||0,className:"h-2"})})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-white border rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:O((null==(h=_.report)||null==(m=h.responseLatency)?void 0:m.average)||125)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Average Latency"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["P95: ",O((null==(g=_.report)||null==(u=g.responseLatency)?void 0:u.p95)||250)]})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-white border rounded-lg",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[(100*((null==(j=_.report)?void 0:j.errorRate)||0)).toFixed(2),"%"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Error Rate"}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Last 24 hours"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-white border rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:O((null==(v=_.report)||null==(p=v.databasePerformance)?void 0:p.queryLatency)||45)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"DB Query Time"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(null==(b=_.report)||null==(N=b.databasePerformance)?void 0:N.activeConnections)||5," active connections"]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"API Service Status"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:_.services&&Object.entries(_.services).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"p-3 border rounded-lg ".concat((e=>{switch(e){case"healthy":return"bg-green-100 text-green-800 border-green-300";case"degraded":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"down":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}})("string"==typeof a?a:"unknown")),children:[(0,t.jsx)("div",{className:"font-medium capitalize",children:s.replace("_"," ")}),(0,t.jsx)("div",{className:"text-sm",children:"string"==typeof a?a:"Active"}),(0,t.jsx)(n.E,{variant:"connected"===a||"active"===a||"running"===a?"default":"destructive",className:"text-xs mt-1",children:"string"==typeof a?a:"unknown"})]},s)})})]}),(null==(f=_.report)||null==(y=f.recommendations)?void 0:y.length)>0&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Recommendations"}),(0,t.jsx)("div",{className:"space-y-2",children:_.report.recommendations.map((e,s)=>(0,t.jsx)(x.Fc,{children:(0,t.jsx)(x.TN,{children:e})},s))})]})]}):(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,t.jsx)("p",{children:"Unable to load health data"})})})]}),(0,t.jsxs)(r.Zp,{children:[(0,t.jsxs)(r.aR,{children:[(0,t.jsx)(r.ZB,{children:"\uD83D\uDEA8 Performance Alerts & Metrics"}),(0,t.jsx)(r.BT,{children:"Recent performance anomalies and detailed metric tracking"})]}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)(d.tU,{defaultValue:"alerts",className:"w-full",children:[(0,t.jsxs)(d.j7,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(d.Xi,{value:"alerts",children:"Recent Alerts"}),(0,t.jsx)(d.Xi,{value:"metrics",children:"Metric History"}),(0,t.jsx)(d.Xi,{value:"trends",children:"Performance Trends"})]}),(0,t.jsxs)(d.av,{value:"alerts",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsx)(c.$,{variant:1===D?"default":"outline",size:"sm",onClick:()=>E(1),children:"1 Hour"}),(0,t.jsx)(c.$,{variant:24===D?"default":"outline",size:"sm",onClick:()=>E(24),children:"24 Hours"}),(0,t.jsx)(c.$,{variant:168===D?"default":"outline",size:"sm",onClick:()=>E(168),children:"1 Week"})]}),Q&&Q.alerts&&Q.alerts.length>0?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(null==(w=Q.severity)?void 0:w.critical)||0}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Critical"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:(null==(C=Q.severity)?void 0:C.warning)||0}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Warning"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:Q.count}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Total Alerts"})]})]}),(0,t.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Q.alerts.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-medium",children:e.metric.replace("_"," ")}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Value: ",e.value," | Threshold: ",e.threshold]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:U(e.timestamp)}),(0,t.jsx)(n.E,{variant:e.value>2*e.threshold?"destructive":"secondary",children:e.value>2*e.threshold?"Critical":"Warning"})]})]},s))})]}):(0,t.jsx)("div",{className:"text-center py-8 text-green-600",children:(0,t.jsx)("p",{children:"✅ No alerts in the selected time range"})})]}),(0,t.jsxs)(d.av,{value:"metrics",className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex gap-4 mb-4",children:(0,t.jsxs)("select",{value:z,onChange:e=>F(e.target.value),className:"px-3 py-2 border rounded-md",children:[(0,t.jsx)("option",{value:"api_latency",children:"API Latency"}),(0,t.jsx)("option",{value:"database_query_time",children:"Database Query Time"}),(0,t.jsx)("option",{value:"error_rate",children:"Error Rate"}),(0,t.jsx)("option",{value:"lead_processing_rate",children:"Lead Processing Rate"}),(0,t.jsx)("option",{value:"response_rate",children:"Response Rate"}),(0,t.jsx)("option",{value:"memory_usage",children:"Memory Usage"})]})}),M&&M.history&&M.history.length>0?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-lg font-bold",children:(null==(A=M.history)?void 0:A.length)||0}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Data Points"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-lg font-bold",children:M.history&&M.history.length>0?Math.round(M.history.reduce((e,s)=>e+s.value,0)/M.history.length):0}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Average"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-lg font-bold",children:M.history&&M.history.length>0?Math.max(...M.history.map(e=>e.value)):0}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Peak"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-lg font-bold",children:M.history&&M.history.length>0?Math.min(...M.history.map(e=>e.value)):0}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Minimum"})]})]}),(0,t.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:(M.history||[]).slice(-20).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,t.jsx)("span",{className:"text-sm",children:U(e.timestamp)}),(0,t.jsx)("span",{className:"font-medium",children:e.value})]},s))})]}):(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,t.jsxs)("p",{children:["No metric data available for ",z]})})]}),(0,t.jsx)(d.av,{value:"trends",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Performance Trends"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"System Health"}),(0,t.jsxs)("span",{className:"font-medium ".concat(Z((null==_?void 0:_.report.systemHealth)||0)),children:[(null==_?void 0:_.report.systemHealth)||0,"% ↗️"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Average Latency"}),(0,t.jsxs)("span",{className:"font-medium",children:[O((null==_||null==(S=_.report)||null==(k=S.responseLatency)?void 0:k.average)||0)," ↘️"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Error Rate"}),(0,t.jsxs)("span",{className:"font-medium",children:[(100*((null==_||null==(R=_.report)?void 0:R.errorRate)||0)).toFixed(2),"% ↘️"]})]})]})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Resource Utilization"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{children:"Database Connections"}),(0,t.jsxs)("span",{children:[(null==_||null==(T=_.report)||null==(P=T.databasePerformance)?void 0:P.activeConnections)||0,"/50"]})]}),(0,t.jsx)(o.k,{value:2*((null==_||null==(L=_.report)||null==(I=L.databasePerformance)?void 0:I.activeConnections)||0),className:"h-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{children:"Memory Usage"}),(0,t.jsx)("span",{children:"65%"})]}),(0,t.jsx)(o.k,{value:65,className:"h-2"})]})]})]})]})})]})})]})]})}},70561:(e,s,a)=>{a.d(s,{s:()=>y});var t=a(95155),l=a(12115),i=a(99776),r=a(22454),n=a(80549),c=a(97003),d=a(83209),o=a(67812),x=a(33789),m=a(90235),h=a(78192),u=a(56154),g=a(26983),j=a(85921),p=a(59e3),v=a(15870),N=a(42529),b=a(81630);function y(){let[e,s]=(0,l.useState)(50),a=(0,i.jE)(),{data:y,isLoading:f}=(0,r.I)({queryKey:["/api/agent/status"],refetchInterval:6e4}),w=(0,n.n)({mutationFn:()=>(0,b.AT)("/api/agent/start",{method:"POST"}),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/agent/status"]})}}),C=(0,n.n)({mutationFn:()=>(0,b.AT)("/api/agent/stop",{method:"POST"}),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/agent/status"]})}}),A=(0,n.n)({mutationFn:e=>(0,b.AT)("/api/agent/configure",{method:"POST",body:JSON.stringify(e)}),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/agent/status"]})}});if(f)return(0,t.jsxs)(d.Zp,{children:[(0,t.jsx)(d.aR,{children:(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.A,{className:"h-5 w-5"}),"Intelligent Response Agent"]})}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)("div",{className:"text-center py-4",children:"Loading agent status..."})})]});let k=(null==y?void 0:y.agent)||{},S=null==k?void 0:k.isRunning;return(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.A,{className:"h-5 w-5"}),"Intelligent Response Agent",(0,t.jsx)(o.E,{variant:S?"default":"secondary",children:S?"Active":"Stopped"})]}),(0,t.jsx)(d.BT,{children:"Automatically scans ALL pages and responds to every lead with intelligent, targeted messages"})]}),(0,t.jsxs)(d.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null==k?void 0:k.processedLeads)||0}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Leads Processed"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==k?void 0:k.responseCount)||0}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Responses This Hour"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null==k?void 0:k.maxResponsesPerHour)||50}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Hourly Limit"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"flex items-center justify-center",children:S?(0,t.jsx)(u.A,{className:"h-6 w-6 text-green-500"}):(0,t.jsx)(g.A,{className:"h-6 w-6 text-gray-400"})}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:S?"Active":"Standby"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(c.$,{onClick:()=>{w.mutate()},disabled:S||w.isPending,className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-4 w-4"}),w.isPending?"Starting...":"Start Agent"]}),(0,t.jsxs)(c.$,{variant:"outline",onClick:()=>{C.mutate()},disabled:!S||C.isPending,className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),C.isPending?"Stopping...":"Stop Agent"]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(m.J,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"h-4 w-4"}),"Rate Limit Configuration"]}),(0,t.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(m.J,{htmlFor:"rateLimit",className:"text-sm",children:"Responses per hour"}),(0,t.jsx)(x.p,{id:"rateLimit",type:"number",value:e,onChange:e=>s(Number(e.target.value)),min:"1",max:"200",className:"mt-1"})]}),(0,t.jsx)(c.$,{onClick:()=>{A.mutate({maxResponsesPerHour:e})},disabled:A.isPending,size:"sm",children:A.isPending?"Updating...":"Update"})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg",children:[(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 text-blue-600"}),"Agent Capabilities"]}),(0,t.jsxs)("ul",{className:"text-sm space-y-1 text-gray-700 dark:text-gray-300",children:[(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Complete Dataset Processing:"})," Scans 3,465+ leads with authentic database tracking"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Intelligent Detection:"})," Automatically identifies unresponded opportunities"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Immigration Expertise:"})," Analyzes H1B, Green Card, Citizenship, and Asylum cases"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Strategic Messaging:"})," Uses optimized conversion strategies with realistic performance tracking"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Revenue Focus:"})," Prioritizes N400 citizenship ($499) and B2B lawyer services"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Multi-Channel:"})," Reddit, LinkedIn, Twitter, Facebook, Discord, WhatsApp integration"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Compliance Ready:"})," Legal disclaimers and immigration law compliance built-in"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Performance Tracking:"})," Real-time conversion metrics and strategy optimization"]})]})]}),(null==y?void 0:y.message)&&(0,t.jsx)("div",{className:"text-sm text-gray-600 bg-gray-50 dark:bg-gray-800 p-3 rounded",children:y.message}),(0,t.jsxs)("div",{className:"border-t pt-6 space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-lg flex items-center gap-2",children:"\uD83D\uDE80 Advanced Automation Features"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(d.Zp,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{className:"font-medium",children:"Strategy Performance"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Urgency-Based:"}),(0,t.jsx)("span",{className:"font-semibold text-green-600",children:"5.2%"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Cost Advantage:"}),(0,t.jsx)("span",{className:"font-semibold text-blue-600",children:"3.8%"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Speed Emphasis:"}),(0,t.jsx)("span",{className:"font-semibold text-purple-600",children:"2.1%"})]})]})]}),(0,t.jsxs)(d.Zp,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)("span",{className:"font-medium",children:"Lead Coverage"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Total Leads:"}),(0,t.jsx)("span",{className:"font-semibold",children:"498"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Persona Contacts:"}),(0,t.jsx)("span",{className:"font-semibold",children:"79"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Response Rate:"}),(0,t.jsx)("span",{className:"font-semibold text-green-600",children:"28.7%"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950 dark:to-purple-950 p-4 rounded-lg",children:[(0,t.jsx)("h5",{className:"font-semibold mb-3 flex items-center gap-2",children:"⚡ Real-Time Automation Capabilities"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Multi-Platform Scanning:"})," Reddit, LinkedIn, Twitter, Facebook"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"AI Strategy Selection:"})," 5 conversion strategies with performance tracking"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Persona Targeting:"})," Lawyers (13), Investors (20), Schools (3)"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Revenue Optimization:"})," N400 ($499), B2B Lawyers ($50-$750)"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Competitive Intelligence:"})," 90%+ cost savings vs premium competitors"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Real-Time Responses:"})," 18-minute avg response time"]})]})]})]})]})]})]})}},77959:(e,s,a)=>{a.d(s,{A:()=>L});var t=a(95155),l=a(12115),i=a(83209),r=a(97003),n=a(67812),c=a(55850),d=a(32559),o=a(90923),x=a(1473),m=a(56154),h=a(21786),u=a(50906),g=a(91169),j=a(80534),p=a(30814),v=a(53511),N=a(85921),b=a(5937),y=a(42529),f=a(26983),w=a(15870),C=a(1524),A=a(22454),k=a(85843),S=a(89442),R=a(71871),P=a(91761);function T(e){var s;let{onPersonaSelect:a}=e,[c,d]=(0,l.useState)("lawyers"),{data:o,isLoading:m}=(0,A.I)({queryKey:["/api/personas"],queryFn:async()=>{let e=await fetch("/api/personas");return(await e.json()).personas||[]}}),{data:h}=(0,A.I)({queryKey:["/api/contacts"],queryFn:async()=>{let e=await fetch("/api/contacts");return(await e.json()).contacts||[]}}),{data:u,isLoading:j}=(0,A.I)({queryKey:["/api/persona-analytics"],enabled:!0}),v=(()=>{if(j||!u)return{lawyers:0,schools:0,employers:0,investors:0,total:0};let e=u||{};if("object"==typeof e&&"lawyers"in e)return{lawyers:e.lawyers||0,schools:e.schools||0,employers:e.employers||0,investors:e.investors||0,total:e.total||0};if(o&&Array.isArray(o)&&o.length>0){let e={lawyers:0,schools:0,employers:0,investors:0};return o.forEach(s=>{var a,t,l;let i=(null==(a=s.businessContext)?void 0:a.toLowerCase())||"",r=(null==(t=s.keyInterests)?void 0:t.join(" ").toLowerCase())||"",n=(null==(l=s.immigrationNeeds)?void 0:l.join(" ").toLowerCase())||"";"investor"===s.profileType||i.includes("investor")||i.includes("venture")||i.includes("funding")||n.includes("eb-5")?e.investors++:i.includes("education")||i.includes("university")||i.includes("school")||i.includes("academic")||r.includes("education")||n.includes("f-1")||n.includes("student")?e.schools++:i.includes("employer")||i.includes("hiring")||i.includes("hr")||i.includes("company")||i.includes("corporation")||n.includes("h1b")||n.includes("employment")?e.employers++:e.lawyers++}),{...e,total:e.lawyers+e.schools+e.employers+e.investors}}return{lawyers:0,schools:0,employers:0,investors:0,total:0}})(),N=[{id:"lawyers",icon:k.A,title:"Lawyers",count:v.lawyers,description:"Legal professionals seeking consultation services",color:"bg-blue-100 text-blue-800 border-blue-200",iconColor:"text-blue-600"},{id:"schools",icon:S.A,title:"Schools",count:v.schools,description:"Educational institutions and academic contacts",color:"bg-green-100 text-green-800 border-green-200",iconColor:"text-green-600"},{id:"employers",icon:R.A,title:"Employers",count:v.employers,description:"Companies needing H1B and employment visa services",color:"bg-purple-100 text-purple-800 border-purple-200",iconColor:"text-purple-600"},{id:"investors",icon:P.A,title:"Investors",count:v.investors,description:"High-net-worth individuals interested in EB-5",color:"bg-orange-100 text-orange-800 border-orange-200",iconColor:"text-orange-600"}],b=e=>{d(e),null==a||a(e)};return m?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Target Persona Selection"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading persona data from email analysis..."})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>(0,t.jsx)("div",{className:"h-32 bg-gray-200 animate-pulse rounded-lg"},e))})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2",children:[(0,t.jsx)(p.A,{className:"h-6 w-6"}),"Target Persona Selection"]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Choose the primary audience for lead strategy generation"}),v.total>0&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-4",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 text-blue-500"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["Based on analysis of ",v.total," email personas"]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:N.map(e=>{let s=e.icon,a=c===e.id;return(0,t.jsx)(i.Zp,{className:"cursor-pointer transition-all duration-200 hover:shadow-md ".concat(a?"ring-2 ring-blue-500 border-blue-500 shadow-md":"border-gray-200 hover:border-gray-300"),onClick:()=>b(e.id),children:(0,t.jsxs)(i.Wu,{className:"p-6 text-center space-y-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-xl mx-auto flex items-center justify-center ".concat(a?"bg-blue-600":e.color.split(" ")[0]),children:(0,t.jsx)(s,{className:"h-8 w-8 ".concat(a?"text-white":e.iconColor)})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-1",children:e.title}),(0,t.jsxs)(n.E,{variant:a?"default":"secondary",className:"text-lg font-bold px-3 py-1 ".concat(a?"bg-blue-600 text-white":""),children:[e.count," leads"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.description})]})},e.id)})}),0===v.total&&(0,t.jsx)(i.Zp,{className:"text-center py-12 bg-gray-50",children:(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsx)(g.A,{className:"h-12 w-12 text-gray-400 mx-auto"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Persona Data Available"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"To populate these persona categories with real data, analyze your email history first."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Go to ",(0,t.jsx)("strong",{children:"Email Personas"})," tab and click ",(0,t.jsx)("strong",{children:"Analyze Email History"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"This will scan your Gmail conversations and categorize contacts automatically"})]})]})}),v.total>0&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(p.A,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)("span",{className:"font-medium text-blue-900",children:"Persona Analysis Summary"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-semibold text-blue-900",children:v.lawyers}),(0,t.jsx)("div",{className:"text-blue-700",children:"Legal Consultations"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-semibold text-green-900",children:v.schools}),(0,t.jsx)("div",{className:"text-green-700",children:"Educational Contacts"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-semibold text-purple-900",children:v.employers}),(0,t.jsx)("div",{className:"text-purple-700",children:"Corporate Clients"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-semibold text-orange-900",children:v.investors}),(0,t.jsx)("div",{className:"text-orange-700",children:"Investment Inquiries"})]})]})]}),c&&v.total>0&&(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)(r.$,{onClick:()=>b(c),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-2",children:["Generate Strategy for ",null==(s=N.find(e=>e.id===c))?void 0:s.title]})})]})}var I=a(81630);function L(){let[e,s]=(0,l.useState)(!1),[a,A]=(0,l.useState)("lawyers"),[k,S]=(0,l.useState)({totalLeads:0,convertedLeads:0,responseRate:0,avgResponseTime:0,activeConversions:0,strategiesGenerated:0,conversionRate:0,emailQueue:0}),[R,P]=(0,l.useState)(!1),[L,D]=(0,l.useState)(!1),E=async()=>{try{let[e,s,a]=await Promise.all([fetch("/api/conversion/analytics").then(e=>e.json()),fetch("/api/dashboard/stats").then(e=>e.json()),fetch("/api/leads/with-responses").then(e=>e.json())]),t=e.metrics||{},l=parseInt(s.totalLeads)||0,i=t.uniqueLeadsResponded||0,r=t.responseRate||0,n=Array.isArray(a)?a.length:0;S({totalLeads:l,convertedLeads:t.estimatedConversions||0,responseRate:r,avgResponseTime:3,activeConversions:i,strategiesGenerated:n,conversionRate:Math.round(t.estimatedConversions/l*100)||0,emailQueue:Math.max(0,l-i)})}catch(e){console.error("Failed to fetch realistic conversion stats:",e)}},z=async()=>{P(!0);try{await (0,I.AT)(e?"/api/conversion/stop":"/api/conversion/start",{method:"POST"}),s(!e)}catch(e){console.error("Failed to toggle conversion:",e)}finally{P(!1)}},F=async e=>{var s;let t=null==(s=e.target.files)?void 0:s[0];if(t){D(!0);try{let e=new FormData;e.append("file",t),e.append("persona",a);let s=await fetch("/api/upload/leads",{method:"POST",body:e});s.ok?(await s.json(),await E()):console.error("Upload failed")}catch(e){console.error("Upload error:",e)}finally{D(!1),e.target&&(e.target.value="")}}};return(0,l.useEffect)(()=>{E();let e=setInterval(E,18e5);return()=>clearInterval(e)},[]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-2xl p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[(0,t.jsx)(x.A,{className:"w-8 h-8 mr-3"}),"AI-Powered Lead Strategy System"]}),(0,t.jsx)("p",{className:"text-blue-100 text-lg",children:"Automated persona-based lead analysis, strategy generation, and conversion tracking"})]}),(0,t.jsx)("div",{className:"flex items-center space-x-3",children:(0,t.jsxs)(n.E,{variant:"secondary",className:"bg-white/20 text-white border-white/30 px-4 py-2 animate-pulse",children:[(0,t.jsx)(m.A,{className:"w-4 h-4 mr-1"}),"AI Active"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl font-bold mb-1",children:k.totalLeads}),(0,t.jsx)("div",{className:"text-blue-100 text-sm",children:"Total Leads"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl font-bold mb-1",children:k.strategiesGenerated}),(0,t.jsx)("div",{className:"text-blue-100 text-sm",children:"Strategies Generated"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-4xl font-bold mb-1",children:[k.responseRate,"%"]}),(0,t.jsx)("div",{className:"text-blue-100 text-sm",children:"Response Rate"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-4xl font-bold mb-1",children:[k.conversionRate,"%"]}),(0,t.jsx)("div",{className:"text-blue-100 text-sm",children:"Conversion Rate"})]})]})]}),(0,t.jsxs)(o.tU,{defaultValue:"upload",className:"space-y-6",children:[(0,t.jsxs)(o.j7,{className:"grid w-full grid-cols-4",children:[(0,t.jsxs)(o.Xi,{value:"upload",className:"flex items-center",children:[(0,t.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Upload & Process"]}),(0,t.jsxs)(o.Xi,{value:"automation",className:"flex items-center",children:[(0,t.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Automation"]}),(0,t.jsxs)(o.Xi,{value:"personas",className:"flex items-center",children:[(0,t.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Personas"]}),(0,t.jsxs)(o.Xi,{value:"analytics",className:"flex items-center",children:[(0,t.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Analytics"]})]}),(0,t.jsxs)(o.av,{value:"upload",className:"space-y-6",children:[(0,t.jsx)(T,{onPersonaSelect:e=>A(e)}),(0,t.jsx)(i.Zp,{children:(0,t.jsxs)(i.Wu,{className:"p-8",children:[(0,t.jsxs)("div",{className:"border-3 border-dashed border-gray-300 rounded-2xl p-12 text-center hover:border-blue-400 hover:bg-blue-50 transition-all cursor-pointer",onClick:()=>{var e;return null==(e=document.getElementById("fileInput"))?void 0:e.click()},children:[(0,t.jsx)("input",{type:"file",id:"fileInput",accept:".csv,.xlsx",onChange:F,className:"hidden"}),(0,t.jsx)("div",{className:"text-6xl mb-6",children:"\uD83D\uDCCA"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Upload Lead Data"}),(0,t.jsx)("p",{className:"text-gray-600 mb-2",children:"Drop your CSV or Excel file here or click to browse"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Supports: .csv, .xlsx files"})]}),L&&(0,t.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"}),"Processing leads and generating strategies..."]})]})})]}),(0,t.jsx)(o.av,{value:"automation",className:"space-y-6",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center",children:[(0,t.jsx)(p.A,{className:"w-5 h-5 mr-2"}),"Conversion Automation Control"]}),(0,t.jsx)(i.BT,{children:"Manage automated lead conversion and AI response generation"})]}),(0,t.jsxs)(r.$,{onClick:z,disabled:R,variant:e?"destructive":"default",size:"lg",className:"px-6",children:[e?(0,t.jsx)(v.A,{className:"w-5 h-5 mr-2"}):(0,t.jsx)(N.A,{className:"w-5 h-5 mr-2"}),e?"Stop":"Start"," Automation"]})]})}),(0,t.jsxs)(i.Wu,{children:[e&&(0,t.jsxs)(d.Fc,{className:"mb-6",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)(d.TN,{children:"AI automation is active. The system is analyzing leads and generating personalized conversion strategies in real-time."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)(b.A,{className:"w-8 h-8 text-blue-600"}),(0,t.jsx)(n.E,{variant:"outline",className:"bg-white",children:"Active"})]}),(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:k.emailQueue}),(0,t.jsx)("div",{className:"text-sm text-blue-700",children:"Email Queue"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)(y.A,{className:"w-8 h-8 text-green-600"}),(0,t.jsx)(n.E,{variant:"outline",className:"bg-white",children:"Live"})]}),(0,t.jsx)("div",{className:"text-2xl font-bold text-green-900",children:k.convertedLeads}),(0,t.jsx)("div",{className:"text-sm text-green-700",children:"Converted Today"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)(x.A,{className:"w-8 h-8 text-purple-600"}),(0,t.jsx)(n.E,{variant:"outline",className:"bg-white",children:"AI"})]}),(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-900",children:k.strategiesGenerated}),(0,t.jsx)("div",{className:"text-sm text-purple-700",children:"AI Strategies"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)(f.A,{className:"w-8 h-8 text-orange-600"}),(0,t.jsx)(n.E,{variant:"outline",className:"bg-white",children:"Real-time"})]}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-orange-900",children:[k.avgResponseTime,"m"]}),(0,t.jsx)("div",{className:"text-sm text-orange-700",children:"Avg Response"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h4",{className:"font-semibold text-lg flex items-center",children:[(0,t.jsx)(w.A,{className:"w-5 h-5 mr-2"}),"Response Triggers"]}),(0,t.jsx)("div",{className:"space-y-3",children:[{label:"High urgency leads (AI Score > 8)",checked:!0},{label:"Citizenship applications",checked:!0},{label:"H1B/Work authorization",checked:!0},{label:"Family immigration cases",checked:!1}].map((e,s)=>(0,t.jsxs)("label",{className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",className:"mr-3 w-4 h-4",defaultChecked:e.checked}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.label})]},s))})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h4",{className:"font-semibold text-lg flex items-center",children:[(0,t.jsx)(m.A,{className:"w-5 h-5 mr-2"}),"Rate Limiting"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Max responses per hour"}),(0,t.jsx)("input",{type:"number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"50"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Delay between responses (seconds)"}),(0,t.jsx)("input",{type:"number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",defaultValue:"30"})]})]})]})]})]})]})}),(0,t.jsx)(o.av,{value:"personas",className:"space-y-6",children:(0,t.jsx)(T,{onPersonaSelect:e=>A(e)})}),(0,t.jsx)(o.av,{value:"analytics",className:"space-y-6",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center",children:[(0,t.jsx)(C.A,{className:"w-5 h-5 mr-2"}),"Performance Analytics"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"Overall Conversion Rate"}),(0,t.jsxs)("span",{className:"font-bold",children:[k.conversionRate,"%"]})]}),(0,t.jsx)(c.k,{value:k.conversionRate,className:"h-3"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"Response Coverage"}),(0,t.jsxs)("span",{className:"font-bold",children:[k.responseRate,"%"]})]}),(0,t.jsx)(c.k,{value:k.responseRate,className:"h-3"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-6 mt-8",children:[(0,t.jsxs)("div",{className:"text-center p-6 bg-green-50 rounded-xl",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:k.convertedLeads}),(0,t.jsx)("div",{className:"text-sm font-medium text-green-700",children:"Successful Conversions"})]}),(0,t.jsxs)("div",{className:"text-center p-6 bg-yellow-50 rounded-xl",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:k.activeConversions}),(0,t.jsx)("div",{className:"text-sm font-medium text-yellow-700",children:"In Progress"})]}),(0,t.jsxs)("div",{className:"text-center p-6 bg-blue-50 rounded-xl",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:k.totalLeads-k.convertedLeads-k.activeConversions}),(0,t.jsx)("div",{className:"text-sm font-medium text-blue-700",children:"Queued"})]})]})]})})]})})]}),(0,t.jsx)(i.Zp,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white mt-8 border-0",children:(0,t.jsx)(i.Wu,{className:"p-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl mb-4",children:"\uD83D\uDE80"}),(0,t.jsx)("h3",{className:"text-2xl font-bold mb-3",children:"Ready to Accelerate Your Immigration Success?"}),(0,t.jsx)("p",{className:"text-blue-100 mb-6 text-lg",children:"Book a personalized consultation to discuss your specific immigration strategy and get expert guidance."}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[(0,t.jsx)(r.$,{className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold px-8 py-3 text-lg",onClick:()=>window.open("https://calendly.com/bisivc/justiguide-demo","_blank"),children:"\uD83D\uDCC5 Book Consultation Call"}),(0,t.jsx)(r.$,{variant:"outline",className:"border-white text-white hover:bg-white hover:text-blue-600 font-semibold px-8 py-3",onClick:()=>window.open("https://www.justi.guide/get_started/","_blank"),children:"\uD83D\uDCDA Get Started Guide"})]}),(0,t.jsx)("p",{className:"text-blue-100 text-sm mt-4",children:"Direct access to immigration experts • Free initial consultation • Personalized strategy development"})]})})})]})}},81894:(e,s,a)=>{a.d(s,{A:()=>h});var t=a(95155),l=a(83209),i=a(67812),r=a(97003),n=a(42529),c=a(26983),d=a(6132),o=a(56154),x=a(12115),m=a(81630);function h(e){let{stats:s}=e,[a,h]=(0,x.useState)(null),[u,g]=(0,x.useState)(!1),j=async()=>{g(!0);try{let e=await (0,m.AT)("/api/monitoring/scan",{method:"POST",headers:{"Content-Type":"application/json"}});console.log("Manual scan result:",e),e.success?alert("Manual scan completed! ".concat(e.leadsFound||0," leads found. Check logs for details.")):alert("Scan failed: ".concat(e.message||"Unknown error"))}catch(e){console.error("Error triggering manual scan:",e),alert("Failed to trigger manual scan: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{g(!1)}},p=async e=>{if("facebook"===e||"instagram"===e){h(e);try{let s=await fetch("/api/test/".concat(e)),a=await s.json();console.log("".concat(e," test result:"),a)}catch(s){console.error("Error testing ".concat(e,":"),s)}finally{h(null)}}};return(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(l.ZB,{className:"text-lg font-semibold text-gray-900",children:"Platform Monitoring Status"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(r.$,{onClick:j,disabled:u,size:"sm",className:"flex items-center space-x-2","data-testid":"button-manual-scan",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:u?"Scanning...":"Manual Scan"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Manual Control"})]})]})]})}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-4",children:[{platform:"reddit",name:"Reddit Monitoring",description:"r/immigration, r/USCIS, r/h1b",icon:"fab fa-reddit",color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"},{platform:"linkedin",name:"LinkedIn Scanning",description:"Immigration professionals network",icon:"fab fa-linkedin",color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{platform:"facebook",name:"Facebook Groups",description:"Immigration discussion groups",icon:"fab fa-facebook",color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{platform:"instagram",name:"Instagram Posts",description:"Immigration-related content",icon:"fab fa-instagram",color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"},{platform:"tiktok",name:"TikTok Videos",description:"Immigration content & experiences",icon:"fab fa-tiktok",color:"text-black",bgColor:"bg-gray-50",borderColor:"border-gray-200"},{platform:"twitter",name:"Twitter Monitoring",description:"Immigration hashtags & keywords",icon:"fab fa-twitter",color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200"},{platform:"discord",name:"Discord Servers",description:"Immigration community servers",icon:"fab fa-discord",color:"text-indigo-600",bgColor:"bg-indigo-50",borderColor:"border-indigo-200"},{platform:"quora",name:"Quora Questions",description:"Immigration Q&A and expert answers",icon:"fab fa-quora",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}].map(e=>(e=>{var l;let o=null==s||null==(l=s.monitoring)?void 0:l.find(s=>s.platform===e.platform),x=(null==o?void 0:o.newPosts)||0,m=(null==o?void 0:o.status)||"active";return(0,t.jsx)("div",{className:"".concat(e.bgColor," p-4 rounded-lg border ").concat(e.borderColor),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("i",{className:"".concat(e.icon," ").concat(e.color," text-xl")}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(e=>{switch(e){case"active":return(0,t.jsx)(n.A,{className:"h-4 w-4 text-green-500"});case"pending":return(0,t.jsx)(c.A,{className:"h-4 w-4 text-blue-500"});case"limited":return(0,t.jsx)(d.A,{className:"h-4 w-4 text-yellow-500"});default:return(0,t.jsx)(d.A,{className:"h-4 w-4 text-red-500"})}})(m)]}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:e.description}),(0,t.jsxs)("p",{className:"text-xs font-medium mt-1 ".concat("active"===m?"text-green-600":"limited"===m?"text-yellow-600":"text-gray-600"),children:[(0,t.jsx)("span",{className:"inline-block w-2 h-2 rounded-full mr-1 ".concat("active"===m?"bg-green-500":"limited"===m?"bg-yellow-500":"bg-gray-400")}),"active"===m?"".concat(x," new posts in last hour"):"limited"===m?"Limited access":"Inactive monitoring"]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(e=>{let s={active:"bg-green-500 text-white",pending:"bg-blue-500 text-white",limited:"bg-yellow-500 text-white",inactive:"bg-red-500 text-white"};return(0,t.jsx)(i.E,{className:s[e]||s.inactive,children:{active:"Active",pending:"Pending",limited:"Limited",inactive:"Inactive"}[e]||"Unknown"})})(m),("facebook"===e.platform||"instagram"===e.platform)&&(0,t.jsx)(r.$,{size:"sm",variant:"outline",onClick:()=>p(e.platform),disabled:a===e.platform,className:"text-xs px-2 py-1 h-6",children:a===e.platform?"Testing...":"Test"})]})]})},e.platform)})(e))}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 text-blue-500 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"font-medium text-blue-900",children:"API Permissions Update"}),(0,t.jsx)("p",{className:"text-blue-700",children:"Facebook and Instagram permissions are being processed. Once approved, full monitoring and posting capabilities will be available."})]})]})})]})]})}}}]);