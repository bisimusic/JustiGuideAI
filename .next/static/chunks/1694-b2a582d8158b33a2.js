"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1694],{32894:(e,t,a)=>{a.d(t,{b:()=>d});var s=a(12115);a(47650);var r=a(32467),l=a(95155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=(0,r.TL)(`Primitive.${t}`),i=s.forwardRef((e,s)=>{let{asChild:r,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(r?a:t,{...i,ref:s})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),n=s.forwardRef((e,t)=>(0,l.jsx)(i.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var d=n},47321:(e,t,a)=>{a.d(t,{b:()=>o});var s=a(12115);a(47650);var r=a(32467),l=a(95155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=(0,r.TL)(`Primitive.${t}`),i=s.forwardRef((e,s)=>{let{asChild:r,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(r?a:t,{...i,ref:s})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),n="horizontal",d=["horizontal","vertical"],c=s.forwardRef((e,t)=>{var a;let{decorative:s,orientation:r=n,...c}=e,o=(a=r,d.includes(a))?r:n;return(0,l.jsx)(i.div,{"data-orientation":o,...s?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...c,ref:t})});c.displayName="Separator";var o=c},54664:(e,t,a)=>{a.d(t,{w:()=>n});var s=a(95155),r=a(12115),l=a(47321),i=a(25016);let n=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:n=!0,...d}=e;return(0,s.jsx)(l.b,{ref:t,decorative:n,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...d})});n.displayName=l.b.displayName},81729:(e,t,a)=>{a.d(t,{w:()=>w});var s=a(95155),r=a(12115),l=a(99776),i=a(22454),n=a(80549),d=a(81630),c=a(83209),o=a(97003),u=a(67812),m=a(90923),x=a(47507),h=a(33789),v=a(67001),g=a(90235),p=a(54664),j=a(28171),y=a(89715),b=a(1524),f=a(91761);let N=(0,a(71847).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var C=a(93499);function w(){var e;let t,{toast:a}=(0,j.dj)(),w=(0,l.jE)(),[k,S]=(0,r.useState)(""),[P,F]=(0,r.useState)(""),[T,E]=(0,r.useState)(""),[I,q]=(0,r.useState)(""),[A,O]=(0,r.useState)(""),[R,V]=(0,r.useState)(""),{data:J,isLoading:Z}=(0,i.I)({queryKey:["/api/content/substack/recommendations"],refetchInterval:!1}),{data:$,isLoading:z}=(0,i.I)({queryKey:["/api/content/templates"],refetchInterval:!1}),B=(0,n.n)({mutationFn:async e=>await (0,d.AT)("/api/content/substack/convert",{method:"POST",body:JSON.stringify(e)}),onSuccess:e=>{a({title:"Conversion Successful!",description:"Substack post converted to lead magnet: ".concat(e.magnetId)}),w.invalidateQueries({queryKey:["/api/lead-magnets"]}),S(""),F(""),E("")},onError:e=>{a({variant:"destructive",title:"Conversion Failed",description:e.message||"Failed to convert Substack post"})}}),D=(0,n.n)({mutationFn:async e=>await (0,d.AT)("/api/content/convert",{method:"POST",body:JSON.stringify(e)}),onSuccess:e=>{a({title:"Content Converted!",description:"Content converted to lead magnet: ".concat(e.magnetId)}),w.invalidateQueries({queryKey:["/api/lead-magnets"]}),q(""),O(""),V("")},onError:e=>{a({variant:"destructive",title:"Conversion Failed",description:e.message||"Failed to convert content"})}});if(Z||z)return(0,s.jsx)("div",{className:"p-6 max-w-6xl mx-auto",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,s.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),(0,s.jsx)("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]})});let L=(null==J?void 0:J.recommendedConversions)||[],U=(null==$?void 0:$.templates)||[];return(0,s.jsxs)("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Content Converter"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Transform your Substack content and other materials into high-converting lead magnets"})]}),(0,s.jsxs)(u.E,{variant:"secondary",className:"text-sm",children:[(null==J?void 0:J.totalPosts)||0," Posts Available"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)(c.Zp,{children:(0,s.jsx)(c.Wu,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(y.A,{className:"h-8 w-8 text-blue-600"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Posts"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:(null==J?void 0:J.totalPosts)||0})]})]})})}),(0,s.jsx)(c.Zp,{children:(0,s.jsx)(c.Wu,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(b.A,{className:"h-8 w-8 text-green-600"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"High-Value Candidates"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:L.length})]})]})})}),(0,s.jsx)(c.Zp,{children:(0,s.jsx)(c.Wu,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(f.A,{className:"h-8 w-8 text-purple-600"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Potential Value"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:(t=(null==J?void 0:J.potentialLeadValue)||0,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t))})]})]})})})]}),(0,s.jsxs)(m.tU,{defaultValue:"substack",className:"w-full",children:[(0,s.jsxs)(m.j7,{className:"grid w-full grid-cols-2",children:[(0,s.jsx)(m.Xi,{value:"substack",children:"Substack Conversion"}),(0,s.jsx)(m.Xi,{value:"custom",children:"Custom Content"})]}),(0,s.jsx)(m.av,{value:"substack",className:"space-y-6",children:(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{children:(0,s.jsxs)(c.ZB,{className:"flex items-center",children:[(0,s.jsx)(N,{className:"h-5 w-5 mr-2"}),"Convert Substack Posts"]})}),(0,s.jsx)(c.Wu,{className:"space-y-4",children:0===L.length?(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No high-value conversion candidates found. All posts may already be converted or need manual review."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid gap-4",children:L.slice(0,5).map(e=>(0,s.jsx)("div",{className:"p-4 border rounded-lg cursor-pointer transition-colors ".concat(k===e.post.id?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-gray-200 dark:border-gray-700 hover:border-gray-300"),onClick:()=>S(e.post.id),"data-testid":"post-candidate-".concat(e.post.id),children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",children:e.post.title}),e.post.subtitle&&(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.post.subtitle}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,s.jsxs)(u.E,{variant:"outline",children:["Score: ",e.conversionScore,"/10"]}),(0,s.jsx)(u.E,{variant:"secondary",children:e.suggestedCategory}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[e.post.readingTime," min read"]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:e.reasoning})]}),(0,s.jsx)(o.$,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),window.open(e.post.url,"_blank")},"data-testid":"view-post-".concat(e.post.id),children:(0,s.jsx)(C.A,{className:"h-4 w-4"})})]})},e.post.id))}),(0,s.jsx)(p.w,{}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(g.J,{htmlFor:"custom-title",children:"Custom Title (Optional)"}),(0,s.jsx)(h.p,{id:"custom-title",placeholder:"Override default title...",value:P,onChange:e=>F(e.target.value),"data-testid":"input-custom-title"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(g.J,{htmlFor:"custom-category",children:"Custom Category (Optional)"}),(0,s.jsxs)(x.l6,{value:T,onValueChange:E,children:[(0,s.jsx)(x.bq,{"data-testid":"select-custom-category",children:(0,s.jsx)(x.yv,{placeholder:"Override suggested category..."})}),(0,s.jsxs)(x.gC,{children:[(0,s.jsx)(x.eb,{value:"h1b",children:"H1B"}),(0,s.jsx)(x.eb,{value:"eb5",children:"EB-5"}),(0,s.jsx)(x.eb,{value:"greencard",children:"Green Card"}),(0,s.jsx)(x.eb,{value:"uscis",children:"USCIS"}),(0,s.jsx)(x.eb,{value:"family",children:"Family"}),(0,s.jsx)(x.eb,{value:"general",children:"General"})]})]})]})]}),(0,s.jsx)(o.$,{onClick:()=>{if(!k)return void a({variant:"destructive",title:"Selection Required",description:"Please select a Substack post to convert"});B.mutate({postId:k,customTitle:P||void 0,customCategory:T||void 0})},disabled:!k||B.isPending,className:"w-full","data-testid":"button-convert-post",children:B.isPending?"Converting...":"Convert Selected Post"})]})})]})}),(0,s.jsx)(m.av,{value:"custom",className:"space-y-6",children:(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{children:(0,s.jsx)(c.ZB,{children:"Convert Custom Content"})}),(0,s.jsxs)(c.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(g.J,{htmlFor:"custom-content",children:"Source Content"}),(0,s.jsx)(v.T,{id:"custom-content",placeholder:"Paste your content here (blog post, article, etc.)...",value:I,onChange:e=>q(e.target.value),rows:8,"data-testid":"textarea-custom-content"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(g.J,{htmlFor:"target-category",children:"Target Category"}),(0,s.jsxs)(x.l6,{value:A,onValueChange:O,children:[(0,s.jsx)(x.bq,{"data-testid":"select-target-category",children:(0,s.jsx)(x.yv,{placeholder:"Select category..."})}),(0,s.jsxs)(x.gC,{children:[(0,s.jsx)(x.eb,{value:"h1b",children:"H1B"}),(0,s.jsx)(x.eb,{value:"eb5",children:"EB-5"}),(0,s.jsx)(x.eb,{value:"greencard",children:"Green Card"}),(0,s.jsx)(x.eb,{value:"uscis",children:"USCIS"}),(0,s.jsx)(x.eb,{value:"family",children:"Family"}),(0,s.jsx)(x.eb,{value:"general",children:"General"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(g.J,{htmlFor:"template-select",children:"Template (Optional)"}),(0,s.jsxs)(x.l6,{value:R,onValueChange:V,children:[(0,s.jsx)(x.bq,{"data-testid":"select-template",children:(0,s.jsx)(x.yv,{placeholder:"Choose template..."})}),(0,s.jsx)(x.gC,{children:U.map(e=>(0,s.jsx)(x.eb,{value:e.id,children:e.name},e.id))})]})]})]}),R&&(0,s.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Template Structure:"}),(0,s.jsx)("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:null==(e=U.find(e=>e.id===R))?void 0:e.structure.map((e,t)=>(0,s.jsxs)("li",{children:["â€¢ ",e]},t))})]}),(0,s.jsx)(o.$,{onClick:()=>{if(!I.trim()||!A)return void a({variant:"destructive",title:"Content Required",description:"Please provide content and select a target category"});D.mutate({sourceContent:I,targetCategory:A,template:R||void 0})},disabled:!I.trim()||!A||D.isPending,className:"w-full","data-testid":"button-convert-content",children:D.isPending?"Converting...":"Convert Content"})]})]})})]})]})}}}]);