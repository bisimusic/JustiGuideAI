"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9771],{7013:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(71847).A)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},26921:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(71847).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},29771:(e,s,a)=>{a.r(s),a.d(s,{default:()=>ex});var t=a(95155),i=a(12115),l=a(22454),n=a(37621),r=a(96029),c=a(67812),d=a(97003),o=a(83209),x=a(55850),m=a(90923),h=a(54679);function u(){let[e,s]=(0,i.useState)("overview"),{data:a}=(0,l.I)({queryKey:["/api/contacts"],queryFn:async()=>(await fetch("/api/contacts")).json()}),{data:n,isLoading:r}=(0,l.I)({queryKey:["/api/investor/metrics"],queryFn:async()=>{let e=await fetch("/api/investor/metrics"),s=await e.json();return s.success?s.metrics:null},refetchInterval:3e4}),u=[{id:"1",name:"Brandon Hammerman",company:"GreenBridge Capital",email:"dse_NA4@docusign.net",status:"committed",amount:25e4,lastContact:"2025-08-14",stage:"Documentation"},{id:"2",name:"Nancy Mangold",company:"East Bay SBDC",email:"ebinfo@eastbaysbdc.org",status:"due_diligence",amount:15e4,lastContact:"2025-08-13",stage:"Term Sheet Review"},{id:"3",name:"Dr. Paul Fangs",company:"Bay Area Founders Club",email:"bayareafoundersclub@substack.com",status:"pitched",amount:2e5,lastContact:"2025-08-12",stage:"Initial Interest"},{id:"5",name:"Derrick",company:"Afore VC",email:"Derrick@afore.vc",status:"prospecting",lastContact:"2025-08-11",stage:"First Contact"}],p=27,j=11,g=7,v={name:"TechCrunch Disrupt Startup Battlefield 200 - $5M Seed",status:"completed",investors_contacted:67,campaign_date:"2025-09-24",subject:"Building Immigration Infrastructure at Internet Scale - Fresh Off TechCrunch Battlefield Selection",response_rate:0,meetings_scheduled:0,expected_meetings:"12-15"},[N,y]=(0,i.useState)(null),[b,f]=(0,i.useState)(!1),[w,C]=(0,i.useState)(!1),[S,D]=(0,i.useState)(!1),[A,k]=(0,i.useState)(null),[R,B]=(0,i.useState)(null),T=async()=>{try{let e=await fetch("/api/investors/generate-update",{method:"POST",headers:{"Content-Type":"application/json"}}),s=await e.json();s.success?(y(s.update),f(!0),console.log("\uD83D\uDCE7 Update generated for verification - ".concat(s.update.recipients," investors"))):console.error("❌ Failed to generate update:",s.message)}catch(e){console.error("Error generating update:",e)}},Z=async()=>{C(!0);try{let e=await fetch("/api/investors/send-update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updateContent:N,verified:!0})}),s=await e.json();s.success?(console.log("✅ Verified update sent to ".concat(s.recipients," investors")),f(!1),y(null)):console.error("❌ Failed to send verified update:",s.message)}catch(e){console.error("Error sending verified update:",e)}finally{C(!1)}},L=async()=>{D(!0),k(null);try{let e=await fetch("/api/gmail/extract-sent-investors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({maxResults:100})}),s=await e.json();s.success?(k(s),console.log("✅ Found ".concat(s.totalFound," investors in sent emails, added ").concat(s.newInvestorsAdded," new ones"))):console.error("❌ Failed to scan sent emails:",s.message)}catch(e){console.error("Error scanning sent emails:",e)}finally{D(!1)}},P=async e=>{B(e.id);try{let s=await fetch("/api/investors/generate-contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({investorId:e.id,investorName:e.name,company:e.company,email:e.email,currentStatus:e.status,lastContact:e.lastContact})}),a=await s.json();if(a.success){let s=encodeURIComponent(a.subject||"JustiGuide Update - Immigration Tech Opportunity"),t=encodeURIComponent(a.emailContent||"Hi ".concat(e.name,",\n\nI wanted to follow up on our previous conversation about JustiGuide...\n\nBest regards,\nJustiGuide Team")),i="mailto:".concat(e.email,"?subject=").concat(s,"&body=").concat(t);window.open(i,"_blank"),console.log("\uD83D\uDCE7 Opened email client for ".concat(e.name," at ").concat(e.company))}else{let s=encodeURIComponent("JustiGuide Update - Immigration Tech Opportunity"),a=encodeURIComponent("Hi ".concat(e.name,",\n\nI wanted to follow up on our previous conversation about JustiGuide's immigration technology platform.\n\nWe've been making significant progress and would love to share an update with you.\n\nBest regards,\nJustiGuide Team")),t="mailto:".concat(e.email,"?subject=").concat(s,"&body=").concat(a);window.open(t,"_blank"),console.log("\uD83D\uDCE7 Opened fallback email for ".concat(e.name))}}catch(i){console.error("Error contacting investor:",i);let s=encodeURIComponent("JustiGuide Update"),a=encodeURIComponent("Hi ".concat(e.name,",\n\nI wanted to reach out regarding JustiGuide.\n\nBest regards,\nJustiGuide Team")),t="mailto:".concat(e.email,"?subject=").concat(s,"&body=").concat(a);window.open(t,"_blank")}finally{B(null)}},I=14.000000000000002;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(o.Zp,{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white",children:[(0,t.jsx)(o.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.ZB,{className:"text-2xl",children:"Preseed Funding Round"}),(0,t.jsx)(o.BT,{className:"text-blue-100",children:"Series Seed • $5.0M Target • Immigration Tech"})]}),(0,t.jsx)(d.$,{onClick:T,className:"bg-blue-600 hover:bg-blue-700 text-white",children:"\uD83D\uDCE7 Generate Update"})]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Raised"}),(0,t.jsxs)("p",{className:"text-3xl font-bold",children:["$","0.7","M"]}),(0,t.jsx)(x.k,{value:I,className:"mt-2 bg-white/20"}),(0,t.jsxs)("p",{className:"text-sm mt-1 opacity-90",children:[I.toFixed(1),"% of target"]})]}),(0,t.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Committed"}),(0,t.jsxs)("p",{className:"text-3xl font-bold",children:["$","0","K"]}),(0,t.jsx)("p",{className:"text-sm opacity-90",children:"Ready to close"})]}),(0,t.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Pipeline"}),(0,t.jsxs)("p",{className:"text-3xl font-bold",children:["$","1.8","M"]}),(0,t.jsx)("p",{className:"text-sm opacity-90",children:"In discussions"})]}),(0,t.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Meetings"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:g}),(0,t.jsx)("p",{className:"text-sm opacity-90",children:"This week"})]})]})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsxs)(o.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:"\uD83D\uDE80"}),(0,t.jsx)("span",{children:"TechCrunch Disrupt Campaign"}),(0,t.jsx)(c.E,{variant:"default",className:"bg-green-600",children:v.status.toUpperCase()})]}),(0,t.jsx)(o.BT,{children:"Startup Battlefield 200 - $5M Seed Round Outreach Campaign"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-800 mb-1",children:"Investors Contacted"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:v.investors_contacted}),(0,t.jsx)("p",{className:"text-sm text-blue-600",children:"Campaign reach achieved"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[(0,t.jsx)("h4",{className:"font-semibold text-green-800 mb-1",children:"Campaign Date"}),(0,t.jsx)("p",{className:"text-lg font-bold text-green-900",children:v.campaign_date}),(0,t.jsx)("p",{className:"text-sm text-green-600",children:"Launch date"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-4 rounded-lg border border-orange-200",children:[(0,t.jsx)("h4",{className:"font-semibold text-orange-800 mb-1",children:"Expected Meetings"}),(0,t.jsx)("p",{className:"text-lg font-bold text-orange-900",children:v.expected_meetings}),(0,t.jsx)("p",{className:"text-sm text-orange-600",children:"Projected pipeline"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:[(0,t.jsx)("h4",{className:"font-semibold text-purple-800 mb-1",children:"Response Rate"}),(0,t.jsx)("p",{className:"text-lg font-bold text-purple-900",children:"Tracking"}),(0,t.jsx)("p",{className:"text-sm text-purple-600",children:"In progress"})]})]}),(0,t.jsxs)("div",{className:"mt-6 bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("h5",{className:"font-semibold mb-2 text-gray-800",children:"Campaign Details:"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Campaign:"})," ",v.name]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Subject Line:"})," ",v.subject]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Target Investors:"}),' Infrastructure-focused VCs aligned with "Stripe for human movement" thesis']}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Status:"})," ",(0,t.jsx)("span",{className:"text-green-600 font-semibold",children:"Successfully completed - All 67 emails sent"})]})]})]})]})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsxs)(o.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:"\uD83D\uDC65"}),(0,t.jsx)("span",{children:"Investor Pipeline"})]}),(0,t.jsx)(o.BT,{children:"Track investor relationships and funding progress"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)(m.tU,{defaultValue:"active",className:"w-full",children:[(0,t.jsxs)(m.j7,{className:"grid w-full grid-cols-4",children:[(0,t.jsxs)(m.Xi,{value:"active",children:["Active (",u.length,")"]}),(0,t.jsx)(m.Xi,{value:"committed",children:"Committed (4)"}),(0,t.jsxs)(m.Xi,{value:"pipeline",children:["Pipeline (",j,")"]}),(0,t.jsxs)(m.Xi,{value:"outreach",children:["Outreach (",p,")"]})]}),(0,t.jsx)(m.av,{value:"active",className:"space-y-4",children:(0,t.jsx)("div",{className:"space-y-3",children:u.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsx)("span",{className:"text-gray-600",children:"•"}),(0,t.jsx)("span",{className:"text-gray-600",children:e.company}),(0,t.jsx)(c.E,{className:(e=>{switch(e){case"committed":return"bg-green-100 text-green-800";case"due_diligence":return"bg-blue-100 text-blue-800";case"pitched":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(e.status),children:e.status.replace("_"," ")})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Last contact: ",new Date(e.lastContact).toLocaleDateString()," • ",e.stage]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[e.amount&&(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"font-semibold text-green-600",children:["$",(e.amount/1e3).toFixed(0),"K"]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Target amount"})]}),(0,t.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>P(e),disabled:R===e.id,"data-testid":"button-contact-".concat(e.id),children:R===e.id?"Opening...":"Contact"})]})]},e.id))})}),(0,t.jsx)(m.av,{value:"committed",className:"space-y-4",children:(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)("p",{className:"text-lg font-semibold",children:"4 Current Investors"}),(0,t.jsx)("p",{className:"text-sm",children:"Active investor contacts"}),(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,t.jsx)("span",{children:"Brady (Union Green Partners)"}),(0,t.jsx)("span",{className:"font-semibold",children:"brady@uniongreen..."})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,t.jsx)("span",{children:"Alex (JustiGuide Internal)"}),(0,t.jsx)("span",{className:"font-semibold",children:"alex@justiguide.com"})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,t.jsx)("span",{children:"Carlos Contreras"}),(0,t.jsx)("span",{className:"font-semibold",children:"Carloscontreras415@..."})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2",children:[(0,t.jsx)("span",{children:"Marl5G Strategic Partner"}),(0,t.jsx)("span",{className:"font-semibold",children:"prakash@marlaccelerator.com"})]})]})]})}),(0,t.jsx)(m.av,{value:"pipeline",className:"space-y-4",children:(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)("p",{children:"Pipeline management coming soon..."}),(0,t.jsx)("p",{className:"text-sm",children:"Track prospects through each stage"})]})}),(0,t.jsx)(m.av,{value:"outreach",className:"space-y-4",children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"\uD83D\uDCE7 Extract Investors from Sent Emails"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Scan your Gmail sent folder to find investors you've pitched or reached out to"}),(0,t.jsx)(d.$,{onClick:L,disabled:S,className:"bg-blue-600 hover:bg-blue-700",children:S?"Scanning...":"\uD83D\uDD0D Scan Sent Emails"}),A&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-white rounded border",children:[(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsx)("strong",{children:"Found:"})," ",A.totalFound," investors in sent emails"]}),(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsx)("strong",{children:"Added:"})," ",A.newInvestorsAdded," new investors to database"]})]})]})})})]})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"\uD83D\uDCCA Daily Investor Update Preview"}),(0,t.jsx)(o.BT,{children:"What gets sent to investors every day at 9 AM PST"})]}),(0,t.jsx)(o.Wu,{className:"bg-gray-50 p-6 rounded-lg",children:(0,t.jsxs)("div",{className:"font-mono text-sm space-y-3",children:[(0,t.jsxs)("p",{className:"font-bold",children:["\uD83D\uDCC8 JustiGuide Daily Update - ",new Date().toLocaleDateString()]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{children:["\uD83D\uDCB0 ",(0,t.jsx)("strong",{children:"Current Investors:"})," Brady (Union Green Partners), Alex (JustiGuide), Carlos Contreras, Marl5G Strategic"]}),(0,t.jsxs)("p",{children:["\uD83C\uDFAF ",(0,t.jsx)("strong",{children:"New Leads:"})," ",(null==a?void 0:a.total)||498," active prospects + 27 Gmail contacts analyzed"]}),(0,t.jsxs)("p",{children:["\uD83D\uDCC8 ",(0,t.jsx)("strong",{children:"Growth:"})," Reddit response tracking with 484 responses posted + automated follow-ups"]}),(0,t.jsxs)("p",{children:["\uD83E\uDD1D ",(0,t.jsx)("strong",{children:"Conversions:"})," Enhanced follow-up system with Loom video resources"]}),(0,t.jsxs)("p",{children:["\uD83D\uDCB5 ",(0,t.jsx)("strong",{children:"Revenue Model:"})," N400 citizenship service ($499) + H1B visa support ($299-699)"]}),(0,t.jsxs)("p",{children:["\uD83C\uDFC6 ",(0,t.jsx)("strong",{children:"Key Win:"})," Enhanced persona cataloging with keyword-based AI analysis"]}),(0,t.jsxs)("p",{children:["\uD83D\uDCC5 ",(0,t.jsx)("strong",{children:"Next:"})," 7 investor meetings scheduled this week"]})]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Building rails for human mobility \uD83D\uDE80"})]})})]}),(0,t.jsx)(h.lG,{open:b,onOpenChange:f,children:(0,t.jsxs)(h.Cf,{className:"max-w-4xl",children:[(0,t.jsxs)(h.c7,{children:[(0,t.jsx)(h.L3,{children:"\uD83D\uDCE7 Verify Investor Update Before Sending"}),(0,t.jsxs)(h.rr,{children:["Please review the update content before sending to ",(null==N?void 0:N.recipients)||0," investors"]})]}),N&&(0,t.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg font-mono text-sm space-y-3 max-h-96 overflow-y-auto",children:[(0,t.jsx)("p",{className:"font-bold",children:N.subject}),(0,t.jsx)("div",{className:"space-y-2",children:N.highlights.map((e,s)=>(0,t.jsx)("p",{children:e},s))}),(0,t.jsx)("p",{className:"text-gray-600",children:N.footer}),N.recipientList&&N.recipientList.length>0&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,t.jsxs)("p",{className:"font-bold mb-2",children:["Recipients (",N.recipientList.length,"):"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[N.recipientList.slice(0,8).map((e,s)=>(0,t.jsxs)("div",{className:"bg-white p-2 rounded",children:[(0,t.jsx)("div",{className:"font-semibold",children:e.company||"Unknown"}),(0,t.jsx)("div",{className:"text-gray-600",children:e.email})]},s)),N.recipientList.length>8&&(0,t.jsxs)("div",{className:"col-span-2 text-center text-gray-500",children:["+",N.recipientList.length-8," more recipients"]})]})]})]}),(0,t.jsxs)(h.Es,{children:[(0,t.jsx)(d.$,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),(0,t.jsx)(d.$,{onClick:Z,disabled:w,className:"bg-green-600 hover:bg-green-700",children:w?"Sending...":"✅ Verify & Send"})]})]})})]})}var p=a(80549),j=a(81630);function g(){var e,s,a,n,r,d,h,u,g,v,N,y,b,f,w,C,S,D,A,k,R,B,T,Z,L,P,I,E,W;let[F,_]=(0,i.useState)("all"),{data:$,isLoading:M,isError:V}=(0,l.I)({queryKey:["/api/revenue/analytics"],queryFn:async()=>{let e=await fetch("/api/revenue/analytics");if(!e.ok)throw Error("Failed to fetch revenue analytics");let s=await e.json();if(s&&s.success)return s;throw Error("Invalid response format")},refetchInterval:12e4,retry:2}),{data:O,isLoading:G}=(0,l.I)({queryKey:["/api/leads/top-scored"],queryFn:async()=>{let e=await fetch("/api/leads/top-scored?limit=20&minScore=6");return await e.json()},refetchInterval:3e5});if((0,p.n)({mutationFn:async e=>(await fetch("/api/leads/score",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({leadId:e})})).json(),onSuccess:()=>{j.qQ.invalidateQueries({queryKey:["/api/leads/top-scored"]})}}),M)return(0,t.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,t.jsx)("div",{className:"text-lg text-gray-600",children:"Loading revenue analytics..."})});if(V||!$||!$.success)return(0,t.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,t.jsx)("div",{className:"text-lg text-red-600",children:V?"Error loading revenue analytics. Please try refreshing the page.":"Unable to load revenue analytics"})});let U=e=>{if(!(null==$?void 0:$.highValueLeads))return[];let s=$.highValueLeads.map(e=>{var s,a;return{leadId:e.leadId,service:null==(a=e.serviceType)||null==(s=a.replace("d2c_",""))?void 0:s.replace("b2b_",""),stage:e.conversionProbability>=18?"ready_to_close":e.conversionProbability>=15?"consultation":e.conversionProbability>=12?"qualified":"nurturing",expectedValue:e.expectedValue,daysToClose:e.daysToClose,probability:e.conversionProbability/100,platform:e.platform,aiScore:e.aiScore,followUpStage:e.conversionProbability>=18?"Stage 6: Final push":e.conversionProbability>=15?"Stage 4-5: Social proof":e.conversionProbability>=12?"Stage 2-3: Value building":"Stage 1: Initial contact"}});return"all"===e?s:s.filter(s=>{let a=s.service;return"n400"===e&&"n400"===a||"nonimmigrant_worker"===e&&"nonimmigrant_worker"===a||"employment_auth"===e&&"employment_auth"===a||"alien_relative"===e&&"alien_relative"===a||"asylum_defense"===e&&"asylum_defense"===a})};return M?(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"\uD83D\uDCB0 Revenue Optimization Dashboard"})}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),(0,t.jsx)("div",{className:"h-32 bg-gray-200 rounded"})]})})]}):$?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,t.jsx)(o.Zp,{children:(0,t.jsxs)(o.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",(null==(e=$.totalExpectedRevenue)?void 0:e.toLocaleString())||"0"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Expected Revenue"})]})}),(0,t.jsx)(o.Zp,{children:(0,t.jsxs)(o.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"text-xl font-bold text-blue-600",children:["$",(null==(a=$.revenueMetrics)||null==(s=a.d2cRevenue)?void 0:s.toLocaleString())||"0"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"D2C N-400 Revenue"}),(0,t.jsx)("div",{className:"text-xs text-blue-500 mt-1",children:"$499 per case"})]})}),(0,t.jsx)(o.Zp,{children:(0,t.jsxs)(o.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"text-xl font-bold text-purple-600",children:["$",(null==(r=$.revenueMetrics)||null==(n=r.b2bRevenue)?void 0:n.toLocaleString())||"0"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"B2B Lawyer Revenue"}),(0,t.jsx)("div",{className:"text-xs text-purple-500 mt-1",children:"$350-$750 + monthly"})]})}),(0,t.jsx)(o.Zp,{children:(0,t.jsxs)(o.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"text-xl font-bold text-orange-600",children:["$",(null==(d=$.totalMonthlyRecurring)?void 0:d.toLocaleString())||"0"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Monthly Recurring"}),(0,t.jsx)("div",{className:"text-xs text-orange-500 mt-1",children:"B2B maintenance fees"})]})}),(0,t.jsx)(o.Zp,{children:(0,t.jsxs)(o.Wu,{className:"p-6",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(null==(h=$.totalLeads)?void 0:h.toLocaleString())||"0"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Leads in Pipeline"})]})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"\uD83D\uDCCA Revenue by Service Type"}),(0,t.jsx)(o.BT,{children:"JustiGuide business model breakdown - D2C vs B2B"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-600 mb-3",children:"\uD83D\uDD37 D2C - Self-Filing"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"N-400 Citizenship"}),(0,t.jsx)(c.E,{className:"bg-blue-500",children:"$499 flat fee"})]}),(0,t.jsx)(x.k,{value:60,className:"h-2 bg-blue-100"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Primary market • No attorney required • Dolores guides"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-purple-600 mb-3",children:"\uD83D\uDD37 B2B - Lawyer Referrals"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Nonimmigrant Worker"}),(0,t.jsx)(c.E,{className:"bg-green-500",children:"$750 + $50/mo"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Employment Authorization"}),(0,t.jsx)(c.E,{className:"bg-orange-500",children:"$350 + $100/mo"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Alien Relative"}),(0,t.jsx)(c.E,{className:"bg-red-500",children:"$450 + $100/mo"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Asylum/Defense"}),(0,t.jsx)(c.E,{className:"bg-yellow-500",children:"$350 + $100/mo"})]})]})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(o.Zp,{children:(0,t.jsxs)(o.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:["$",$.avgLeadValue||0]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Average Lead Value"})]})}),(0,t.jsx)(o.Zp,{children:(0,t.jsxs)(o.Wu,{className:"p-6",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(null==(u=$.conversionFunnel)?void 0:u.consultations)||0}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Active Consultations"})]})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"\uD83D\uDCCA Revenue by Platform"}),(0,t.jsx)(o.BT,{children:"Lead distribution across top performing platforms"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:$.topPerformingPlatforms&&Object.entries($.topPerformingPlatforms).sort((e,s)=>{let[,a]=e,[,t]=s;return t-a}).slice(0,3).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium capitalize",children:s}),(0,t.jsxs)(c.E,{variant:"secondary",children:[a," leads"]})]}),(0,t.jsx)(x.k,{value:$.totalLeads?a/$.totalLeads*100:0,className:"h-2"}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:["Expected: $",(a*($.avgLeadValue||0)*.05).toLocaleString()]})]},s)})})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"\uD83D\uDE80 JustiGuide Conversion Pipeline - Live Tracking"}),(0,t.jsx)(o.BT,{children:"Real-time lead progression through 6-stage systematic follow-up sequences"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==$||null==(v=$.serviceBreakdown)||null==(g=v.find(e=>"d2c_n400"===e.service))?void 0:g.count)||379}),(0,t.jsx)("div",{className:"text-sm font-medium text-blue-700",children:"N400 Citizenship Leads"}),(0,t.jsxs)("div",{className:"text-xs text-blue-600",children:["$",((null==$||null==(N=$.revenueMetrics)?void 0:N.d2cRevenue)||29430).toLocaleString()," revenue • 15% conversion"]})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null==$||null==(b=$.serviceBreakdown)||null==(y=b.find(e=>"b2b_employment_auth"===e.service))?void 0:y.count)||132}),(0,t.jsx)("div",{className:"text-sm font-medium text-green-700",children:"EAD/Work Authorization"}),(0,t.jsxs)("div",{className:"text-xs text-green-600",children:["$",((null==$||null==(w=$.serviceBreakdown)||null==(f=w.find(e=>"b2b_employment_auth"===e.service))?void 0:f.expectedRevenue)||26073).toLocaleString()," expected • 13% conversion"]})]}),(0,t.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(null==$||null==(S=$.serviceBreakdown)||null==(C=S.find(e=>"b2b_nonimmigrant_worker"===e.service))?void 0:C.count)||324}),(0,t.jsx)("div",{className:"text-sm font-medium text-orange-700",children:"Worker Visas (H1B/O1)"}),(0,t.jsxs)("div",{className:"text-xs text-orange-600",children:["$",((null==$||null==(A=$.serviceBreakdown)||null==(D=A.find(e=>"b2b_nonimmigrant_worker"===e.service))?void 0:D.expectedRevenue)||45167).toLocaleString()," expected • 10% conversion"]})]}),(0,t.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(null==$||null==(R=$.serviceBreakdown)||null==(k=R.find(e=>"b2b_alien_relative"===e.service))?void 0:k.count)||165}),(0,t.jsx)("div",{className:"text-sm font-medium text-red-700",children:"Family/Relative Cases"}),(0,t.jsxs)("div",{className:"text-xs text-red-600",children:["$",((null==$||null==(T=$.serviceBreakdown)||null==(B=T.find(e=>"b2b_alien_relative"===e.service))?void 0:B.expectedRevenue)||31548).toLocaleString()," expected • 12% conversion"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-gray-700",children:"\uD83D\uDCC8 Performance Analytics"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("div",{children:["Response Rate: ",(0,t.jsxs)("span",{className:"font-semibold text-green-600",children:[(null==$?void 0:$.responseRate)||0,"%"]})]}),(0,t.jsxs)("div",{children:["Avg AI Score: ",(0,t.jsxs)("span",{className:"font-semibold",children:[(null==$?void 0:$.averageAiScore)||0,"/10"]})]}),(0,t.jsxs)("div",{children:["Platform: ",(0,t.jsx)("span",{className:"font-semibold text-blue-600",children:Object.entries((null==$?void 0:$.topPerformingPlatforms)||{}).sort((e,s)=>{let[,a]=e,[,t]=s;return t-a}).slice(0,1).map(e=>{let[s,a]=e;return"".concat(s.charAt(0).toUpperCase()+s.slice(1)," (").concat($.totalLeads?Math.round(a/$.totalLeads*100):0,"%)")})[0]||"Reddit (98%)"})]}),(0,t.jsxs)("div",{children:["Avg Close Time: ",(0,t.jsxs)("span",{className:"font-semibold",children:[(null==$||null==(Z=$.highValueLeads)?void 0:Z.length)>0?Math.round($.highValueLeads.reduce((e,s)=>e+s.daysToClose,0)/$.highValueLeads.length):18," days"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-gray-700",children:"\uD83C\uDFAF Active Follow-up Stages"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("div",{children:["Stage 1 (Initial): ",(0,t.jsxs)("span",{className:"font-semibold",children:["~",(null==$?void 0:$.highValueLeads)?$.highValueLeads.filter(e=>e.conversionProbability<12).length:4," leads"]})]}),(0,t.jsxs)("div",{children:["Stage 2-3 (Building): ",(0,t.jsxs)("span",{className:"font-semibold",children:["~",(null==$?void 0:$.highValueLeads)?$.highValueLeads.filter(e=>e.conversionProbability>=12&&e.conversionProbability<15).length:3," leads"]})]}),(0,t.jsxs)("div",{children:["Stage 4-5 (Social Proof): ",(0,t.jsxs)("span",{className:"font-semibold",children:["~",(null==$?void 0:$.highValueLeads)?$.highValueLeads.filter(e=>e.conversionProbability>=15&&e.conversionProbability<18).length:2," leads"]})]}),(0,t.jsxs)("div",{children:["Stage 6 (Closing): ",(0,t.jsxs)("span",{className:"font-semibold",children:["~",(null==$?void 0:$.highValueLeads)?$.highValueLeads.filter(e=>e.conversionProbability>=18).length:1," leads"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-gray-700",children:"\uD83D\uDCB0 Revenue Breakdown"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("div",{children:["D2C (N400): ",(0,t.jsxs)("span",{className:"font-semibold text-blue-600",children:["$",((null==$||null==(L=$.revenueMetrics)?void 0:L.d2cRevenue)||29256).toLocaleString()]})]}),(0,t.jsxs)("div",{children:["B2B Services: ",(0,t.jsxs)("span",{className:"font-semibold text-purple-600",children:["$",((null==$||null==(P=$.revenueMetrics)?void 0:P.b2bRevenue)||103169).toLocaleString()]})]}),(0,t.jsxs)("div",{children:["Monthly Recurring: ",(0,t.jsxs)("span",{className:"font-semibold text-green-600",children:["$",((null==$||null==(I=$.revenueMetrics)?void 0:I.monthlyRecurring)||5275).toLocaleString()]})]}),(0,t.jsxs)("div",{children:["Avg Lead Value: ",(0,t.jsxs)("span",{className:"font-semibold",children:["$",(null==$?void 0:$.avgLeadValue)||132]})]})]})]})]})]})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"\uD83D\uDD25 High-Value Lead Pipeline"}),(0,t.jsx)(o.BT,{children:"Active leads in conversion sequences with AI scoring and follow-up tracking"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)(m.tU,{value:F,onValueChange:_,children:[(0,t.jsxs)(m.j7,{className:"grid w-full grid-cols-6",children:[(0,t.jsx)(m.Xi,{value:"all",children:"All Services"}),(0,t.jsx)(m.Xi,{value:"n400",children:"D2C N-400 (379)"}),(0,t.jsx)(m.Xi,{value:"nonimmigrant_worker",children:"Worker (322)"}),(0,t.jsx)(m.Xi,{value:"employment_auth",children:"EAD (119)"}),(0,t.jsx)(m.Xi,{value:"alien_relative",children:"Relative (180)"}),(0,t.jsx)(m.Xi,{value:"asylum_defense",children:"Asylum (45+)"})]}),(0,t.jsxs)(m.av,{value:F,className:"space-y-4",children:[(0,t.jsx)("div",{className:"grid gap-2 max-h-96 overflow-y-auto",children:U(F).sort((e,s)=>s.expectedValue-e.expectedValue).slice(0,20).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-white shadow-sm",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(c.E,{variant:"outline",className:"".concat((e=>{switch(e){case"n400":return"bg-blue-500";case"nonimmigrant_worker":return"bg-green-500";case"employment_auth":return"bg-orange-500";case"alien_relative":return"bg-red-500";case"asylum_defense":return"bg-yellow-500";case"b2b_lawyers":return"bg-purple-500";default:return"bg-gray-500"}})(e.service)," text-white"),children:e.service.toUpperCase()}),(0,t.jsx)(c.E,{variant:"secondary",children:e.stage}),(0,t.jsx)(c.E,{variant:"outline",children:e.platform}),(0,t.jsxs)(c.E,{variant:"outline",className:"bg-blue-50 text-blue-700",children:["AI Score: ",e.aiScore]})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[e.followUpStage," • Est. ",e.daysToClose," days to close"]})]}),(0,t.jsxs)("div",{className:"text-right space-y-1",children:[(0,t.jsxs)("div",{className:"font-bold text-green-600 text-lg",children:["$",e.expectedValue.toLocaleString()]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[e.conversionProbability||(100*e.probability).toFixed(1),"% probability"]})]})]},e.leadId))}),0===U(F).length&&(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,t.jsx)("div",{className:"text-lg font-semibold text-blue-800 mb-2",children:"all"===F?"Pipeline Loading...":(e=>{switch(e){case"n400":return"D2C N-400 Citizenship - 379 leads (15% conversion, $28.4K revenue)";case"nonimmigrant_worker":return"Worker - 322 leads (10% conversion, $44.5K expected)";case"employment_auth":return"EAD - 119 leads (13% conversion, $23.1K expected)";case"alien_relative":return"Relative - 180 leads (11% conversion, $34.0K expected)";case"asylum_defense":return"Asylum - 45+ leads (specialized service)";case"b2b_nonimmigrant_worker":return"B2B Nonimmigrant Worker - 12 leads ($750 each)";case"b2b_lawyers":return"B2B Lawyer Partnerships";default:return e}})(F)}),(0,t.jsx)("p",{className:"text-blue-600",children:"all"===F?"High-value leads are being processed and will appear here shortly.":"Leads in this category are currently being processed or in earlier pipeline stages."}),(0,t.jsxs)("div",{className:"mt-3 text-sm text-blue-500",children:["\uD83D\uDCCA Active leads: ",(null==$||null==(E=$.highValueLeads)?void 0:E.length)||0," • \uD83D\uDCB0 Total pipeline value: $",(null==$||null==(W=$.totalExpectedRevenue)?void 0:W.toLocaleString())||"0"]})]})})]})]})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"\uD83C\uDFAF High-Quality Lead Scoring"}),(0,t.jsx)(o.BT,{children:"Top-scoring leads based on immigration complexity, urgency, and engagement factors"})]}),(0,t.jsx)(o.Wu,{children:G?(0,t.jsx)("div",{className:"text-center py-4",children:"Loading lead scoring data..."}):O?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Array.isArray(O)?(O.reduce((e,s)=>e+(s.score||0),0)/O.length).toFixed(1):"0"}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:Array.isArray(O)?O.filter(e=>e.score>=6).length:0}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Qualified Leads"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:Array.isArray(O)?O.length:0}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Total Evaluated"})]})]}),(0,t.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:(Array.isArray(O)?O:[]).slice(0,15).map(e=>{var s;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(c.E,{variant:"high"===e.priority?"default":"secondary",className:"high"===e.priority?"bg-green-600":"",children:(null==(s=e.serviceType)?void 0:s.toUpperCase())||"N/A"}),(0,t.jsx)(c.E,{variant:"outline",children:e.sourcePlatform}),e.hasResponse&&(0,t.jsx)(c.E,{variant:"secondary",children:"Responded"})]}),(0,t.jsx)("div",{className:"text-sm text-gray-600 truncate",children:e.title||"No title"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"font-bold text-lg text-green-600",children:e.score}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.priority," priority"]})]})]},e.id)})})]}):(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,t.jsx)("p",{children:"No lead scoring data available"})})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"\uD83D\uDCC8 Conversion Funnel Analysis"}),(0,t.jsx)(o.BT,{children:"Lead distribution across conversion funnel stages"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:$.conversionFunnel&&Object.entries($.conversionFunnel).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,t.jsx)("span",{className:"capitalize font-medium",children:s.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(x.k,{value:$.totalLeads?a/$.totalLeads*100:0,className:"w-24 h-2"}),(0,t.jsx)(c.E,{variant:"secondary",children:a})]})]},s)})})})]})]}):(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"\uD83D\uDCB0 Revenue Optimization Dashboard"})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,t.jsx)("p",{children:"Unable to load revenue analytics"})})})]})}var v=a(89066),N=a(99776),y=a(89559);function b(){return(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(y.A,{className:"w-5 h-5"}),"Investor Update Manager"]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Investor update management functionality"})})]})}var f=a(47507),w=a(67001),C=a(27346),S=a(1524),D=a(30814),A=a(80534),k=a(91169),R=a(6132),B=a(71847);let T=(0,B.A)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var Z=a(61362),L=a(26983),P=a(23664),I=a(7013),E=a(16485);let W={high:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",low:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"},F={growth:S.A,milestone:D.A,market:A.A,competitive:k.A,risk:R.A,opportunity:T};function _(){let[e,s]=(0,i.useState)("marl5g-strategic"),[a,n]=(0,i.useState)("");(0,N.jE)();let{data:r,isLoading:x}=(0,l.I)({queryKey:["/api/investor/insights"],enabled:!0}),{data:h,isLoading:u}=(0,l.I)({queryKey:["/api/investor/follow-up-strategies"],enabled:!0}),{data:g,isLoading:v}=(0,l.I)({queryKey:["/api/investor/automation-schedule"],enabled:!0}),y=(0,p.n)({mutationFn:e=>(0,j.AT)("/api/investor/generate-followup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({investorType:e})}),onSuccess:e=>{e.success&&n(e.communication)}});if(x||u||v)return(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"grid gap-6",children:[1,2,3].map(e=>(0,t.jsxs)(o.Zp,{className:"animate-pulse",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-4/5"})]})})]},e))})});let S=r?[{type:"growth",priority:"high",title:"Strong Growth Trajectory",insight:"Current runway of ".concat((null==r?void 0:r.runway)||"N/A"," months with ").concat((null==r?void 0:r.growthRate)||"N/A","% growth rate shows strong momentum."),data:{totalFunding:(null==r?void 0:r.totalFunding)||0,burnRate:(null==r?void 0:r.burnRate)||0,runway:(null==r?void 0:r.runway)||0,growthRate:(null==r?void 0:r.growthRate)||0},actionable:(null==r?void 0:r.recommendations)||["Continue current growth trajectory","Prepare Series A materials","Focus on unit economics"],followUpTiming:"Weekly",investorRelevance:["strategic","growth-stage"]}]:[],A=h?Object.fromEntries(((null==h?void 0:h.strategies)||[]).map((e,s)=>["strategy-".concat(s),{investorType:e.investor||"Unknown",timing:e.lastContact||"Unknown",context:e.nextAction||"Follow up needed",keyPoints:[e.nextAction||"Update on progress"],askStrategy:"Priority: ".concat(e.priority||"medium"),successMetrics:["Response received","Meeting scheduled"]}])):{},R=g?{"daily-reports":{automationEnabled:!0,nextFollowUp:new Date().toISOString(),frequency:"daily",template:"Daily metrics and lead generation report..."},"weekly-updates":{automationEnabled:!0,nextFollowUp:new Date(Date.now()+6048e5).toISOString(),frequency:"weekly",template:"Weekly performance summary with key metrics..."}}:{};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Investor Strategy Insights"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Strategic follow-up insights based on current performance metrics"})]}),(0,t.jsxs)(c.E,{variant:"outline",className:"px-3 py-1",children:[S.length," Active Insights"]})]}),(0,t.jsxs)(m.tU,{defaultValue:"insights",className:"space-y-4",children:[(0,t.jsxs)(m.j7,{className:"grid w-full grid-cols-5",children:[(0,t.jsx)(m.Xi,{value:"insights",children:"Strategic Insights"}),(0,t.jsx)(m.Xi,{value:"strategies",children:"Follow-up Strategies"}),(0,t.jsx)(m.Xi,{value:"generate",children:"Generate Communications"}),(0,t.jsx)(m.Xi,{value:"automation",children:"Automation Schedule"}),(0,t.jsx)(m.Xi,{value:"updates",children:"Current Updates"})]}),(0,t.jsx)(m.av,{value:"insights",className:"space-y-4",children:(0,t.jsx)("div",{className:"grid gap-4",children:S.map((e,s)=>{let a=F[e.type];return(0,t.jsxs)(o.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(a,{className:"h-5 w-5 text-primary"}),(0,t.jsx)(o.ZB,{className:"text-lg",children:e.title})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(c.E,{className:W[e.priority],children:e.priority}),(0,t.jsx)(c.E,{variant:"outline",children:e.type})]})]}),(0,t.jsx)(o.BT,{children:e.insight})]}),(0,t.jsxs)(o.Wu,{className:"space-y-4",children:[Object.keys(e.data).length>0&&(0,t.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Key Metrics"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(e.data).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("span",{className:"text-muted-foreground capitalize",children:[s.replace(/([A-Z])/g," $1"),":"]}),(0,t.jsx)("span",{className:"font-medium",children:"number"==typeof a?s.includes("Rate")||s.includes("Growth")?"".concat(a,"%"):a.toLocaleString():String(a)})]},s)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium mb-2 flex items-center",children:[(0,t.jsx)(Z.A,{className:"h-4 w-4 mr-2 text-green-600"}),"Actionable Items"]}),(0,t.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:e.actionable.map((e,s)=>(0,t.jsx)("li",{children:e},s))})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[(0,t.jsx)(L.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:["Follow-up: ",e.followUpTiming]})]}),(0,t.jsx)("div",{className:"flex items-center space-x-1",children:e.investorRelevance.map((e,s)=>(0,t.jsx)(c.E,{variant:"secondary",className:"text-xs",children:e.replace("-"," ")},s))})]})]})]},s)})})}),(0,t.jsx)(m.av,{value:"strategies",className:"space-y-4",children:(0,t.jsx)("div",{className:"grid gap-4",children:Object.entries(A).map(e=>{let[s,a]=e;return(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(o.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(k.A,{className:"h-5 w-5 text-primary"}),(0,t.jsx)("span",{children:a.investorType})]}),(0,t.jsx)(c.E,{variant:"outline",children:a.timing})]}),(0,t.jsx)(o.BT,{children:a.context})]}),(0,t.jsxs)(o.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Key Points to Highlight"}),(0,t.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.keyPoints.map((e,s)=>(0,t.jsx)("li",{children:e},s))})]}),(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-950/20 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-medium mb-2 text-blue-900 dark:text-blue-300",children:"Ask Strategy"}),(0,t.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-400",children:a.askStrategy})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Success Metrics"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-2",children:a.successMetrics.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(D.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{children:e})]},s))})]})]})]},s)})})}),(0,t.jsx)(m.av,{value:"generate",className:"space-y-4",children:(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsxs)(o.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(P.A,{className:"h-5 w-5 text-primary"}),(0,t.jsx)("span",{children:"Generate Strategic Communication"})]}),(0,t.jsx)(o.BT,{children:"Create personalized follow-up communications based on strategic insights"})]}),(0,t.jsxs)(o.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Investor Type"}),(0,t.jsxs)(f.l6,{value:e,onValueChange:s,children:[(0,t.jsx)(f.bq,{children:(0,t.jsx)(f.yv,{placeholder:"Select investor type"})}),(0,t.jsxs)(f.gC,{children:[(0,t.jsx)(f.eb,{value:"marl5g-strategic",children:"Marl5G Strategic"}),(0,t.jsx)(f.eb,{value:"growth-investors",children:"Growth VCs"}),(0,t.jsx)(f.eb,{value:"board-members",children:"Board Members"})]})]})]}),(0,t.jsxs)(d.$,{onClick:()=>{y.mutate(e)},disabled:y.isPending,className:"mt-6",children:[y.isPending?"Generating...":"Generate Email",(0,t.jsx)(I.A,{className:"h-4 w-4 ml-2"})]})]}),a&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Generated Communication"}),(0,t.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>navigator.clipboard.writeText(a),children:"Copy to Clipboard"})]}),(0,t.jsx)(C.F,{className:"h-96 w-full border rounded-lg",children:(0,t.jsx)(w.T,{value:a,onChange:e=>n(e.target.value),className:"min-h-96 border-none resize-none",placeholder:"Generated communication will appear here..."})})]})]})]})}),(0,t.jsx)(m.av,{value:"automation",className:"space-y-4",children:(0,t.jsx)("div",{className:"grid gap-4",children:Object.entries(R).map(e=>{let[s,a]=e;return(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(o.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(E.A,{className:"h-5 w-5 text-primary"}),(0,t.jsx)("span",{children:s.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())})]}),(0,t.jsx)(c.E,{variant:a.automationEnabled?"default":"secondary",children:a.automationEnabled?"Active":"Inactive"})]})}),(0,t.jsxs)(o.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Next Follow-up:"}),(0,t.jsx)("p",{className:"font-medium",children:new Date(a.nextFollowUp).toLocaleDateString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Frequency:"}),(0,t.jsx)("p",{className:"font-medium capitalize",children:a.frequency})]})]}),a.template&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Scheduled Template Preview"}),(0,t.jsx)(C.F,{className:"h-32 bg-muted/50 rounded-lg p-3",children:(0,t.jsxs)("pre",{className:"text-xs whitespace-pre-wrap",children:[a.template.slice(0,300),"..."]})})]})]})]},s)})})}),(0,t.jsx)(m.av,{value:"updates",className:"space-y-4",children:(0,t.jsx)(b,{})})]})]})}var $=a(33789),M=a(90235),V=a(42529),O=a(69141);let G=(0,B.A)("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);var U=a(56154),q=a(52987),z=a(52472),K=a(28171);function X(){var e,s;let{toast:a}=(0,K.dj)(),[n,r]=(0,i.useState)({name:"",company:"",type:""}),{data:x,isLoading:h}=(0,l.I)({queryKey:["/api/investor/pipeline-analysis"],refetchInterval:3e5}),{data:u,isLoading:g}=(0,l.I)({queryKey:["/api/investor/engagement-campaigns"]}),{data:v,isLoading:N}=(0,l.I)({queryKey:["/api/investor/action-plan"]}),y=(0,p.n)({mutationFn:async e=>(0,j.AT)("/api/investor/personalized-messages",{method:"POST",body:JSON.stringify(e)}),onSuccess:()=>{a({title:"Messages Generated",description:"Personalized outreach messages have been created"})},onError:()=>{a({title:"Generation Failed",description:"Unable to generate personalized messages",variant:"destructive"})}});if(h||g||N)return(0,t.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,t.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"}),(0,t.jsx)("span",{className:"ml-2",children:"Analyzing investor engagement strategy..."})]});let b=null==x?void 0:x.analysis,w=null==u?void 0:u.campaigns,C=null==v?void 0:v.actionPlan;return(0,t.jsxs)("div",{className:"space-y-6","data-testid":"strategic-engagement-dashboard",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Strategic Investor Engagement"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"61-investor pipeline management and conversion strategy"})]}),(0,t.jsx)(d.$,{onClick:()=>j.qQ.invalidateQueries({queryKey:["/api/investor/pipeline-analysis"]}),children:"Refresh Analysis"})]}),(0,t.jsxs)(m.tU,{defaultValue:"pipeline",className:"w-full",children:[(0,t.jsxs)(m.j7,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(m.Xi,{value:"pipeline",children:"Pipeline Analysis"}),(0,t.jsx)(m.Xi,{value:"campaigns",children:"Engagement Campaigns"}),(0,t.jsx)(m.Xi,{value:"action-plan",children:"Action Plan"}),(0,t.jsx)(m.Xi,{value:"messages",children:"Message Generator"})]}),(0,t.jsxs)(m.av,{value:"pipeline",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(o.Zp,{"data-testid":"card-total-pipeline",children:[(0,t.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(o.ZB,{className:"text-sm font-medium",children:"Total Pipeline"}),(0,t.jsx)(k.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(null==b?void 0:b.totalInvestors)||61}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active investors"})]})]}),(0,t.jsxs)(o.Zp,{"data-testid":"card-ready-close",children:[(0,t.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(o.ZB,{className:"text-sm font-medium",children:"Ready to Close"}),(0,t.jsx)(V.A,{className:"h-4 w-4 text-green-600"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null==b?void 0:b.readyForClose)||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"High conversion probability"})]})]}),(0,t.jsxs)(o.Zp,{"data-testid":"card-needs-nurturing",children:[(0,t.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(o.ZB,{className:"text-sm font-medium",children:"Needs Nurturing"}),(0,t.jsx)(L.A,{className:"h-4 w-4 text-yellow-600"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:(null==b?void 0:b.needsNurturing)||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Relationship building"})]})]}),(0,t.jsxs)(o.Zp,{"data-testid":"card-cold-outreach",children:[(0,t.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(o.ZB,{className:"text-sm font-medium",children:"Cold Outreach"}),(0,t.jsx)(D.A,{className:"h-4 w-4 text-blue-600"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==b?void 0:b.coldOutreach)||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Initial contact needed"})]})]})]}),(null==b?void 0:b.segments)&&(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Investor Segments"}),(0,t.jsx)(o.BT,{children:"Strategic segmentation and engagement approach"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:b.segments.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium flex items-center",children:[e.name,(0,t.jsxs)(c.E,{variant:"high"===e.priority?"default":"medium"===e.priority?"secondary":"outline",className:"ml-2",children:[e.priority," priority"]})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-lg font-bold",children:e.count}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"investors"})]})]}),(0,t.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:"Strategy:"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.strategy})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:"Check Size:"}),(0,t.jsxs)("p",{className:"text-sm font-medium text-green-600",children:["$",e.expectedCheckSize.min.toLocaleString()," - $",e.expectedCheckSize.max.toLocaleString()]})]})]}),(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsxs)("p",{className:"text-sm font-medium mb-1",children:["Timeline: ",e.timeline]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.touchpoints.map((e,s)=>(0,t.jsx)(c.E,{variant:"outline",className:"text-xs",children:e},s))})]})]},e.id))})})]}),(null==b?void 0:b.insights)&&(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Strategic Insights"}),(0,t.jsx)(o.BT,{children:"Key observations and recommendations"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"space-y-2",children:b.insights.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-2 p-2 bg-blue-50 rounded",children:[(0,t.jsx)(S.A,{className:"h-4 w-4 text-blue-600 mt-0.5"}),(0,t.jsx)("span",{className:"text-sm",children:e})]},s))})})]})]}),(0,t.jsx)(m.av,{value:"campaigns",className:"space-y-4",children:w&&(0,t.jsx)("div",{className:"grid gap-6",children:w.map(e=>(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(o.ZB,{className:"flex items-center",children:[e.name,(0,t.jsx)(c.E,{variant:"secondary",className:"ml-2",children:e.type})]}),(0,t.jsx)(o.BT,{children:e.timeline})]}),(0,t.jsx)(c.E,{variant:"outline",children:e.segment})]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Touchpoint Sequence:"}),(0,t.jsx)("div",{className:"space-y-3",children:e.touchpoints.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 border rounded",children:[(0,t.jsxs)("div",{className:"flex-shrink-0",children:["email"===e.channel&&(0,t.jsx)(P.A,{className:"h-4 w-4 text-blue-600"}),"call"===e.channel&&(0,t.jsx)(O.A,{className:"h-4 w-4 text-green-600"}),"linkedin"===e.channel&&(0,t.jsx)(G,{className:"h-4 w-4 text-blue-700"}),"demo"===e.channel&&(0,t.jsx)(U.A,{className:"h-4 w-4 text-purple-600"})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium capitalize",children:e.channel}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:e.timing})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.message}),(0,t.jsxs)(c.E,{variant:"outline",className:"text-xs",children:[(0,t.jsx)(q.A,{className:"h-3 w-3 mr-1"}),e.cta]})]})]},s))})]}),(0,t.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-1",children:"Expected Outcome:"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.expectedOutcome})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-1",children:"Success Metrics:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.successMetrics.map((e,s)=>(0,t.jsx)(c.E,{variant:"secondary",className:"text-xs",children:e},s))})]})]})]})})]},e.id))})}),(0,t.jsx)(m.av,{value:"action-plan",className:"space-y-4",children:C&&(0,t.jsxs)("div",{className:"grid gap-6",children:[(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:Object.entries(C).filter(e=>{let[s]=e;return s.startsWith("week")}).map(e=>{let[s,a]=e;return(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{className:"text-lg capitalize",children:s.replace(/(\d)/," $1")})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"space-y-2",children:a.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-2 text-sm",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-4 h-4 rounded-full bg-primary/20 flex items-center justify-center mt-0.5",children:(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary"})}),(0,t.jsx)("span",{children:e.replace(/^[📧🤝📊🎯📱📞📄🔍📋💼🎥]/g,"").trim()})]},s))})})]},s)})}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Ongoing Activities"}),(0,t.jsx)(o.BT,{children:"Continuous engagement tasks"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"space-y-2",children:null==(e=C.ongoing)?void 0:e.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-2 p-2 bg-green-50 rounded",children:[(0,t.jsx)(V.A,{className:"h-4 w-4 text-green-600 mt-0.5"}),(0,t.jsx)("span",{className:"text-sm",children:e})]},s))})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Key Metrics"}),(0,t.jsx)(o.BT,{children:"Success measurement targets"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"space-y-2",children:null==(s=C.keyMetrics)?void 0:s.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-2 p-2 bg-blue-50 rounded",children:[(0,t.jsx)(z.A,{className:"h-4 w-4 text-blue-600 mt-0.5"}),(0,t.jsx)("span",{className:"text-sm",children:e})]},s))})})]})]})]})}),(0,t.jsx)(m.av,{value:"messages",className:"space-y-4",children:(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Personalized Message Generator"}),(0,t.jsx)(o.BT,{children:"Generate AI-powered outreach messages for specific investors"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(M.J,{htmlFor:"investor-name",children:"Investor Name"}),(0,t.jsx)($.p,{id:"investor-name",placeholder:"John Smith",value:n.name,onChange:e=>r({...n,name:e.target.value}),"data-testid":"input-investor-name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(M.J,{htmlFor:"investor-company",children:"Company/Fund"}),(0,t.jsx)($.p,{id:"investor-company",placeholder:"Acme Ventures",value:n.company,onChange:e=>r({...n,company:e.target.value}),"data-testid":"input-investor-company"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(M.J,{htmlFor:"investor-type",children:"Investor Type"}),(0,t.jsxs)(f.l6,{value:n.type,onValueChange:e=>r({...n,type:e}),children:[(0,t.jsx)(f.bq,{"data-testid":"select-investor-type",children:(0,t.jsx)(f.yv,{placeholder:"Select type"})}),(0,t.jsxs)(f.gC,{children:[(0,t.jsx)(f.eb,{value:"seed",children:"Seed Stage"}),(0,t.jsx)(f.eb,{value:"series-a",children:"Series A"}),(0,t.jsx)(f.eb,{value:"immigration-focused",children:"Immigration Tech"}),(0,t.jsx)(f.eb,{value:"b2b-saas",children:"B2B SaaS"}),(0,t.jsx)(f.eb,{value:"strategic",children:"Strategic/Corporate"}),(0,t.jsx)(f.eb,{value:"angel",children:"Angel Investor"})]})]})]})]}),(0,t.jsx)(d.$,{onClick:()=>{if(!n.name||!n.company)return void a({title:"Investor Details Required",description:"Please enter investor name and company",variant:"destructive"});y.mutate({investorType:n.type||"general",investorName:n.name,company:n.company})},disabled:y.isPending,className:"w-full","data-testid":"button-generate-messages",children:y.isPending?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Generating Messages..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.A,{className:"w-4 h-4 mr-2"}),"Generate Personalized Messages"]})}),y.data&&(0,t.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{className:"text-sm",children:"Email Subject"})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("p",{className:"text-sm font-medium",children:y.data.messages.subject})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{className:"text-sm",children:"LinkedIn Message"})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("p",{className:"text-sm",children:y.data.messages.linkedin})})]})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{className:"text-sm",children:"Email Content"})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("pre",{className:"text-sm whitespace-pre-wrap",children:y.data.messages.email})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{className:"text-sm",children:"Follow-up Email"})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("pre",{className:"text-sm whitespace-pre-wrap",children:y.data.messages.followUp})})]})]})]})})]})})]})]})}var J=a(39347),H=a(75426);function Q(){return(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(E.A,{className:"w-5 h-5"}),"Gmail Scheduler"]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Gmail scheduling functionality"})})]})}function Y(){return(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(k.A,{className:"w-5 h-5"}),"Investor Outreach Scheduler"]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Investor outreach scheduling functionality"})})]})}var ee=a(85710);function es(){return(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(ee.A,{className:"w-5 h-5"}),"Extended Investor Database"]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Extended investor database functionality"})})]})}function ea(){let{toast:e}=(0,K.dj)(),{data:s,isLoading:a}=(0,l.I)({queryKey:["/api/investor/current-outreach"],refetchInterval:3e5}),{data:i,isLoading:n}=(0,l.I)({queryKey:["/api/investor/current-profiles"]}),{data:r,isLoading:x}=(0,l.I)({queryKey:["/api/investor/immediate-action-plan"]}),h=s=>{navigator.clipboard.writeText(s),e({title:"Copied to Clipboard",description:"Content has been copied successfully"})};if(a||n||x)return(0,t.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,t.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"}),(0,t.jsx)("span",{className:"ml-2",children:"Generating personalized outreach for current investors..."})]});let u=null==s?void 0:s.outreach,p=null==i?void 0:i.profiles,g=null==r?void 0:r.actionPlan;return(0,t.jsxs)("div",{className:"space-y-6","data-testid":"current-investor-outreach",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Current Investor Leverage"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Personalized outreach to your 4 active investors for warm introductions"})]}),(0,t.jsx)(d.$,{onClick:()=>j.qQ.invalidateQueries({queryKey:["/api/investor/current-outreach"]}),children:"Refresh Outreach"})]}),(0,t.jsxs)(m.tU,{defaultValue:"overview",className:"w-full",children:[(0,t.jsxs)(m.j7,{className:"grid w-full grid-cols-7",children:[(0,t.jsx)(m.Xi,{value:"overview",children:"Overview"}),(0,t.jsx)(m.Xi,{value:"outreach",children:"Outreach Messages"}),(0,t.jsx)(m.Xi,{value:"action-plan",children:"Action Plan"}),(0,t.jsx)(m.Xi,{value:"tracking",children:"Follow-up Tracking"}),(0,t.jsx)(m.Xi,{value:"gmail",children:"Gmail Scheduler"}),(0,t.jsx)(m.Xi,{value:"schedule",children:"Schedule"}),(0,t.jsx)(m.Xi,{value:"database",children:"Database"})]}),(0,t.jsxs)(m.av,{value:"overview",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(o.Zp,{"data-testid":"card-active-investors",children:[(0,t.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(o.ZB,{className:"text-sm font-medium",children:"Active Investors"}),(0,t.jsx)(k.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"4"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ready to leverage"})]})]}),(0,t.jsxs)(o.Zp,{"data-testid":"card-introduction-capacity",children:[(0,t.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(o.ZB,{className:"text-sm font-medium",children:"Introduction Capacity"}),(0,t.jsx)(D.A,{className:"h-4 w-4 text-blue-600"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==p?void 0:p.reduce((e,s)=>e+s.introductionCapacity,0))||12}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total possible introductions"})]})]}),(0,t.jsxs)(o.Zp,{"data-testid":"card-high-network",children:[(0,t.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(o.ZB,{className:"text-sm font-medium",children:"High Network Strength"}),(0,t.jsx)(J.A,{className:"h-4 w-4 text-yellow-600"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:(null==p?void 0:p.filter(e=>"high"===e.networkStrength).length)||2}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Premium connections"})]})]}),(0,t.jsxs)(o.Zp,{"data-testid":"card-expected-intros",children:[(0,t.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(o.ZB,{className:"text-sm font-medium",children:"Expected Success"}),(0,t.jsx)(V.A,{className:"h-4 w-4 text-green-600"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"6-9"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Successful introductions"})]})]})]}),p&&(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Your Current Investor Portfolio"}),(0,t.jsx)(o.BT,{children:"Detailed profiles and leverage potential"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:p.map((e,s)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.company}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.role}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,t.jsxs)(c.E,{variant:"high"===e.networkStrength?"default":"secondary",children:[e.networkStrength," network"]}),(0,t.jsxs)(c.E,{variant:"outline",children:[e.introductionCapacity," introductions"]})]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)("div",{className:"text-sm font-medium",children:e.email})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Focus Areas:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.focusAreas.map((e,s)=>(0,t.jsx)(c.E,{variant:"secondary",className:"text-xs",children:e},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Best Approach:"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.bestApproach})]})]})]},s))})})]})]}),(0,t.jsx)(m.av,{value:"outreach",className:"space-y-4",children:u&&(0,t.jsx)("div",{className:"space-y-6",children:u.map((e,s)=>(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.ZB,{children:e.investor.name}),(0,t.jsxs)(o.BT,{children:[e.investor.company," • ",e.investor.relationship]})]}),(0,t.jsxs)(c.E,{variant:"high"===e.investor.networkStrength?"default":"secondary",children:[e.investor.networkStrength," network"]})]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Email Subject"}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>h(e.subject),children:[(0,t.jsx)(H.A,{className:"h-4 w-4 mr-1"}),"Copy"]})]}),(0,t.jsx)("p",{className:"text-sm font-medium bg-gray-50 p-2 rounded border",children:e.subject})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Email Content"}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>h(e.emailContent),children:[(0,t.jsx)(H.A,{className:"h-4 w-4 mr-1"}),"Copy"]})]}),(0,t.jsx)(w.T,{value:e.emailContent,readOnly:!0,className:"min-h-[200px] text-sm","data-testid":"email-content-".concat(s)})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Specific Target Introductions"}),(0,t.jsx)("div",{className:"space-y-1",children:e.specificTargets.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-2 text-sm",children:[(0,t.jsx)(D.A,{className:"h-4 w-4 text-blue-600 mt-0.5"}),(0,t.jsx)("span",{children:e})]},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Key Talking Points"}),(0,t.jsx)("div",{className:"space-y-1",children:e.keyTalkingPoints.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-2 text-sm",children:[(0,t.jsx)(V.A,{className:"h-4 w-4 text-green-600 mt-0.5"}),(0,t.jsx)("span",{children:e})]},s))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Follow-up Message (if no response)"}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>h(e.followUpMessage),children:[(0,t.jsx)(H.A,{className:"h-4 w-4 mr-1"}),"Copy"]})]}),(0,t.jsx)(w.T,{value:e.followUpMessage,readOnly:!0,className:"min-h-[100px] text-sm","data-testid":"followup-message-".concat(s)})]})]})})]},s))})}),(0,t.jsx)(m.av,{value:"action-plan",className:"space-y-4",children:g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Week 1 Priority Actions"}),(0,t.jsx)(o.BT,{children:"Immediate steps to maximize introductions"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"space-y-2",children:g.week1Actions.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-2 p-2 bg-blue-50 rounded",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-blue-600 text-white flex items-center justify-center mt-0.5",children:(0,t.jsx)("span",{className:"text-xs font-medium",children:s+1})}),(0,t.jsx)("span",{className:"text-sm",children:e})]},s))})})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Priority Order"}),(0,t.jsx)(o.BT,{children:"Strategic sequencing for maximum impact"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"space-y-2",children:g.priorityOrder.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-2 text-sm",children:[(0,t.jsx)(q.A,{className:"h-4 w-4 text-green-600 mt-0.5"}),(0,t.jsx)("span",{children:e})]},s))})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Expected Outcomes"}),(0,t.jsx)(o.BT,{children:"Projected results by investor"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"space-y-2",children:Object.entries(g.expectedOutcomes).map((e,s)=>{let[a,i]=e;return(0,t.jsxs)("div",{className:"p-2 border rounded",children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:a}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:i})]},s)})})})]})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Success Metrics"}),(0,t.jsx)(o.BT,{children:"Key performance indicators for leverage strategy"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"space-y-2",children:g.successMetrics.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-2 p-2 bg-green-50 rounded",children:[(0,t.jsx)(z.A,{className:"h-4 w-4 text-green-600 mt-0.5"}),(0,t.jsx)("span",{className:"text-sm",children:e})]},s))})})]})]})}),(0,t.jsx)(m.av,{value:"tracking",className:"space-y-4",children:(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Follow-up Tracking Template"}),(0,t.jsx)(o.BT,{children:"Track introduction requests and responses"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:null==p?void 0:p.map((e,s)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("h4",{className:"font-medium",children:[e.name," (",e.company,")"]}),(0,t.jsxs)(c.E,{variant:"outline",children:[e.introductionCapacity," intros capacity"]})]}),(0,t.jsxs)("div",{className:"grid gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Initial outreach sent"}),(0,t.jsx)("input",{type:"date",className:"ml-auto px-2 py-1 border rounded text-xs"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Response received"}),(0,t.jsx)("input",{type:"date",className:"ml-auto px-2 py-1 border rounded text-xs"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Follow-up call scheduled"}),(0,t.jsx)("input",{type:"date",className:"ml-auto px-2 py-1 border rounded text-xs"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Introductions completed"}),(0,t.jsx)("input",{type:"number",placeholder:"0",className:"ml-auto px-2 py-1 border rounded text-xs w-16"})]})]}),(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Notes:"}),(0,t.jsx)("textarea",{placeholder:"Track specific connections, follow-up actions, etc...",className:"w-full mt-1 px-2 py-1 border rounded text-xs",rows:2})]})]},s))})})]})}),(0,t.jsx)(m.av,{value:"gmail",className:"space-y-4",children:(0,t.jsx)(Q,{})}),(0,t.jsx)(m.av,{value:"schedule",className:"space-y-4",children:(0,t.jsx)(Y,{})}),(0,t.jsx)(m.av,{value:"database",className:"space-y-4",children:(0,t.jsx)(es,{})})]})]})}var et=a(91761),ei=a(50906);function el(){let[e,s]=(0,i.useState)(null),[a,l]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),[x,m]=(0,i.useState)(!0),{toast:h}=(0,K.dj)();(0,i.useEffect)(()=>(u(),p(),()=>{window.ws&&window.ws.close()}),[]);let u=async()=>{try{let e=await fetch("/api/live-metrics"),a=await e.json();a.success&&s(a.metrics)}catch(e){console.error("Failed to fetch live metrics:",e)}finally{m(!1)}},p=()=>{let e="https:"===window.location.protocol?"wss:":"ws:",s="".concat(e,"//").concat(window.location.host,"/ws");try{window.ws=new WebSocket(s),window.ws.onopen=()=>{r(!0),console.log("\uD83D\uDD0C Connected to live metrics WebSocket")},window.ws.onmessage=e=>{try{let s=JSON.parse(e.data);j(s)}catch(e){console.error("Failed to parse WebSocket message:",e)}},window.ws.onclose=()=>{r(!1),console.log("\uD83D\uDD0C WebSocket disconnected, attempting reconnection..."),setTimeout(p,5e3)},window.ws.onerror=e=>{console.error("WebSocket error:",e),r(!1)}}catch(e){console.error("Failed to setup WebSocket:",e)}},j=e=>{if("conversion"===e.type){let s=e.data;l(e=>[s,...e.slice(0,4)]),h({title:"\uD83C\uDF89 New Conversion!",description:"$".concat(s.amount," from ").concat(s.serviceType),duration:5e3}),u()}},g=async()=>{try{let e=await fetch("/api/live-metrics/simulate-conversion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({leadId:"demo-lead-"+Date.now(),conversionType:"consultation",dealValue:Math.floor(1e3*Math.random())+500})}),s=await e.json();s.success&&h({title:"Demo Conversion Simulated",description:s.message,duration:3e3})}catch(e){console.error("Failed to simulate conversion:",e)}};return x?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,t.jsx)(o.Zp,{className:"animate-pulse",children:(0,t.jsxs)(o.Wu,{className:"p-6",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})},s))}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(n?"bg-green-500":"bg-red-500")}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:n?"Live updates connected":"Reconnecting..."})]}),(0,t.jsxs)(d.$,{onClick:g,size:"sm",variant:"outline",children:[(0,t.jsx)(U.A,{className:"h-4 w-4 mr-2"}),"Demo Conversion"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsx)(o.Zp,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:(0,t.jsxs)(o.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(et.A,{className:"h-8 w-8 text-green-600"}),(0,t.jsx)(c.E,{variant:"secondary",className:"text-green-700 bg-green-200",children:"Today"})]}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-green-800 mb-1",children:["$",(null==e?void 0:e.conversions.todayRevenue.toLocaleString())||"0"]}),(0,t.jsxs)("div",{className:"text-sm text-green-600",children:[(null==e?void 0:e.conversions.todayCount)||0," conversions today"]})]})}),(0,t.jsx)(o.Zp,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:(0,t.jsxs)(o.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(D.A,{className:"h-8 w-8 text-blue-600"}),(0,t.jsx)(S.A,{className:"h-5 w-5 text-blue-500"})]}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-blue-800 mb-1",children:["$",(null==e?void 0:e.conversions.averageDealValue.toFixed(0))||"0"]}),(0,t.jsx)("div",{className:"text-sm text-blue-600",children:"Average deal value"})]})}),(0,t.jsx)(o.Zp,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:(0,t.jsxs)(o.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(L.A,{className:"h-8 w-8 text-purple-600"}),(0,t.jsx)(c.E,{variant:"outline",className:"text-purple-700",children:"Avg"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-purple-800 mb-1",children:(null==e?void 0:e.conversions.averageConversionTime)||"N/A"}),(0,t.jsx)("div",{className:"text-sm text-purple-600",children:"Time to convert"})]})}),(0,t.jsx)(o.Zp,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:(0,t.jsxs)(o.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(ei.A,{className:"h-8 w-8 text-orange-600"}),(0,t.jsx)(c.E,{variant:"secondary",className:"text-orange-700 bg-orange-200",children:"Live"})]}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-orange-800 mb-1",children:[(null==e?void 0:e.performance.responseTime.toFixed(0))||"0","ms"]}),(0,t.jsxs)("div",{className:"text-sm text-orange-600",children:["Response time • ",(null==e?void 0:e.performance.uptime.toFixed(1))||"0","% uptime"]})]})}),(0,t.jsx)(o.Zp,{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 border-indigo-200",children:(0,t.jsxs)(o.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(D.A,{className:"h-8 w-8 text-indigo-600"}),(0,t.jsx)(S.A,{className:"h-5 w-5 text-indigo-500"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-indigo-800 mb-1",children:(null==e?void 0:e.pipeline.activeSequences)||0}),(0,t.jsx)("div",{className:"text-sm text-indigo-600",children:"Active follow-up sequences"})]})}),(0,t.jsx)(o.Zp,{className:"bg-gradient-to-br from-teal-50 to-teal-100 border-teal-200",children:(0,t.jsxs)(o.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(S.A,{className:"h-8 w-8 text-teal-600"}),(0,t.jsx)(c.E,{variant:"outline",className:"text-teal-700",children:"Rate"})]}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-teal-800 mb-1",children:[(null==e?void 0:e.pipeline.conversionRate.toFixed(1))||"0","%"]}),(0,t.jsx)("div",{className:"text-sm text-teal-600",children:"Lead conversion rate"})]})})]}),a.length>0&&(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsxs)(o.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(ei.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Live Conversion Feed"}),(0,t.jsx)(c.E,{variant:"secondary",children:a.length})]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:a.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-medium text-green-800",children:["$",e.amount," • ",e.serviceType]}),(0,t.jsxs)("div",{className:"text-sm text-green-600",children:["Via ",e.conversionPath]})]})]}),(0,t.jsx)("div",{className:"text-xs text-green-500",children:new Date(e.timestamp).toLocaleTimeString()})]},s))})})]})]})}var en=a(26921),er=a(85921),ec=a(89715),ed=a(52056);function eo(){var e,s,a;let[n,r]=(0,i.useState)("0 6 * * *"),x=(0,N.jE)(),{data:h,isLoading:u,refetch:g}=(0,l.I)({queryKey:["/api/reports/daily"],enabled:!0}),{data:v,isLoading:y}=(0,l.I)({queryKey:["/api/reports/pipeline-summary"],enabled:!0,refetchInterval:3e5}),b=h||[],f=b.length>0?b[0]:null;(0,p.n)({mutationFn:e=>(0,j.AT)("/api/reports/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schedule:e})}),onSuccess:()=>{x.invalidateQueries({queryKey:["/api/reports/schedule"]})}});let w=(0,p.n)({mutationFn:()=>(0,j.AT)("/api/reports/daily/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:new Date().toISOString()})}),onSuccess:()=>{g()}}),C=()=>{w.mutate()};if(u)return(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"grid gap-6",children:[1,2,3].map(e=>(0,t.jsxs)(o.Zp,{className:"animate-pulse",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-4/5"})]})})]},e))})});let S=(null==v?void 0:v.summary)||{},A=(null==v?void 0:v.topVisaTypes)||[],k=(null==v?void 0:v.premiumVisaPerformance)||[];if(u||y)return(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"grid gap-6",children:[1,2,3].map(e=>(0,t.jsxs)(o.Zp,{className:"animate-pulse",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-4/5"})]})})]},e))})});if(!f&&!v)return(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Daily Reporting Dashboard"}),(0,t.jsx)(o.BT,{children:"Generate your first daily report to get started"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)(d.$,{onClick:C,disabled:w.isPending,"data-testid":"button-generate-report",children:[w.isPending?"Generating...":"Generate Daily Report",(0,t.jsx)(er.A,{className:"h-4 w-4 ml-2"})]})})]})});let R=f?new Date(f.report_date).toLocaleDateString():null;null==f||f.engagement_metrics,null==f||f.learnings;let B=(null==f?void 0:f.platform_breakdown)||{platforms:[],visaTypes:[]};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Pipeline & Reports Dashboard"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Comprehensive pipeline analytics and daily operational insights"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[R&&(0,t.jsxs)(c.E,{variant:"outline",className:"px-3 py-1","data-testid":"badge-next-report",children:["Last Report: ",R]}),(0,t.jsxs)(d.$,{onClick:C,disabled:w.isPending,size:"sm","data-testid":"button-generate-now",children:[w.isPending?"Generating...":"Generate Daily Report",(0,t.jsx)(er.A,{className:"h-4 w-4 ml-2"})]})]})]}),v&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsxs)(o.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(ec.A,{className:"h-5 w-5 text-primary"}),(0,t.jsx)("span",{children:"\uD83D\uDCB0 Pipeline Summary"})]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Leads"}),(0,t.jsx)("div",{className:"text-3xl font-bold","data-testid":"text-total-leads",children:(null==(e=S.totalLeads)?void 0:e.toLocaleString())||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Pipeline Value"}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-green-600","data-testid":"text-pipeline-value",children:["$",(S.totalPipelineValue/1e6).toFixed(1),"M"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Average Lead Value"}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-blue-600","data-testid":"text-avg-lead-value",children:["$",(null==(s=S.avgLeadValue)?void 0:s.toLocaleString())||0]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Premium Leads (≥$15K)"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-purple-600","data-testid":"text-premium-leads",children:(null==(a=S.premiumLeadsCount)?void 0:a.toLocaleString())||0}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["$",(S.premiumPipelineValue/1e6).toFixed(1),"M value"]})]})]})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"\uD83D\uDCCA Top Visa Types by Revenue"})}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4 pb-2 border-b font-medium text-sm",children:[(0,t.jsx)("div",{children:"Visa Type"}),(0,t.jsx)("div",{className:"text-right",children:"Leads"}),(0,t.jsx)("div",{className:"text-right",children:"Avg Value"}),(0,t.jsx)("div",{className:"text-right",children:"Total Value"})]}),A.slice(0,8).map((e,s)=>{var a,i;return(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4 items-center","data-testid":"row-visa-".concat(s),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:(e=>{let s=(null==e?void 0:e.toLowerCase())||"";return s.includes("green")||s.includes("gc")?"\uD83D\uDFE2":s.includes("h-1b")||s.includes("h1b")?"\uD83D\uDD35":s.includes("eb-1")||s.includes("eb1")||s.includes("niw")||s.includes("o-1")||s.includes("o1")||s.includes("eb-5")||s.includes("eb5")?"\uD83D\uDC8E":s.includes("citizenship")||s.includes("n-400")?"\uD83C\uDDFA\uD83C\uDDF8":s.includes("asylum")?"\uD83D\uDEE1️":"\uD83D\uDCBC"})(e.visaType)}),(0,t.jsx)("span",{className:"font-medium capitalize",children:e.visaType})]}),(0,t.jsx)("div",{className:"text-right",children:null==(a=e.leadCount)?void 0:a.toLocaleString()}),(0,t.jsxs)("div",{className:"text-right",children:["$",null==(i=e.avgValue)?void 0:i.toLocaleString()]}),(0,t.jsxs)("div",{className:"text-right font-bold",children:["$",(e.totalValue/1e6).toFixed(1),"M"]})]},s)})]})})]}),k.length>0&&(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"\uD83C\uDFAF Premium Visa Performance"}),(0,t.jsx)(o.BT,{children:"High-value visa types with average fees ≥$15K"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[k.map((e,s)=>{var a;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg","data-testid":"premium-visa-".concat(s),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC8E"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold uppercase",children:e.visaType}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.leadCount," leads @ avg $",null==(a=e.avgValue)?void 0:a.toLocaleString()]})]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:["$",(e.totalValue/1e6).toFixed(1),"M"]})})]},s)}),(0,t.jsxs)("div",{className:"mt-4 p-4 bg-gradient-to-r from-purple-100 to-blue-100 rounded-lg",children:[(0,t.jsxs)("div",{className:"font-bold text-lg",children:["Total Premium Visa Pipeline: $",(k.reduce((e,s)=>e+s.totalValue,0)/1e6).toFixed(1),"M"]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Across ",k.reduce((e,s)=>e+s.leadCount,0)," high-value leads"]})]})]})})]})]}),f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsxs)(o.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(ec.A,{className:"h-5 w-5 text-primary"}),(0,t.jsxs)("span",{children:["Daily Summary - ",R]})]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:f.summary||"No summary available"})})]}),(0,t.jsxs)(m.tU,{defaultValue:"metrics",className:"space-y-4",children:[(0,t.jsxs)(m.j7,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(m.Xi,{value:"metrics","data-testid":"tab-metrics",children:"Metrics"}),(0,t.jsx)(m.Xi,{value:"engagement","data-testid":"tab-engagement",children:"Engagement"}),(0,t.jsx)(m.Xi,{value:"platform","data-testid":"tab-platform",children:"Platform Performance"}),(0,t.jsx)(m.Xi,{value:"recommendations","data-testid":"tab-recommendations",children:"Recommendations"})]}),(0,t.jsx)(m.av,{value:"metrics",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{className:"pb-2",children:(0,t.jsx)(o.ZB,{className:"text-sm font-medium",children:"Leads Discovered"})}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold","data-testid":"text-leads-discovered",children:f.total_leads_discovered||0}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"New leads found"})]})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{className:"pb-2",children:(0,t.jsx)(o.ZB,{className:"text-sm font-medium",children:"Responses Sent"})}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold","data-testid":"text-responses-sent",children:f.responses_sent||0}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"AI-generated responses"})]})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{className:"pb-2",children:(0,t.jsx)(o.ZB,{className:"text-sm font-medium",children:"Clicks Tracked"})}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold","data-testid":"text-clicks-tracked",children:f.clicks_tracked||0}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Link engagements"})]})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{className:"pb-2",children:(0,t.jsx)(o.ZB,{className:"text-sm font-medium",children:"Pipeline Value"})}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold","data-testid":"text-pipeline-value",children:["$",(f.pipeline_value||0).toLocaleString()]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Avg: $",(f.avg_lead_value||0).toLocaleString(),"/lead"]})]})]})]})}),(0,t.jsxs)(m.av,{value:"engagement",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{className:"text-sm font-medium",children:"System Health"})}),(0,t.jsxs)(o.Wu,{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Tests Run:"}),(0,t.jsx)("span",{className:"font-bold",children:f.tests_run||0})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Tests Passed:"}),(0,t.jsx)("span",{className:"font-bold text-green-600",children:f.tests_passed||0})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Critical Errors:"}),(0,t.jsx)("span",{className:"font-bold text-red-600",children:f.critical_errors||0})]})]})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{className:"text-sm font-medium",children:"AI Learning"})}),(0,t.jsxs)(o.Wu,{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Patterns Discovered:"}),(0,t.jsx)("span",{className:"font-bold",children:f.new_patterns_discovered||0})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Templates Optimized:"}),(0,t.jsx)("span",{className:"font-bold",children:f.templates_optimized||0})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Model Updates:"}),(0,t.jsx)("span",{className:"font-bold",children:f.ai_model_updates||0})]})]})]})]}),f.top_insight&&(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsxs)(o.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(T,{className:"h-5 w-5 text-yellow-500"}),(0,t.jsx)("span",{children:"Top Insight"})]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)("p",{className:"text-sm",children:f.top_insight})})]})]}),(0,t.jsx)(m.av,{value:"platform",className:"space-y-4",children:(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"Platform Performance"})}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Top Platform"}),(0,t.jsx)("p",{className:"text-2xl font-bold capitalize",children:f.top_platform||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Top Visa Type"}),(0,t.jsx)("p",{className:"text-2xl font-bold uppercase",children:f.top_visa_type||"N/A"})]}),B.platforms&&B.platforms.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Platform Breakdown"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:B.platforms.map((e,s)=>{var a;return(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.leads}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground capitalize",children:e.platform}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["$",null==(a=e.value)?void 0:a.toLocaleString()]})]},s)})})]})]})})]})}),(0,t.jsx)(m.av,{value:"recommendations",className:"space-y-4",children:(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsxs)(o.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(D.A,{className:"h-5 w-5 text-primary"}),(0,t.jsx)("span",{children:"Recommendations"})]})}),(0,t.jsx)(o.Wu,{children:f.recommendations&&Array.isArray(f.recommendations)&&f.recommendations.length>0?(0,t.jsx)("ul",{className:"space-y-3",children:f.recommendations.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start space-x-3 p-3 bg-muted/50 rounded-lg",children:[(0,t.jsx)(ed.A,{className:"h-5 w-5 text-orange-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.action||e}),e.priority&&(0,t.jsx)(c.E,{className:"mt-1",variant:"high"===e.priority?"destructive":"secondary",children:e.priority})]})]},s))}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No recommendations available for this report."})})]})})]})]})]})}function ex(){let[e,s]=(0,i.useState)("overview"),{data:a,isLoading:c}=(0,l.I)({queryKey:["/api/dashboard/stats"],queryFn:()=>n.F.getDashboardStats()});return(0,t.jsxs)("div",{className:"min-h-screen flex bg-gray-50",children:[(0,t.jsx)(r.A,{}),(0,t.jsxs)("main",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)("header",{className:"bg-gradient-to-r from-green-600 to-green-800 text-white px-6 py-6",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Investor Relations Dashboard"}),(0,t.jsx)("p",{className:"text-green-100 mt-1",children:"Financial Metrics • Investor Updates • Growth Analytics"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,t.jsx)("span",{className:"text-sm bg-green-500 px-2 py-1 rounded",children:"Financial Tracking"}),(0,t.jsx)("span",{className:"text-sm bg-blue-500 px-2 py-1 rounded",children:"Revenue Analytics"}),(0,t.jsx)("span",{className:"text-sm bg-purple-500 px-2 py-1 rounded",children:"Investor Reporting"})]})]})})}),(0,t.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,t.jsx)("nav",{className:"px-6",children:(0,t.jsxs)("div",{className:"flex space-x-8",children:[(0,t.jsxs)("button",{onClick:()=>s("overview"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat("overview"===e?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)("span",{children:"\uD83D\uDCCA"}),(0,t.jsx)("span",{children:"Overview"})]}),(0,t.jsxs)("button",{onClick:()=>s("metrics"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat("metrics"===e?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)("span",{children:"\uD83D\uDCC8"}),(0,t.jsx)("span",{children:"Financial Metrics"})]}),(0,t.jsxs)("button",{onClick:()=>s("revenue"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat("revenue"===e?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)("span",{children:"\uD83D\uDCB0"}),(0,t.jsx)("span",{children:"Revenue Analytics"})]}),(0,t.jsxs)("button",{onClick:()=>s("reports"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat("reports"===e?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)("span",{children:"\uD83D\uDCCB"}),(0,t.jsx)("span",{children:"Reports"})]}),(0,t.jsxs)("button",{onClick:()=>s("strategy"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat("strategy"===e?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)("span",{children:"\uD83C\uDFAF"}),(0,t.jsx)("span",{children:"Strategy"})]}),(0,t.jsxs)("button",{onClick:()=>s("outreach"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat("outreach"===e?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)("span",{children:"\uD83D\uDCE7"}),(0,t.jsx)("span",{children:"Enhanced Outreach"})]}),(0,t.jsxs)("button",{onClick:()=>s("leverage"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat("leverage"===e?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)("span",{children:"\uD83E\uDD1D"}),(0,t.jsx)("span",{children:"Leverage Current"})]}),(0,t.jsxs)("button",{onClick:()=>s("live"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat("live"===e?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)("span",{children:"⚡"}),(0,t.jsx)("span",{children:"Live Metrics"})]})]})})}),(0,t.jsxs)("div",{className:"flex-1 overflow-auto p-6 space-y-6",children:["overview"===e&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(u,{})}),"metrics"===e&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(v.F,{standalone:!0,variant:"detailed"})}),"revenue"===e&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(g,{})}),"reports"===e&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(eo,{})}),"strategy"===e&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(_,{})}),"outreach"===e&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(X,{})}),"leverage"===e&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(ea,{})}),"live"===e&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(el,{})})]})]})]})}S.A,A.A,en.A},52472:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(71847).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},52987:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(71847).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},89559:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(71847).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}}]);