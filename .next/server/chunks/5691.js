"use strict";exports.id=5691,exports.ids=[5691],exports.modules={14129:(a,b,c)=>{c.d(b,{w:()=>l});var d=c(21124),e=c(38301);c(23312);var f=c(96425),g=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{let c=(0,f.TL)(`Primitive.${b}`),g=e.forwardRef((a,e)=>{let{asChild:f,...g}=a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,d.jsx)(f?c:b,{...g,ref:e})});return g.displayName=`Primitive.${b}`,{...a,[b]:g}},{}),h="horizontal",i=["horizontal","vertical"],j=e.forwardRef((a,b)=>{var c;let{decorative:e,orientation:f=h,...j}=a,k=(c=f,i.includes(c))?f:h;return(0,d.jsx)(g.div,{"data-orientation":k,...e?{role:"none"}:{"aria-orientation":"vertical"===k?k:void 0,role:"separator"},...j,ref:b})});j.displayName="Separator";var k=c(15514);let l=e.forwardRef(({className:a,orientation:b="horizontal",decorative:c=!0,...e},f)=>(0,d.jsx)(j,{ref:f,decorative:c,orientation:b,className:(0,k.cn)("shrink-0 bg-border","horizontal"===b?"h-[1px] w-full":"h-full w-[1px]",a),...e}));l.displayName=j.displayName},55691:(a,b,c)=>{c.d(b,{w:()=>y});var d=c(21124),e=c(38301),f=c(96610),g=c(21393),h=c(72124),i=c(88380),j=c(45119),k=c(19217),l=c(22544),m=c(68877),n=c(28241),o=c(7629),p=c(33847),q=c(53199),r=c(14129),s=c(62037),t=c(3663),u=c(67748),v=c(32717);let w=(0,c(23339).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var x=c(78583);function y(){let a,{toast:b}=(0,s.dj)(),c=(0,f.jE)(),[y,z]=(0,e.useState)(""),[A,B]=(0,e.useState)(""),[C,D]=(0,e.useState)(""),[E,F]=(0,e.useState)(""),[G,H]=(0,e.useState)(""),[I,J]=(0,e.useState)(""),{data:K,isLoading:L}=(0,g.I)({queryKey:["/api/content/substack/recommendations"],refetchInterval:!1}),{data:M,isLoading:N}=(0,g.I)({queryKey:["/api/content/templates"],refetchInterval:!1}),O=(0,h.n)({mutationFn:async a=>await (0,i.AT)("/api/content/substack/convert",{method:"POST",body:JSON.stringify(a)}),onSuccess:a=>{b({title:"Conversion Successful!",description:`Substack post converted to lead magnet: ${a.magnetId}`}),c.invalidateQueries({queryKey:["/api/lead-magnets"]}),z(""),B(""),D("")},onError:a=>{b({variant:"destructive",title:"Conversion Failed",description:a.message||"Failed to convert Substack post"})}}),P=(0,h.n)({mutationFn:async a=>await (0,i.AT)("/api/content/convert",{method:"POST",body:JSON.stringify(a)}),onSuccess:a=>{b({title:"Content Converted!",description:`Content converted to lead magnet: ${a.magnetId}`}),c.invalidateQueries({queryKey:["/api/lead-magnets"]}),F(""),H(""),J("")},onError:a=>{b({variant:"destructive",title:"Conversion Failed",description:a.message||"Failed to convert content"})}});if(L||N)return(0,d.jsx)("div",{className:"p-6 max-w-6xl mx-auto",children:(0,d.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,d.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),(0,d.jsx)("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]})});let Q=K?.recommendedConversions||[],R=M?.templates||[];return(0,d.jsxs)("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Content Converter"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Transform your Substack content and other materials into high-converting lead magnets"})]}),(0,d.jsxs)(l.E,{variant:"secondary",className:"text-sm",children:[K?.totalPosts||0," Posts Available"]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,d.jsx)(j.Zp,{children:(0,d.jsx)(j.Wu,{className:"p-6",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(t.A,{className:"h-8 w-8 text-blue-600"}),(0,d.jsxs)("div",{className:"ml-4",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Posts"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:K?.totalPosts||0})]})]})})}),(0,d.jsx)(j.Zp,{children:(0,d.jsx)(j.Wu,{className:"p-6",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(u.A,{className:"h-8 w-8 text-green-600"}),(0,d.jsxs)("div",{className:"ml-4",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"High-Value Candidates"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:Q.length})]})]})})}),(0,d.jsx)(j.Zp,{children:(0,d.jsx)(j.Wu,{className:"p-6",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(v.A,{className:"h-8 w-8 text-purple-600"}),(0,d.jsxs)("div",{className:"ml-4",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Potential Value"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:(a=K?.potentialLeadValue||0,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a))})]})]})})})]}),(0,d.jsxs)(m.tU,{defaultValue:"substack",className:"w-full",children:[(0,d.jsxs)(m.j7,{className:"grid w-full grid-cols-2",children:[(0,d.jsx)(m.Xi,{value:"substack",children:"Substack Conversion"}),(0,d.jsx)(m.Xi,{value:"custom",children:"Custom Content"})]}),(0,d.jsx)(m.av,{value:"substack",className:"space-y-6",children:(0,d.jsxs)(j.Zp,{children:[(0,d.jsx)(j.aR,{children:(0,d.jsxs)(j.ZB,{className:"flex items-center",children:[(0,d.jsx)(w,{className:"h-5 w-5 mr-2"}),"Convert Substack Posts"]})}),(0,d.jsx)(j.Wu,{className:"space-y-4",children:0===Q.length?(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No high-value conversion candidates found. All posts may already be converted or need manual review."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"grid gap-4",children:Q.slice(0,5).map(a=>(0,d.jsx)("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${y===a.post.id?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,onClick:()=>z(a.post.id),"data-testid":`post-candidate-${a.post.id}`,children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",children:a.post.title}),a.post.subtitle&&(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:a.post.subtitle}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,d.jsxs)(l.E,{variant:"outline",children:["Score: ",a.conversionScore,"/10"]}),(0,d.jsx)(l.E,{variant:"secondary",children:a.suggestedCategory}),(0,d.jsxs)("span",{className:"text-sm text-gray-500",children:[a.post.readingTime," min read"]})]}),(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:a.reasoning})]}),(0,d.jsx)(k.$,{variant:"ghost",size:"sm",onClick:b=>{b.stopPropagation(),window.open(a.post.url,"_blank")},"data-testid":`view-post-${a.post.id}`,children:(0,d.jsx)(x.A,{className:"h-4 w-4"})})]})},a.post.id))}),(0,d.jsx)(r.w,{}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(q.J,{htmlFor:"custom-title",children:"Custom Title (Optional)"}),(0,d.jsx)(o.p,{id:"custom-title",placeholder:"Override default title...",value:A,onChange:a=>B(a.target.value),"data-testid":"input-custom-title"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(q.J,{htmlFor:"custom-category",children:"Custom Category (Optional)"}),(0,d.jsxs)(n.l6,{value:C,onValueChange:D,children:[(0,d.jsx)(n.bq,{"data-testid":"select-custom-category",children:(0,d.jsx)(n.yv,{placeholder:"Override suggested category..."})}),(0,d.jsxs)(n.gC,{children:[(0,d.jsx)(n.eb,{value:"h1b",children:"H1B"}),(0,d.jsx)(n.eb,{value:"eb5",children:"EB-5"}),(0,d.jsx)(n.eb,{value:"greencard",children:"Green Card"}),(0,d.jsx)(n.eb,{value:"uscis",children:"USCIS"}),(0,d.jsx)(n.eb,{value:"family",children:"Family"}),(0,d.jsx)(n.eb,{value:"general",children:"General"})]})]})]})]}),(0,d.jsx)(k.$,{onClick:()=>{if(!y)return void b({variant:"destructive",title:"Selection Required",description:"Please select a Substack post to convert"});O.mutate({postId:y,customTitle:A||void 0,customCategory:C||void 0})},disabled:!y||O.isPending,className:"w-full","data-testid":"button-convert-post",children:O.isPending?"Converting...":"Convert Selected Post"})]})})]})}),(0,d.jsx)(m.av,{value:"custom",className:"space-y-6",children:(0,d.jsxs)(j.Zp,{children:[(0,d.jsx)(j.aR,{children:(0,d.jsx)(j.ZB,{children:"Convert Custom Content"})}),(0,d.jsxs)(j.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(q.J,{htmlFor:"custom-content",children:"Source Content"}),(0,d.jsx)(p.T,{id:"custom-content",placeholder:"Paste your content here (blog post, article, etc.)...",value:E,onChange:a=>F(a.target.value),rows:8,"data-testid":"textarea-custom-content"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(q.J,{htmlFor:"target-category",children:"Target Category"}),(0,d.jsxs)(n.l6,{value:G,onValueChange:H,children:[(0,d.jsx)(n.bq,{"data-testid":"select-target-category",children:(0,d.jsx)(n.yv,{placeholder:"Select category..."})}),(0,d.jsxs)(n.gC,{children:[(0,d.jsx)(n.eb,{value:"h1b",children:"H1B"}),(0,d.jsx)(n.eb,{value:"eb5",children:"EB-5"}),(0,d.jsx)(n.eb,{value:"greencard",children:"Green Card"}),(0,d.jsx)(n.eb,{value:"uscis",children:"USCIS"}),(0,d.jsx)(n.eb,{value:"family",children:"Family"}),(0,d.jsx)(n.eb,{value:"general",children:"General"})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(q.J,{htmlFor:"template-select",children:"Template (Optional)"}),(0,d.jsxs)(n.l6,{value:I,onValueChange:J,children:[(0,d.jsx)(n.bq,{"data-testid":"select-template",children:(0,d.jsx)(n.yv,{placeholder:"Choose template..."})}),(0,d.jsx)(n.gC,{children:R.map(a=>(0,d.jsx)(n.eb,{value:a.id,children:a.name},a.id))})]})]})]}),I&&(0,d.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,d.jsx)("h4",{className:"font-semibold mb-2",children:"Template Structure:"}),(0,d.jsx)("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:R.find(a=>a.id===I)?.structure.map((a,b)=>(0,d.jsxs)("li",{children:["â€¢ ",a]},b))})]}),(0,d.jsx)(k.$,{onClick:()=>{if(!E.trim()||!G)return void b({variant:"destructive",title:"Content Required",description:"Please provide content and select a target category"});P.mutate({sourceContent:E,targetCategory:G,template:I||void 0})},disabled:!E.trim()||!G||P.isPending,className:"w-full","data-testid":"button-convert-content",children:P.isPending?"Converting...":"Convert Content"})]})]})})]})]})}}};