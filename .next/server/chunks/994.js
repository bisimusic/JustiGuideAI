"use strict";exports.id=994,exports.ids=[994],exports.modules={14263:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},26519:(a,b,c)=>{c.d(b,{Fc:()=>i,TN:()=>j});var d=c(21124),e=c(38301),f=c(26691),g=c(15514);let h=(0,f.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=e.forwardRef(({className:a,variant:b,...c},e)=>(0,d.jsx)("div",{ref:e,role:"alert",className:(0,g.cn)(h({variant:b}),a),...c}));i.displayName="Alert",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("h5",{ref:c,className:(0,g.cn)("mb-1 font-medium leading-none tracking-tight",a),...b})).displayName="AlertTitle";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,g.cn)("text-sm [&_p]:leading-relaxed",a),...b}));j.displayName="AlertDescription"},43700:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},55224:(a,b,c)=>{c.d(b,{E:()=>f});var d=c(21124),e=c(15514);function f({className:a,...b}){return(0,d.jsx)("div",{className:(0,e.cn)("animate-pulse rounded-md bg-muted",a),...b})}},69957:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},71563:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},72966:(a,b,c)=>{c.d(b,{F:()=>h});var d=c(21124),e=c(38301),f=c(84550),g=c(15514);let h=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.bL,{ref:e,className:(0,g.cn)("relative overflow-hidden",a),...c,children:[(0,d.jsx)(f.LM,{className:"h-full w-full rounded-[inherit]",children:b}),(0,d.jsx)(i,{}),(0,d.jsx)(f.OK,{})]}));h.displayName=f.bL.displayName;let i=e.forwardRef(({className:a,orientation:b="vertical",...c},e)=>(0,d.jsx)(f.VM,{ref:e,orientation:b,className:(0,g.cn)("flex touch-none select-none transition-colors","vertical"===b&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===b&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...c,children:(0,d.jsx)(f.lr,{className:"relative flex-1 rounded-full bg-border"})}));i.displayName=f.VM.displayName},80994:(a,b,c)=>{c.r(b),c.d(b,{default:()=>P});var d=c(21124),e=c(38301),f=c(45119),g=c(19217),h=c(7629),i=c(33847),j=c(22544),k=c(68877),l=c(26519),m=c(88020),n=c(96610),o=c(21393),p=c(72124),q=c(88380),r=c(67748),s=c(32717),t=c(65893),u=c(23339);let v=(0,u.A)("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var w=c(65828),x=c(14263),y=c(43700),z=c(15982),A=c(3663),B=c(71563),C=c(62037),D=c(72966),E=c(18310),F=c(59268);let G=(0,u.A)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),H=(0,u.A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var I=c(71213),J=c(69957),K=c(78583),L=c(15303),M=c(55224);function N(){let{toast:a}=(0,C.dj)(),{data:b,isLoading:c}=(0,o.I)({queryKey:["/api/lawyer-listening/stats"]}),{data:e,isLoading:g,refetch:h}=(0,o.I)({queryKey:["/api/lawyer-listening/leads"]}),i=(0,p.n)({mutationFn:async({id:a,contacted:b})=>(0,q.AT)("/api/lawyer-listening/leads/"+a+"/contact",{method:"PATCH",body:JSON.stringify({contacted:b})}),onSuccess:()=>{q.qQ.invalidateQueries({queryKey:["/api/lawyer-listening/leads"]}),q.qQ.invalidateQueries({queryKey:["/api/lawyer-listening/stats"]}),a({title:"Contact status updated",description:"Lawyer contact status has been updated successfully"})}}),j=(0,p.n)({mutationFn:async a=>(0,q.AT)("/api/lawyer-listening/leads/"+a+"/recruit",{method:"POST"}),onSuccess:()=>{q.qQ.invalidateQueries({queryKey:["/api/lawyer-listening/leads"]}),a({title:"Added to recruitment",description:"Lawyer has been added to the recruitment pipeline"})}}),l=b?.stats,m=e?.leads||[],n=a=>a>=8?"text-green-600 dark:text-green-400":a>=6?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",r=a=>({reddit:"bg-orange-500",linkedin:"bg-blue-600",twitter:"bg-sky-500",facebook:"bg-blue-500",instagram:"bg-pink-500"})[a.toLowerCase()]||"bg-gray-500",s=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(a),t=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=m.filter(a=>parseFloat(a.fitScore)>=7),v=m.filter(a=>!a.contacted);return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:c?(0,d.jsx)(d.Fragment,{children:[1,2,3,4].map(a=>(0,d.jsxs)(f.Zp,{children:[(0,d.jsx)(f.aR,{className:"pb-2",children:(0,d.jsx)(M.E,{className:"h-4 w-24"})}),(0,d.jsx)(f.Wu,{children:(0,d.jsx)(M.E,{className:"h-8 w-16"})})]},a))}):l?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(f.Zp,{"data-testid":"card-lawyer-total",children:[(0,d.jsx)(f.aR,{className:"pb-2",children:(0,d.jsx)(f.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Total Lawyers Found"})}),(0,d.jsxs)(f.Wu,{children:[(0,d.jsx)("div",{className:"text-3xl font-bold","data-testid":"text-lawyer-total",children:l.total}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[l.highFitLeads," high-fit (7.0+ score)"]})]})]}),(0,d.jsxs)(f.Zp,{"data-testid":"card-lawyer-contacted",children:[(0,d.jsx)(f.aR,{className:"pb-2",children:(0,d.jsx)(f.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Contacted"})}),(0,d.jsxs)(f.Wu,{children:[(0,d.jsx)("div",{className:"text-3xl font-bold","data-testid":"text-lawyer-contacted",children:l.contacted}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[l.total-l.contacted," pending contact"]})]})]}),(0,d.jsxs)(f.Zp,{"data-testid":"card-lawyer-potential-value",children:[(0,d.jsx)(f.aR,{className:"pb-2",children:(0,d.jsx)(f.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Potential Value"})}),(0,d.jsxs)(f.Wu,{children:[(0,d.jsx)("div",{className:"text-3xl font-bold","data-testid":"text-lawyer-potential-value",children:s(l.totalPotentialValue)}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Total partnership value"})]})]}),(0,d.jsxs)(f.Zp,{"data-testid":"card-lawyer-monthly-revenue",children:[(0,d.jsx)(f.aR,{className:"pb-2",children:(0,d.jsx)(f.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Est. Monthly Revenue"})}),(0,d.jsxs)(f.Wu,{children:[(0,d.jsx)("div",{className:"text-3xl font-bold","data-testid":"text-lawyer-monthly-revenue",children:s(l.totalEstimatedMonthlyRevenue)}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"From referral fees (20%)"})]})]})]}):null}),(0,d.jsxs)(k.tU,{defaultValue:"all",className:"w-full",children:[(0,d.jsxs)(k.j7,{className:"grid w-full grid-cols-3",children:[(0,d.jsxs)(k.Xi,{value:"all","data-testid":"tab-all-lawyers",children:["All Lawyers (",m.length,")"]}),(0,d.jsxs)(k.Xi,{value:"high-fit","data-testid":"tab-high-fit-lawyers",children:["High Fit (",u.length,")"]}),(0,d.jsxs)(k.Xi,{value:"uncontacted","data-testid":"tab-uncontacted-lawyers",children:["Uncontacted (",v.length,")"]})]}),(0,d.jsx)(k.av,{value:"all",className:"mt-4",children:(0,d.jsx)(O,{leads:m,isLoading:g,onContact:i.mutate,onRecruit:j.mutate,getScoreColor:n,getPlatformColor:r,formatCurrency:s,formatDate:t})}),(0,d.jsx)(k.av,{value:"high-fit",className:"mt-4",children:(0,d.jsx)(O,{leads:u,isLoading:g,onContact:i.mutate,onRecruit:j.mutate,getScoreColor:n,getPlatformColor:r,formatCurrency:s,formatDate:t})}),(0,d.jsx)(k.av,{value:"uncontacted",className:"mt-4",children:(0,d.jsx)(O,{leads:v,isLoading:g,onContact:i.mutate,onRecruit:j.mutate,getScoreColor:n,getPlatformColor:r,formatCurrency:s,formatDate:t})})]})]})}function O({leads:a,isLoading:b,onContact:c,onRecruit:e,getScoreColor:h,getPlatformColor:i,formatCurrency:k,formatDate:l}){return b?(0,d.jsx)("div",{className:"space-y-4",children:[1,2,3].map(a=>(0,d.jsxs)(f.Zp,{children:[(0,d.jsxs)(f.aR,{children:[(0,d.jsx)(M.E,{className:"h-6 w-48"}),(0,d.jsx)(M.E,{className:"h-4 w-64 mt-2"})]}),(0,d.jsx)(f.Wu,{children:(0,d.jsx)(M.E,{className:"h-20 w-full"})})]},a))}):0===a.length?(0,d.jsx)(f.Zp,{children:(0,d.jsxs)(f.Wu,{className:"flex flex-col items-center justify-center py-12",children:[(0,d.jsx)(E.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,d.jsx)("p",{className:"text-lg font-medium text-muted-foreground",children:"No lawyer leads found"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Lawyer social listening will discover attorneys seeking clients on social media"})]})}):(0,d.jsx)(D.F,{className:"h-[600px]",children:(0,d.jsx)("div",{className:"space-y-4 pr-4",children:a.map(a=>(0,d.jsxs)(f.Zp,{className:"hover:shadow-md transition-shadow","data-testid":`card-lawyer-${a.id}`,children:[(0,d.jsx)(f.aR,{children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(j.E,{className:i(a.sourcePlatform),children:a.sourcePlatform}),a.contacted&&(0,d.jsxs)(j.E,{variant:"outline",className:"bg-green-50 dark:bg-green-950 text-green-700 dark:text-green-300",children:[(0,d.jsx)(F.A,{className:"h-3 w-3 mr-1"}),"Contacted"]}),a.lookingForClients&&(0,d.jsxs)(j.E,{variant:"outline",className:"bg-blue-50 dark:bg-blue-950 text-blue-700 dark:text-blue-300",children:[(0,d.jsx)(G,{className:"h-3 w-3 mr-1"}),"Seeking Clients"]})]}),(0,d.jsx)(f.ZB,{className:"text-lg","data-testid":`text-lawyer-name-${a.id}`,children:a.lawyerName||a.authorUsername}),a.firmName&&(0,d.jsxs)(f.BT,{className:"mt-1",children:[(0,d.jsx)(H,{className:"inline h-3 w-3 mr-1"}),a.firmName]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:`text-2xl font-bold ${h(parseFloat(a.fitScore))}`,children:parseFloat(a.fitScore).toFixed(1)}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Fit Score"})]})]})}),(0,d.jsxs)(f.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[a.email&&(0,d.jsxs)("div",{className:"flex items-center gap-1","data-testid":`text-lawyer-email-${a.id}`,children:[(0,d.jsx)(z.A,{className:"h-3 w-3"}),a.email]}),a.phone&&(0,d.jsxs)("div",{className:"flex items-center gap-1","data-testid":`text-lawyer-phone-${a.id}`,children:[(0,d.jsx)(I.A,{className:"h-3 w-3"}),a.phone]}),a.location&&(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(J.A,{className:"h-3 w-3"}),a.location]})]}),a.specializations&&a.specializations.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Specializations:"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:a.specializations.map((a,b)=>(0,d.jsx)(j.E,{variant:"secondary",className:"text-xs",children:a.replace("_"," ").toUpperCase()},b))})]}),(0,d.jsxs)("div",{className:"bg-muted/50 dark:bg-muted/20 p-3 rounded-md",children:[(0,d.jsx)("p",{className:"text-xs font-medium mb-1",children:a.postTitle||"Post"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:a.postContent}),(0,d.jsxs)("a",{href:a.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 dark:text-blue-400 hover:underline mt-1 inline-flex items-center gap-1","data-testid":`link-lawyer-source-${a.id}`,children:["View original post",(0,d.jsx)(K.A,{className:"h-3 w-3"})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-2 border-t",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Quality"}),(0,d.jsxs)("p",{className:"text-sm font-semibold",children:[parseFloat(a.aiQualityScore).toFixed(1),"/10"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Experience"}),(0,d.jsxs)("p",{className:"text-sm font-semibold",children:[a.yearsExperience||"N/A"," years"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Matches"}),(0,d.jsxs)("p",{className:"text-sm font-semibold",children:[a.leadMatchCount," leads"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Value"}),(0,d.jsx)("p",{className:"text-sm font-semibold",children:k(a.potentialValue)})]})]}),(0,d.jsxs)("div",{className:"flex gap-2 pt-2",children:[a.contacted?(0,d.jsxs)(g.$,{onClick:()=>c({id:a.id,contacted:!1}),size:"sm",variant:"outline",children:[(0,d.jsx)(L.A,{className:"h-4 w-4 mr-2"}),"Mark as Uncontacted"]}):(0,d.jsxs)(g.$,{onClick:()=>c({id:a.id,contacted:!0}),size:"sm",variant:"default","data-testid":`button-contact-lawyer-${a.id}`,children:[(0,d.jsx)(z.A,{className:"h-4 w-4 mr-2"}),"Mark as Contacted"]}),(0,d.jsxs)(g.$,{onClick:()=>e(a.id),size:"sm",variant:"secondary","data-testid":`button-recruit-lawyer-${a.id}`,children:[(0,d.jsx)(r.A,{className:"h-4 w-4 mr-2"}),"Add to Recruitment"]})]}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Discovered ",l(a.discoveredAt),a.contactedAt&&` • Contacted ${l(a.contactedAt)}`]})]})]},a.id))})})}function P(){let[a,b]=(0,e.useState)([]),[c,u]=(0,e.useState)({email:"",firstName:"",lastName:"",firm:"",specialization:"",location:""}),[D,E]=(0,e.useState)([]),[F,G]=(0,e.useState)(0),{toast:H}=(0,C.dj)(),I=(0,n.jE)(),{data:J,isLoading:K}=(0,o.I)({queryKey:["/api/lawyer-recruitment/market-analysis"],queryFn:async()=>(await (0,q.AT)("/api/lawyer-recruitment/market-analysis")).opportunities}),{data:L}=(0,o.I)({queryKey:["/api/lawyer-recruitment/campaign-stats"],queryFn:async()=>(await (0,q.AT)("/api/lawyer-recruitment/campaign-stats")).stats}),{data:M}=(0,o.I)({queryKey:["/api/lawyer-database/import-stats"],queryFn:async()=>(await (0,q.AT)("/api/lawyer-database/import-stats")).stats}),O=(0,p.n)({mutationFn:async a=>(await (0,q.AT)("/api/lawyer-recruitment/generate-campaign",{method:"POST",body:JSON.stringify({lawyerContacts:a}),headers:{"Content-Type":"application/json"}})).campaignEmails,onSuccess:a=>{E(a),H({title:"Campaign Generated",description:`Generated ${a.length} personalized recruitment emails`})},onError:a=>{H({title:"Generation Failed",description:"Failed to generate recruitment campaign",variant:"destructive"})}}),P=(0,p.n)({mutationFn:async a=>(await (0,q.AT)("/api/lawyer-recruitment/send-campaign",{method:"POST",body:JSON.stringify({campaignEmails:a}),headers:{"Content-Type":"application/json"}})).results,onSuccess:a=>{I.invalidateQueries({queryKey:["/api/lawyer-recruitment/campaign-stats"]}),H({title:"Campaign Sent",description:`${a.sent} emails sent successfully, ${a.failed} failed`}),G(100)},onError:()=>{H({title:"Send Failed",description:"Failed to send recruitment campaign",variant:"destructive"})}}),Q=(0,p.n)({mutationFn:async()=>await (0,q.AT)("/api/lawyer-database/import",{method:"POST",headers:{"Content-Type":"application/json"}}),onSuccess:a=>{I.invalidateQueries({queryKey:["/api/lawyer-database/import-stats"]}),H({title:"Database Import Successful",description:`Imported ${a.imported} lawyer contacts from database`})},onError:()=>{H({title:"Import Failed",description:"Failed to import lawyer database",variant:"destructive"})}}),R=(0,p.n)({mutationFn:async()=>await (0,q.AT)("/api/lawyer-database/generate-campaign",{method:"POST",headers:{"Content-Type":"application/json"}}),onSuccess:a=>{E(a.campaignEmails),b(a.lawyerContacts),H({title:"Database Campaign Generated",description:`Generated campaign for ${a.totalLawyers} lawyers from database`})},onError:()=>{H({title:"Generation Failed",description:"Failed to generate campaign from database",variant:"destructive"})}});return(0,d.jsxs)("div",{className:"container mx-auto py-8 space-y-8","data-testid":"lawyer-recruitment-page",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Lawyer Recruitment"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Generate targeted recruitment campaigns to grow the JustiGuide lawyer network"})]}),(0,d.jsx)(g.$,{onClick:()=>window.open("https://www.justi.guide/get_started/","_blank"),className:"bg-blue-600 hover:bg-blue-700","data-testid":"button-view-signup",children:"View Signup Page"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,d.jsxs)(f.Zp,{"data-testid":"card-market-opportunities",children:[(0,d.jsxs)(f.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(f.ZB,{className:"text-sm font-medium",children:"Market Opportunities"}),(0,d.jsx)(r.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(f.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold","data-testid":"text-total-opportunities",children:J?.length||0}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active service categories"})]})]}),(0,d.jsxs)(f.Zp,{"data-testid":"card-potential-revenue",children:[(0,d.jsxs)(f.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(f.ZB,{className:"text-sm font-medium",children:"Potential Revenue"}),(0,d.jsx)(s.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(f.Wu,{children:[(0,d.jsxs)("div",{className:"text-2xl font-bold","data-testid":"text-potential-revenue",children:["$",L?.totalPotentialRevenue?.toLocaleString()||"0"]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Available for lawyer partnerships"})]})]}),(0,d.jsxs)(f.Zp,{"data-testid":"card-avg-lead-value",children:[(0,d.jsxs)(f.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(f.ZB,{className:"text-sm font-medium",children:"Avg Lead Value"}),(0,d.jsx)(t.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(f.Wu,{children:[(0,d.jsxs)("div",{className:"text-2xl font-bold","data-testid":"text-avg-lead-value",children:["$",L?.averageLeadValue||"0"]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Per qualified lead"})]})]})]}),(0,d.jsxs)(k.tU,{defaultValue:"database",className:"space-y-6",children:[(0,d.jsxs)(k.j7,{className:"grid w-full grid-cols-6",children:[(0,d.jsx)(k.Xi,{value:"database","data-testid":"tab-database",children:"Database Import"}),(0,d.jsxs)(k.Xi,{value:"social-listening","data-testid":"tab-social-listening",children:[(0,d.jsx)(v,{className:"h-4 w-4 mr-2"}),"Social Listening"]}),(0,d.jsx)(k.Xi,{value:"contacts","data-testid":"tab-contacts",children:"Manage Contacts"}),(0,d.jsx)(k.Xi,{value:"market","data-testid":"tab-market",children:"Market Analysis"}),(0,d.jsx)(k.Xi,{value:"campaign","data-testid":"tab-campaign",children:"Campaign Preview"}),(0,d.jsx)(k.Xi,{value:"stats","data-testid":"tab-stats",children:"Campaign Stats"})]}),(0,d.jsx)(k.av,{value:"database",className:"space-y-6",children:(0,d.jsxs)(f.Zp,{"data-testid":"card-database-import",children:[(0,d.jsxs)(f.aR,{children:[(0,d.jsxs)(f.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(w.A,{className:"h-5 w-5"}),"Lawyer Database Import"]}),(0,d.jsx)(f.BT,{children:"Import law firms and contacts from our curated database of immigration attorneys"})]}),(0,d.jsxs)(f.Wu,{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-blue-600","data-testid":"text-total-firms",children:M?.totalFirms||0}),(0,d.jsx)("div",{className:"text-sm text-blue-600",children:"Law Firms Available"})]}),(0,d.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[(0,d.jsxs)("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-avg-experience",children:[M?.experienceRange?.avg||0," years"]}),(0,d.jsx)("div",{className:"text-sm text-green-600",children:"Average Experience"})]}),(0,d.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-purple-600","data-testid":"text-specializations",children:Object.keys(M?.specializations||{}).length}),(0,d.jsx)("div",{className:"text-sm text-purple-600",children:"Specializations"})]})]}),M?.specializations&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-3",children:"Specialization Breakdown"}),(0,d.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Object.entries(M.specializations).map(([a,b])=>(0,d.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[(0,d.jsx)("span",{className:"text-sm",children:a}),(0,d.jsx)(j.E,{variant:"secondary",children:b})]},a))})]}),(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsxs)(g.$,{onClick:()=>Q.mutate(),disabled:Q.isPending,"data-testid":"button-import-database",children:[Q.isPending&&(0,d.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}),(0,d.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Import Lawyer Database"]}),(0,d.jsxs)(g.$,{variant:"outline",onClick:()=>R.mutate(),disabled:R.isPending,"data-testid":"button-generate-db-campaign",children:[R.isPending&&(0,d.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}),(0,d.jsx)(z.A,{className:"mr-2 h-4 w-4"}),"Generate Campaign from Database"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-3",children:"Law Firms in Database"}),(0,d.jsxs)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[(0,d.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,d.jsx)("div",{className:"font-medium",children:"Law Office of Amie D. Miller"}),(0,d.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Amie D. Miller • 25 years experience"}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:"Family immigration, LGBT immigration, citizenship, waivers, asylum"}),(0,d.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"369 Pine St, Suite 725, San Francisco, CA 94104 • (415) 362-8602"})]}),(0,d.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,d.jsx)("div",{className:"font-medium",children:"Corner Stone Law Group"}),(0,d.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Harry G. Lewis • 31 years experience"}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:"Employment, immigration, and business law"}),(0,d.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"351 California St, #600, San Francisco, CA 94104"})]}),(0,d.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,d.jsx)("div",{className:"font-medium",children:"Warren Law Firm"}),(0,d.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Angela D. Warren • 29 years experience"}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:"Asylum, citizenship, deportation defense, work visas, individual & family visas"}),(0,d.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"601 Montgomery St, Suite 665, San Francisco, CA 94111 • (415) 993-4476"})]}),(0,d.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,d.jsx)("div",{className:"font-medium",children:"K & G Law Firm, LLP"}),(0,d.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Liliana Gallelli • 15 years experience"}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:"Business visas (L1s, E2s, H1Bs), family petitions, removal proceedings, asylum, U visas"}),(0,d.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"465 California St, Suite 607, San Francisco, CA 94104 • (650) 718-1800"})]}),(0,d.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,d.jsx)("div",{className:"font-medium",children:"Law Offices of Sweta Khandelwal"}),(0,d.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sweta Khandelwal • 20 years experience"}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:"Visas, green cards, citizenship for 50+ nationalities - comprehensive immigration solutions"}),(0,d.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"San Francisco, San Jose, Palo Alto • SF: (408) 317-4662"})]})]})]})]})]})}),(0,d.jsxs)(k.av,{value:"contacts",className:"space-y-6",children:[(0,d.jsxs)(f.Zp,{"data-testid":"card-add-contacts",children:[(0,d.jsxs)(f.aR,{children:[(0,d.jsxs)(f.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(t.A,{className:"h-5 w-5"}),"Add Lawyer Contacts"]}),(0,d.jsx)(f.BT,{children:"Add immigration lawyers to recruit for the JustiGuide platform"})]}),(0,d.jsxs)(f.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsx)(h.p,{placeholder:"Email",value:c.email,onChange:a=>u({...c,email:a.target.value}),"data-testid":"input-email"}),(0,d.jsx)(h.p,{placeholder:"First Name",value:c.firstName,onChange:a=>u({...c,firstName:a.target.value}),"data-testid":"input-first-name"}),(0,d.jsx)(h.p,{placeholder:"Last Name",value:c.lastName,onChange:a=>u({...c,lastName:a.target.value}),"data-testid":"input-last-name"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsx)(h.p,{placeholder:"Law Firm (optional)",value:c.firm,onChange:a=>u({...c,firm:a.target.value}),"data-testid":"input-firm"}),(0,d.jsx)(h.p,{placeholder:"Specialization (optional)",value:c.specialization,onChange:a=>u({...c,specialization:a.target.value}),"data-testid":"input-specialization"}),(0,d.jsx)(h.p,{placeholder:"Location (optional)",value:c.location,onChange:a=>u({...c,location:a.target.value}),"data-testid":"input-location"})]}),(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsx)(g.$,{onClick:()=>{if(!c.email||!c.firstName||!c.lastName)return void H({title:"Missing Information",description:"Please fill in email, first name, and last name",variant:"destructive"});b([...a,c]),u({email:"",firstName:"",lastName:"",firm:"",specialization:"",location:""}),H({title:"Contact Added",description:`Added ${c.firstName} ${c.lastName} to recruitment list`})},"data-testid":"button-add-contact",children:"Add Contact"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{type:"file",accept:".csv",onChange:c=>{let d=c.target.files?.[0];if(!d)return;let e=new FileReader;e.onload=c=>{try{let d=(c.target?.result).split("\n"),e=d[0].split(",").map(a=>a.trim().toLowerCase()),f=[];for(let a=1;a<d.length;a++){let b=d[a].split(",").map(a=>a.trim());if(b.length>=e.length){let a={email:b[e.indexOf("email")]||"",firstName:b[e.indexOf("firstname")]||b[e.indexOf("first_name")]||"",lastName:b[e.indexOf("lastname")]||b[e.indexOf("last_name")]||"",firm:b[e.indexOf("firm")]||b[e.indexOf("company")]||"",specialization:b[e.indexOf("specialization")]||b[e.indexOf("practice_area")]||"",location:b[e.indexOf("location")]||b[e.indexOf("city")]||""};a.email&&a.firstName&&a.lastName&&f.push(a)}}b([...a,...f]),H({title:"Import Successful",description:`Imported ${f.length} lawyer contacts from CSV`})}catch(a){H({title:"Import Failed",description:"Failed to parse CSV file",variant:"destructive"})}},e.readAsText(d)},className:"absolute inset-0 opacity-0 cursor-pointer","data-testid":"input-csv-import"}),(0,d.jsxs)(g.$,{variant:"outline",children:[(0,d.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"Import CSV"]})]})]})]})]}),a.length>0&&(0,d.jsxs)(f.Zp,{"data-testid":"card-contacts-list",children:[(0,d.jsx)(f.aR,{children:(0,d.jsxs)(f.ZB,{children:["Lawyer Contacts (",a.length,")"]})}),(0,d.jsxs)(f.Wu,{children:[(0,d.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.map((c,e)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg","data-testid":`contact-${e}`,children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"font-medium",children:[c.firstName," ",c.lastName]}),(0,d.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.email}),c.firm&&(0,d.jsx)("div",{className:"text-xs text-gray-500",children:c.firm}),c.specialization&&(0,d.jsx)(j.E,{variant:"secondary",className:"text-xs mt-1",children:c.specialization})]}),(0,d.jsx)(g.$,{variant:"outline",size:"sm",onClick:()=>{b(a.filter((a,b)=>b!==e))},"data-testid":`button-remove-${e}`,children:"Remove"})]},e))}),(0,d.jsx)("div",{className:"mt-4 flex gap-4",children:(0,d.jsxs)(g.$,{onClick:()=>{if(0===a.length)return void H({title:"No Contacts",description:"Please add lawyer contacts first",variant:"destructive"});O.mutate(a)},disabled:O.isPending,"data-testid":"button-generate-campaign",children:[O.isPending&&(0,d.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Generate Campaign"]})})]})]})]}),(0,d.jsx)(k.av,{value:"market",children:(0,d.jsxs)(f.Zp,{"data-testid":"card-market-analysis",children:[(0,d.jsxs)(f.aR,{children:[(0,d.jsx)(f.ZB,{children:"Market Analysis"}),(0,d.jsx)(f.BT,{children:"Current opportunities available for lawyer recruitment"})]}),(0,d.jsx)(f.Wu,{children:K?(0,d.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,d.jsx)(x.A,{className:"h-8 w-8 animate-spin"})}):(0,d.jsx)("div",{className:"space-y-4",children:J?.slice(0,10).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`opportunity-${b}`,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:a.serviceType||"General Immigration"}),(0,d.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.count," leads • Avg value: $",Math.round(Number(a.avgValue))]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("div",{className:"font-bold text-green-600",children:["$",Math.round(Number(a.totalValue)).toLocaleString()]}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:"Total value"})]})]},b))})})]})}),(0,d.jsx)(k.av,{value:"campaign",children:(0,d.jsxs)(f.Zp,{"data-testid":"card-campaign-preview",children:[(0,d.jsxs)(f.aR,{children:[(0,d.jsxs)(f.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(z.A,{className:"h-5 w-5"}),"Campaign Preview (",D.length," emails)"]}),(0,d.jsx)(f.BT,{children:"Review personalized recruitment emails before sending"})]}),(0,d.jsx)(f.Wu,{children:0===D.length?(0,d.jsx)(l.Fc,{children:(0,d.jsx)(l.TN,{children:"Generate a campaign first to preview the personalized recruitment emails."})}):(0,d.jsxs)("div",{className:"space-y-6",children:[P.isPending&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{children:"Sending campaign..."}),(0,d.jsxs)("span",{children:[F,"%"]})]}),(0,d.jsx)(m.k,{value:F,className:"w-full"})]}),(0,d.jsxs)(g.$,{onClick:()=>{if(0===D.length)return void H({title:"No Campaign",description:"Please generate a campaign first",variant:"destructive"});G(0),P.mutate(D)},disabled:P.isPending,className:"mb-4","data-testid":"button-send-campaign",children:[P.isPending&&(0,d.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}),(0,d.jsx)(B.A,{className:"mr-2 h-4 w-4"}),"Send Campaign"]}),(0,d.jsxs)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[D.slice(0,3).map((a,b)=>(0,d.jsxs)("div",{className:"border rounded-lg p-4","data-testid":`email-preview-${b}`,children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"font-medium",children:[a.firstName," ",a.lastName]}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:a.email})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("div",{className:"text-sm font-medium text-green-600",children:[a.leadOpportunities," leads"]}),(0,d.jsxs)("div",{className:"text-xs text-gray-500",children:["$",a.potentialRevenue.toLocaleString()," potential"]})]})]}),(0,d.jsx)(i.T,{value:a.personalizedMessage.substring(0,300)+"...",readOnly:!0,className:"text-xs bg-gray-50 dark:bg-gray-900",rows:4})]},b)),D.length>3&&(0,d.jsxs)("div",{className:"text-center py-4 text-gray-500",children:["... and ",D.length-3," more personalized emails"]})]})]})})]})}),(0,d.jsx)(k.av,{value:"social-listening",children:(0,d.jsxs)(f.Zp,{"data-testid":"card-social-listening",children:[(0,d.jsxs)(f.aR,{children:[(0,d.jsx)(f.ZB,{children:"Lawyer Social Listening"}),(0,d.jsx)(f.BT,{children:"Discover lawyers actively seeking clients on Reddit, LinkedIn, Twitter, and other platforms"})]}),(0,d.jsx)(f.Wu,{children:(0,d.jsx)(N,{})})]})}),(0,d.jsx)(k.av,{value:"stats",children:(0,d.jsxs)(f.Zp,{"data-testid":"card-campaign-stats",children:[(0,d.jsxs)(f.aR,{children:[(0,d.jsx)(f.ZB,{children:"Campaign Performance"}),(0,d.jsx)(f.BT,{children:"Track recruitment campaign effectiveness"})]}),(0,d.jsx)(f.Wu,{children:L&&(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:"Response Rate:"}),(0,d.jsxs)("span",{className:"font-bold",children:[(100*L.responseRate).toFixed(1),"%"]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:"Signup Rate:"}),(0,d.jsxs)("span",{className:"font-bold",children:[(100*L.signupRate).toFixed(1),"%"]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:"Average Lead Value:"}),(0,d.jsxs)("span",{className:"font-bold",children:["$",L.averageLeadValue]})]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h4",{className:"font-medium",children:"Top Specializations"}),L.topSpecializations?.map((a,b)=>(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsxs)("span",{children:[a.type,":"]}),(0,d.jsxs)("span",{children:[a.count," leads ($",a.avgValue,")"]})]},b))]})]})})]})})]})]})}}};