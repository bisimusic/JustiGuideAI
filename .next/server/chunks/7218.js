"use strict";exports.id=7218,exports.ids=[7218],exports.modules={24101:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},25345:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},46267:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},57218:(a,b,c)=>{c.r(b),c.d(b,{default:()=>al});var d=c(21124),e=c(38301),f=c(21393),g=c(77243),h=c(65345),i=c(22544),j=c(19217),k=c(45119),l=c(88020),m=c(68877),n=c(33305);function o(){let[a,b]=(0,e.useState)("overview"),{data:c}=(0,f.I)({queryKey:["/api/contacts"],queryFn:async()=>(await fetch("/api/contacts")).json()}),{data:g,isLoading:h}=(0,f.I)({queryKey:["/api/investor/metrics"],queryFn:async()=>{let a=await fetch("/api/investor/metrics"),b=await a.json();return b.success?b.metrics:null},refetchInterval:3e4}),o=[{id:"1",name:"Brandon Hammerman",company:"GreenBridge Capital",email:"dse_NA4@docusign.net",status:"committed",amount:25e4,lastContact:"2025-08-14",stage:"Documentation"},{id:"2",name:"Nancy Mangold",company:"East Bay SBDC",email:"ebinfo@eastbaysbdc.org",status:"due_diligence",amount:15e4,lastContact:"2025-08-13",stage:"Term Sheet Review"},{id:"3",name:"Dr. Paul Fangs",company:"Bay Area Founders Club",email:"bayareafoundersclub@substack.com",status:"pitched",amount:2e5,lastContact:"2025-08-12",stage:"Initial Interest"},{id:"5",name:"Derrick",company:"Afore VC",email:"Derrick@afore.vc",status:"prospecting",lastContact:"2025-08-11",stage:"First Contact"}],p=27,q=11,r=7,s={name:"TechCrunch Disrupt Startup Battlefield 200 - $5M Seed",status:"completed",investors_contacted:67,campaign_date:"2025-09-24",subject:"Building Immigration Infrastructure at Internet Scale - Fresh Off TechCrunch Battlefield Selection",response_rate:0,meetings_scheduled:0,expected_meetings:"12-15"},[t,u]=(0,e.useState)(null),[v,w]=(0,e.useState)(!1),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(!1),[B,C]=(0,e.useState)(null),[D,E]=(0,e.useState)(null),F=async()=>{try{let a=await fetch("/api/investors/generate-update",{method:"POST",headers:{"Content-Type":"application/json"}}),b=await a.json();b.success?(u(b.update),w(!0),console.log(`ðŸ“§ Update generated for verification - ${b.update.recipients} investors`)):console.error("âŒ Failed to generate update:",b.message)}catch(a){console.error("Error generating update:",a)}},G=async()=>{y(!0);try{let a=await fetch("/api/investors/send-update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updateContent:t,verified:!0})}),b=await a.json();b.success?(console.log(`âœ… Verified update sent to ${b.recipients} investors`),w(!1),u(null)):console.error("âŒ Failed to send verified update:",b.message)}catch(a){console.error("Error sending verified update:",a)}finally{y(!1)}},H=async()=>{A(!0),C(null);try{let a=await fetch("/api/gmail/extract-sent-investors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({maxResults:100})}),b=await a.json();b.success?(C(b),console.log(`âœ… Found ${b.totalFound} investors in sent emails, added ${b.newInvestorsAdded} new ones`)):console.error("âŒ Failed to scan sent emails:",b.message)}catch(a){console.error("Error scanning sent emails:",a)}finally{A(!1)}},I=async a=>{E(a.id);try{let b=await fetch("/api/investors/generate-contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({investorId:a.id,investorName:a.name,company:a.company,email:a.email,currentStatus:a.status,lastContact:a.lastContact})}),c=await b.json();if(c.success){let b=encodeURIComponent(c.subject||"JustiGuide Update - Immigration Tech Opportunity"),d=encodeURIComponent(c.emailContent||`Hi ${a.name},

I wanted to follow up on our previous conversation about JustiGuide...

Best regards,
JustiGuide Team`),e=`mailto:${a.email}?subject=${b}&body=${d}`;window.open(e,"_blank"),console.log(`ðŸ“§ Opened email client for ${a.name} at ${a.company}`)}else{let b=encodeURIComponent("JustiGuide Update - Immigration Tech Opportunity"),c=encodeURIComponent(`Hi ${a.name},

I wanted to follow up on our previous conversation about JustiGuide's immigration technology platform.

We've been making significant progress and would love to share an update with you.

Best regards,
JustiGuide Team`),d=`mailto:${a.email}?subject=${b}&body=${c}`;window.open(d,"_blank"),console.log(`ðŸ“§ Opened fallback email for ${a.name}`)}}catch(e){console.error("Error contacting investor:",e);let b=encodeURIComponent("JustiGuide Update"),c=encodeURIComponent(`Hi ${a.name},

I wanted to reach out regarding JustiGuide.

Best regards,
JustiGuide Team`),d=`mailto:${a.email}?subject=${b}&body=${c}`;window.open(d,"_blank")}finally{E(null)}},J=14.000000000000002;return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(k.Zp,{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white",children:[(0,d.jsx)(k.aR,{children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(k.ZB,{className:"text-2xl",children:"Preseed Funding Round"}),(0,d.jsx)(k.BT,{className:"text-blue-100",children:"Series Seed â€¢ $5.0M Target â€¢ Immigration Tech"})]}),(0,d.jsx)(j.$,{onClick:F,className:"bg-blue-600 hover:bg-blue-700 text-white",children:"\uD83D\uDCE7 Generate Update"})]})}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,d.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:"Raised"}),(0,d.jsxs)("p",{className:"text-3xl font-bold",children:["$","0.7","M"]}),(0,d.jsx)(l.k,{value:J,className:"mt-2 bg-white/20"}),(0,d.jsxs)("p",{className:"text-sm mt-1 opacity-90",children:[J.toFixed(1),"% of target"]})]}),(0,d.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:"Committed"}),(0,d.jsxs)("p",{className:"text-3xl font-bold",children:["$","0","K"]}),(0,d.jsx)("p",{className:"text-sm opacity-90",children:"Ready to close"})]}),(0,d.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:"Pipeline"}),(0,d.jsxs)("p",{className:"text-3xl font-bold",children:["$","1.8","M"]}),(0,d.jsx)("p",{className:"text-sm opacity-90",children:"In discussions"})]}),(0,d.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:"Meetings"}),(0,d.jsx)("p",{className:"text-3xl font-bold",children:r}),(0,d.jsx)("p",{className:"text-sm opacity-90",children:"This week"})]})]})})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsxs)(k.ZB,{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{children:"\uD83D\uDE80"}),(0,d.jsx)("span",{children:"TechCrunch Disrupt Campaign"}),(0,d.jsx)(i.E,{variant:"default",className:"bg-green-600",children:s.status.toUpperCase()})]}),(0,d.jsx)(k.BT,{children:"Startup Battlefield 200 - $5M Seed Round Outreach Campaign"})]}),(0,d.jsxs)(k.Wu,{children:[(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[(0,d.jsx)("h4",{className:"font-semibold text-blue-800 mb-1",children:"Investors Contacted"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:s.investors_contacted}),(0,d.jsx)("p",{className:"text-sm text-blue-600",children:"Campaign reach achieved"})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[(0,d.jsx)("h4",{className:"font-semibold text-green-800 mb-1",children:"Campaign Date"}),(0,d.jsx)("p",{className:"text-lg font-bold text-green-900",children:s.campaign_date}),(0,d.jsx)("p",{className:"text-sm text-green-600",children:"Launch date"})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-4 rounded-lg border border-orange-200",children:[(0,d.jsx)("h4",{className:"font-semibold text-orange-800 mb-1",children:"Expected Meetings"}),(0,d.jsx)("p",{className:"text-lg font-bold text-orange-900",children:s.expected_meetings}),(0,d.jsx)("p",{className:"text-sm text-orange-600",children:"Projected pipeline"})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:[(0,d.jsx)("h4",{className:"font-semibold text-purple-800 mb-1",children:"Response Rate"}),(0,d.jsx)("p",{className:"text-lg font-bold text-purple-900",children:"Tracking"}),(0,d.jsx)("p",{className:"text-sm text-purple-600",children:"In progress"})]})]}),(0,d.jsxs)("div",{className:"mt-6 bg-gray-50 p-4 rounded-lg",children:[(0,d.jsx)("h5",{className:"font-semibold mb-2 text-gray-800",children:"Campaign Details:"}),(0,d.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Campaign:"})," ",s.name]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Subject Line:"})," ",s.subject]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Target Investors:"}),' Infrastructure-focused VCs aligned with "Stripe for human movement" thesis']}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Status:"})," ",(0,d.jsx)("span",{className:"text-green-600 font-semibold",children:"Successfully completed - All 67 emails sent"})]})]})]})]})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsxs)(k.ZB,{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{children:"\uD83D\uDC65"}),(0,d.jsx)("span",{children:"Investor Pipeline"})]}),(0,d.jsx)(k.BT,{children:"Track investor relationships and funding progress"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)(m.tU,{defaultValue:"active",className:"w-full",children:[(0,d.jsxs)(m.j7,{className:"grid w-full grid-cols-4",children:[(0,d.jsxs)(m.Xi,{value:"active",children:["Active (",o.length,")"]}),(0,d.jsx)(m.Xi,{value:"committed",children:"Committed (4)"}),(0,d.jsxs)(m.Xi,{value:"pipeline",children:["Pipeline (",q,")"]}),(0,d.jsxs)(m.Xi,{value:"outreach",children:["Outreach (",p,")"]})]}),(0,d.jsx)(m.av,{value:"active",className:"space-y-4",children:(0,d.jsx)("div",{className:"space-y-3",children:o.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,d.jsx)("h4",{className:"font-semibold text-gray-900",children:a.name}),(0,d.jsx)("span",{className:"text-gray-600",children:"â€¢"}),(0,d.jsx)("span",{className:"text-gray-600",children:a.company}),(0,d.jsx)(i.E,{className:(a=>{switch(a){case"committed":return"bg-green-100 text-green-800";case"due_diligence":return"bg-blue-100 text-blue-800";case"pitched":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(a.status),children:a.status.replace("_"," ")})]}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:a.email}),(0,d.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Last contact: ",new Date(a.lastContact).toLocaleDateString()," â€¢ ",a.stage]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[a.amount&&(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("p",{className:"font-semibold text-green-600",children:["$",(a.amount/1e3).toFixed(0),"K"]}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Target amount"})]}),(0,d.jsx)(j.$,{size:"sm",variant:"outline",onClick:()=>I(a),disabled:D===a.id,"data-testid":`button-contact-${a.id}`,children:D===a.id?"Opening...":"Contact"})]})]},a.id))})}),(0,d.jsx)(m.av,{value:"committed",className:"space-y-4",children:(0,d.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,d.jsx)("p",{className:"text-lg font-semibold",children:"4 Current Investors"}),(0,d.jsx)("p",{className:"text-sm",children:"Active investor contacts"}),(0,d.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,d.jsx)("span",{children:"Brady (Union Green Partners)"}),(0,d.jsx)("span",{className:"font-semibold",children:"brady@uniongreen..."})]}),(0,d.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,d.jsx)("span",{children:"Alex (JustiGuide Internal)"}),(0,d.jsx)("span",{className:"font-semibold",children:"alex@justiguide.com"})]}),(0,d.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,d.jsx)("span",{children:"Carlos Contreras"}),(0,d.jsx)("span",{className:"font-semibold",children:"Carloscontreras415@..."})]}),(0,d.jsxs)("div",{className:"flex justify-between py-2",children:[(0,d.jsx)("span",{children:"Marl5G Strategic Partner"}),(0,d.jsx)("span",{className:"font-semibold",children:"prakash@marlaccelerator.com"})]})]})]})}),(0,d.jsx)(m.av,{value:"pipeline",className:"space-y-4",children:(0,d.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,d.jsx)("p",{children:"Pipeline management coming soon..."}),(0,d.jsx)("p",{className:"text-sm",children:"Track prospects through each stage"})]})}),(0,d.jsx)(m.av,{value:"outreach",className:"space-y-4",children:(0,d.jsx)("div",{className:"space-y-4",children:(0,d.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"\uD83D\uDCE7 Extract Investors from Sent Emails"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Scan your Gmail sent folder to find investors you've pitched or reached out to"}),(0,d.jsx)(j.$,{onClick:H,disabled:z,className:"bg-blue-600 hover:bg-blue-700",children:z?"Scanning...":"\uD83D\uDD0D Scan Sent Emails"}),B&&(0,d.jsxs)("div",{className:"mt-4 p-4 bg-white rounded border",children:[(0,d.jsxs)("p",{className:"text-sm",children:[(0,d.jsx)("strong",{children:"Found:"})," ",B.totalFound," investors in sent emails"]}),(0,d.jsxs)("p",{className:"text-sm",children:[(0,d.jsx)("strong",{children:"Added:"})," ",B.newInvestorsAdded," new investors to database"]})]})]})})})]})})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"\uD83D\uDCCA Daily Investor Update Preview"}),(0,d.jsx)(k.BT,{children:"What gets sent to investors every day at 9 AM PST"})]}),(0,d.jsx)(k.Wu,{className:"bg-gray-50 p-6 rounded-lg",children:(0,d.jsxs)("div",{className:"font-mono text-sm space-y-3",children:[(0,d.jsxs)("p",{className:"font-bold",children:["\uD83D\uDCC8 JustiGuide Daily Update - ",new Date().toLocaleDateString()]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("p",{children:["\uD83D\uDCB0 ",(0,d.jsx)("strong",{children:"Current Investors:"})," Brady (Union Green Partners), Alex (JustiGuide), Carlos Contreras, Marl5G Strategic"]}),(0,d.jsxs)("p",{children:["\uD83C\uDFAF ",(0,d.jsx)("strong",{children:"New Leads:"})," ",c?.total||498," active prospects + 27 Gmail contacts analyzed"]}),(0,d.jsxs)("p",{children:["\uD83D\uDCC8 ",(0,d.jsx)("strong",{children:"Growth:"})," Reddit response tracking with 484 responses posted + automated follow-ups"]}),(0,d.jsxs)("p",{children:["\uD83E\uDD1D ",(0,d.jsx)("strong",{children:"Conversions:"})," Enhanced follow-up system with Loom video resources"]}),(0,d.jsxs)("p",{children:["\uD83D\uDCB5 ",(0,d.jsx)("strong",{children:"Revenue Model:"})," N400 citizenship service ($499) + H1B visa support ($299-699)"]}),(0,d.jsxs)("p",{children:["\uD83C\uDFC6 ",(0,d.jsx)("strong",{children:"Key Win:"})," Enhanced persona cataloging with keyword-based AI analysis"]}),(0,d.jsxs)("p",{children:["\uD83D\uDCC5 ",(0,d.jsx)("strong",{children:"Next:"})," 7 investor meetings scheduled this week"]})]}),(0,d.jsx)("p",{className:"text-gray-600",children:"Building rails for human mobility \uD83D\uDE80"})]})})]}),(0,d.jsx)(n.lG,{open:v,onOpenChange:w,children:(0,d.jsxs)(n.Cf,{className:"max-w-4xl",children:[(0,d.jsxs)(n.c7,{children:[(0,d.jsx)(n.L3,{children:"\uD83D\uDCE7 Verify Investor Update Before Sending"}),(0,d.jsxs)(n.rr,{children:["Please review the update content before sending to ",t?.recipients||0," investors"]})]}),t&&(0,d.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg font-mono text-sm space-y-3 max-h-96 overflow-y-auto",children:[(0,d.jsx)("p",{className:"font-bold",children:t.subject}),(0,d.jsx)("div",{className:"space-y-2",children:t.highlights.map((a,b)=>(0,d.jsx)("p",{children:a},b))}),(0,d.jsx)("p",{className:"text-gray-600",children:t.footer}),t.recipientList&&t.recipientList.length>0&&(0,d.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,d.jsxs)("p",{className:"font-bold mb-2",children:["Recipients (",t.recipientList.length,"):"]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.recipientList.slice(0,8).map((a,b)=>(0,d.jsxs)("div",{className:"bg-white p-2 rounded",children:[(0,d.jsx)("div",{className:"font-semibold",children:a.company||"Unknown"}),(0,d.jsx)("div",{className:"text-gray-600",children:a.email})]},b)),t.recipientList.length>8&&(0,d.jsxs)("div",{className:"col-span-2 text-center text-gray-500",children:["+",t.recipientList.length-8," more recipients"]})]})]})]}),(0,d.jsxs)(n.Es,{children:[(0,d.jsx)(j.$,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),(0,d.jsx)(j.$,{onClick:G,disabled:x,className:"bg-green-600 hover:bg-green-700",children:x?"Sending...":"âœ… Verify & Send"})]})]})})]})}var p=c(72124),q=c(88380);function r(){let[a,b]=(0,e.useState)("all"),{data:c,isLoading:g,isError:h}=(0,f.I)({queryKey:["/api/revenue/analytics"],queryFn:async()=>{let a=await fetch("/api/revenue/analytics");if(!a.ok)throw Error("Failed to fetch revenue analytics");let b=await a.json();if(b&&b.success)return b;throw Error("Invalid response format")},refetchInterval:12e4,retry:2}),{data:j,isLoading:n}=(0,f.I)({queryKey:["/api/leads/top-scored"],queryFn:async()=>{let a=await fetch("/api/leads/top-scored?limit=20&minScore=6");return await a.json()},refetchInterval:3e5});if((0,p.n)({mutationFn:async a=>(await fetch("/api/leads/score",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({leadId:a})})).json(),onSuccess:()=>{q.qQ.invalidateQueries({queryKey:["/api/leads/top-scored"]})}}),g)return(0,d.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,d.jsx)("div",{className:"text-lg text-gray-600",children:"Loading revenue analytics..."})});if(h||!c||!c.success)return(0,d.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,d.jsx)("div",{className:"text-lg text-red-600",children:h?"Error loading revenue analytics. Please try refreshing the page.":"Unable to load revenue analytics"})});let o=a=>{if(!c?.highValueLeads)return[];let b=c.highValueLeads.map(a=>({leadId:a.leadId,service:a.serviceType?.replace("d2c_","")?.replace("b2b_",""),stage:a.conversionProbability>=18?"ready_to_close":a.conversionProbability>=15?"consultation":a.conversionProbability>=12?"qualified":"nurturing",expectedValue:a.expectedValue,daysToClose:a.daysToClose,probability:a.conversionProbability/100,platform:a.platform,aiScore:a.aiScore,followUpStage:a.conversionProbability>=18?"Stage 6: Final push":a.conversionProbability>=15?"Stage 4-5: Social proof":a.conversionProbability>=12?"Stage 2-3: Value building":"Stage 1: Initial contact"}));return"all"===a?b:b.filter(b=>{let c=b.service;return"n400"===a&&"n400"===c||"nonimmigrant_worker"===a&&"nonimmigrant_worker"===c||"employment_auth"===a&&"employment_auth"===c||"alien_relative"===a&&"alien_relative"===c||"asylum_defense"===a&&"asylum_defense"===c})};return g?(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsx)(k.ZB,{children:"\uD83D\uDCB0 Revenue Optimization Dashboard"})}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,d.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,d.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),(0,d.jsx)("div",{className:"h-32 bg-gray-200 rounded"})]})})]}):c?(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,d.jsx)(k.Zp,{children:(0,d.jsxs)(k.Wu,{className:"p-6",children:[(0,d.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",c.totalExpectedRevenue?.toLocaleString()||"0"]}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Total Expected Revenue"})]})}),(0,d.jsx)(k.Zp,{children:(0,d.jsxs)(k.Wu,{className:"p-6",children:[(0,d.jsxs)("div",{className:"text-xl font-bold text-blue-600",children:["$",c.revenueMetrics?.d2cRevenue?.toLocaleString()||"0"]}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"D2C N-400 Revenue"}),(0,d.jsx)("div",{className:"text-xs text-blue-500 mt-1",children:"$499 per case"})]})}),(0,d.jsx)(k.Zp,{children:(0,d.jsxs)(k.Wu,{className:"p-6",children:[(0,d.jsxs)("div",{className:"text-xl font-bold text-purple-600",children:["$",c.revenueMetrics?.b2bRevenue?.toLocaleString()||"0"]}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"B2B Lawyer Revenue"}),(0,d.jsx)("div",{className:"text-xs text-purple-500 mt-1",children:"$350-$750 + monthly"})]})}),(0,d.jsx)(k.Zp,{children:(0,d.jsxs)(k.Wu,{className:"p-6",children:[(0,d.jsxs)("div",{className:"text-xl font-bold text-orange-600",children:["$",c.totalMonthlyRecurring?.toLocaleString()||"0"]}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Monthly Recurring"}),(0,d.jsx)("div",{className:"text-xs text-orange-500 mt-1",children:"B2B maintenance fees"})]})}),(0,d.jsx)(k.Zp,{children:(0,d.jsxs)(k.Wu,{className:"p-6",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-red-600",children:c.totalLeads?.toLocaleString()||"0"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Total Leads in Pipeline"})]})})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"\uD83D\uDCCA Revenue by Service Type"}),(0,d.jsx)(k.BT,{children:"JustiGuide business model breakdown - D2C vs B2B"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-semibold text-blue-600 mb-3",children:"\uD83D\uDD37 D2C - Self-Filing"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-sm",children:"N-400 Citizenship"}),(0,d.jsx)(i.E,{className:"bg-blue-500",children:"$499 flat fee"})]}),(0,d.jsx)(l.k,{value:60,className:"h-2 bg-blue-100"}),(0,d.jsx)("p",{className:"text-xs text-gray-600",children:"Primary market â€¢ No attorney required â€¢ Dolores guides"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-semibold text-purple-600 mb-3",children:"\uD83D\uDD37 B2B - Lawyer Referrals"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-sm",children:"Nonimmigrant Worker"}),(0,d.jsx)(i.E,{className:"bg-green-500",children:"$750 + $50/mo"})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-sm",children:"Employment Authorization"}),(0,d.jsx)(i.E,{className:"bg-orange-500",children:"$350 + $100/mo"})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-sm",children:"Alien Relative"}),(0,d.jsx)(i.E,{className:"bg-red-500",children:"$450 + $100/mo"})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-sm",children:"Asylum/Defense"}),(0,d.jsx)(i.E,{className:"bg-yellow-500",children:"$350 + $100/mo"})]})]})]})]})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsx)(k.Zp,{children:(0,d.jsxs)(k.Wu,{className:"p-6",children:[(0,d.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:["$",c.avgLeadValue||0]}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Average Lead Value"})]})}),(0,d.jsx)(k.Zp,{children:(0,d.jsxs)(k.Wu,{className:"p-6",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:c.conversionFunnel?.consultations||0}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Active Consultations"})]})})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"\uD83D\uDCCA Revenue by Platform"}),(0,d.jsx)(k.BT,{children:"Lead distribution across top performing platforms"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.topPerformingPlatforms&&Object.entries(c.topPerformingPlatforms).sort(([,a],[,b])=>b-a).slice(0,3).map(([a,b])=>(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-sm font-medium capitalize",children:a}),(0,d.jsxs)(i.E,{variant:"secondary",children:[b," leads"]})]}),(0,d.jsx)(l.k,{value:c.totalLeads?b/c.totalLeads*100:0,className:"h-2"}),(0,d.jsxs)("p",{className:"text-xs text-gray-600",children:["Expected: $",(b*(c.avgLeadValue||0)*.05).toLocaleString()]})]},a))})})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"\uD83D\uDE80 JustiGuide Conversion Pipeline - Live Tracking"}),(0,d.jsx)(k.BT,{children:"Real-time lead progression through 6-stage systematic follow-up sequences"})]}),(0,d.jsxs)(k.Wu,{children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,d.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:c?.serviceBreakdown?.find(a=>"d2c_n400"===a.service)?.count||379}),(0,d.jsx)("div",{className:"text-sm font-medium text-blue-700",children:"N400 Citizenship Leads"}),(0,d.jsxs)("div",{className:"text-xs text-blue-600",children:["$",(c?.revenueMetrics?.d2cRevenue||29430).toLocaleString()," revenue â€¢ 15% conversion"]})]}),(0,d.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-green-600",children:c?.serviceBreakdown?.find(a=>"b2b_employment_auth"===a.service)?.count||132}),(0,d.jsx)("div",{className:"text-sm font-medium text-green-700",children:"EAD/Work Authorization"}),(0,d.jsxs)("div",{className:"text-xs text-green-600",children:["$",(c?.serviceBreakdown?.find(a=>"b2b_employment_auth"===a.service)?.expectedRevenue||26073).toLocaleString()," expected â€¢ 13% conversion"]})]}),(0,d.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:c?.serviceBreakdown?.find(a=>"b2b_nonimmigrant_worker"===a.service)?.count||324}),(0,d.jsx)("div",{className:"text-sm font-medium text-orange-700",children:"Worker Visas (H1B/O1)"}),(0,d.jsxs)("div",{className:"text-xs text-orange-600",children:["$",(c?.serviceBreakdown?.find(a=>"b2b_nonimmigrant_worker"===a.service)?.expectedRevenue||45167).toLocaleString()," expected â€¢ 10% conversion"]})]}),(0,d.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-red-600",children:c?.serviceBreakdown?.find(a=>"b2b_alien_relative"===a.service)?.count||165}),(0,d.jsx)("div",{className:"text-sm font-medium text-red-700",children:"Family/Relative Cases"}),(0,d.jsxs)("div",{className:"text-xs text-red-600",children:["$",(c?.serviceBreakdown?.find(a=>"b2b_alien_relative"===a.service)?.expectedRevenue||31548).toLocaleString()," expected â€¢ 12% conversion"]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-lg font-bold text-gray-700",children:"\uD83D\uDCC8 Performance Analytics"}),(0,d.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,d.jsxs)("div",{children:["Response Rate: ",(0,d.jsxs)("span",{className:"font-semibold text-green-600",children:[c?.responseRate||0,"%"]})]}),(0,d.jsxs)("div",{children:["Avg AI Score: ",(0,d.jsxs)("span",{className:"font-semibold",children:[c?.averageAiScore||0,"/10"]})]}),(0,d.jsxs)("div",{children:["Platform: ",(0,d.jsx)("span",{className:"font-semibold text-blue-600",children:Object.entries(c?.topPerformingPlatforms||{}).sort(([,a],[,b])=>b-a).slice(0,1).map(([a,b])=>`${a.charAt(0).toUpperCase()+a.slice(1)} (${c.totalLeads?Math.round(b/c.totalLeads*100):0}%)`)[0]||"Reddit (98%)"})]}),(0,d.jsxs)("div",{children:["Avg Close Time: ",(0,d.jsxs)("span",{className:"font-semibold",children:[c?.highValueLeads?.length>0?Math.round(c.highValueLeads.reduce((a,b)=>a+b.daysToClose,0)/c.highValueLeads.length):18," days"]})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-lg font-bold text-gray-700",children:"\uD83C\uDFAF Active Follow-up Stages"}),(0,d.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,d.jsxs)("div",{children:["Stage 1 (Initial): ",(0,d.jsxs)("span",{className:"font-semibold",children:["~",c?.highValueLeads?c.highValueLeads.filter(a=>a.conversionProbability<12).length:4," leads"]})]}),(0,d.jsxs)("div",{children:["Stage 2-3 (Building): ",(0,d.jsxs)("span",{className:"font-semibold",children:["~",c?.highValueLeads?c.highValueLeads.filter(a=>a.conversionProbability>=12&&a.conversionProbability<15).length:3," leads"]})]}),(0,d.jsxs)("div",{children:["Stage 4-5 (Social Proof): ",(0,d.jsxs)("span",{className:"font-semibold",children:["~",c?.highValueLeads?c.highValueLeads.filter(a=>a.conversionProbability>=15&&a.conversionProbability<18).length:2," leads"]})]}),(0,d.jsxs)("div",{children:["Stage 6 (Closing): ",(0,d.jsxs)("span",{className:"font-semibold",children:["~",c?.highValueLeads?c.highValueLeads.filter(a=>a.conversionProbability>=18).length:1," leads"]})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,d.jsx)("div",{className:"text-lg font-bold text-gray-700",children:"\uD83D\uDCB0 Revenue Breakdown"}),(0,d.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,d.jsxs)("div",{children:["D2C (N400): ",(0,d.jsxs)("span",{className:"font-semibold text-blue-600",children:["$",(c?.revenueMetrics?.d2cRevenue||29256).toLocaleString()]})]}),(0,d.jsxs)("div",{children:["B2B Services: ",(0,d.jsxs)("span",{className:"font-semibold text-purple-600",children:["$",(c?.revenueMetrics?.b2bRevenue||103169).toLocaleString()]})]}),(0,d.jsxs)("div",{children:["Monthly Recurring: ",(0,d.jsxs)("span",{className:"font-semibold text-green-600",children:["$",(c?.revenueMetrics?.monthlyRecurring||5275).toLocaleString()]})]}),(0,d.jsxs)("div",{children:["Avg Lead Value: ",(0,d.jsxs)("span",{className:"font-semibold",children:["$",c?.avgLeadValue||132]})]})]})]})]})]})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"\uD83D\uDD25 High-Value Lead Pipeline"}),(0,d.jsx)(k.BT,{children:"Active leads in conversion sequences with AI scoring and follow-up tracking"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)(m.tU,{value:a,onValueChange:b,children:[(0,d.jsxs)(m.j7,{className:"grid w-full grid-cols-6",children:[(0,d.jsx)(m.Xi,{value:"all",children:"All Services"}),(0,d.jsx)(m.Xi,{value:"n400",children:"D2C N-400 (379)"}),(0,d.jsx)(m.Xi,{value:"nonimmigrant_worker",children:"Worker (322)"}),(0,d.jsx)(m.Xi,{value:"employment_auth",children:"EAD (119)"}),(0,d.jsx)(m.Xi,{value:"alien_relative",children:"Relative (180)"}),(0,d.jsx)(m.Xi,{value:"asylum_defense",children:"Asylum (45+)"})]}),(0,d.jsxs)(m.av,{value:a,className:"space-y-4",children:[(0,d.jsx)("div",{className:"grid gap-2 max-h-96 overflow-y-auto",children:o(a).sort((a,b)=>b.expectedValue-a.expectedValue).slice(0,20).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-white shadow-sm",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(i.E,{variant:"outline",className:`${(a=>{switch(a){case"n400":return"bg-blue-500";case"nonimmigrant_worker":return"bg-green-500";case"employment_auth":return"bg-orange-500";case"alien_relative":return"bg-red-500";case"asylum_defense":return"bg-yellow-500";case"b2b_lawyers":return"bg-purple-500";default:return"bg-gray-500"}})(a.service)} text-white`,children:a.service.toUpperCase()}),(0,d.jsx)(i.E,{variant:"secondary",children:a.stage}),(0,d.jsx)(i.E,{variant:"outline",children:a.platform}),(0,d.jsxs)(i.E,{variant:"outline",className:"bg-blue-50 text-blue-700",children:["AI Score: ",a.aiScore]})]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:[a.followUpStage," â€¢ Est. ",a.daysToClose," days to close"]})]}),(0,d.jsxs)("div",{className:"text-right space-y-1",children:[(0,d.jsxs)("div",{className:"font-bold text-green-600 text-lg",children:["$",a.expectedValue.toLocaleString()]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:[a.conversionProbability||(100*a.probability).toFixed(1),"% probability"]})]})]},a.leadId))}),0===o(a).length&&(0,d.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,d.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,d.jsx)("div",{className:"text-lg font-semibold text-blue-800 mb-2",children:"all"===a?"Pipeline Loading...":(a=>{switch(a){case"n400":return"D2C N-400 Citizenship - 379 leads (15% conversion, $28.4K revenue)";case"nonimmigrant_worker":return"Worker - 322 leads (10% conversion, $44.5K expected)";case"employment_auth":return"EAD - 119 leads (13% conversion, $23.1K expected)";case"alien_relative":return"Relative - 180 leads (11% conversion, $34.0K expected)";case"asylum_defense":return"Asylum - 45+ leads (specialized service)";case"b2b_nonimmigrant_worker":return"B2B Nonimmigrant Worker - 12 leads ($750 each)";case"b2b_lawyers":return"B2B Lawyer Partnerships";default:return a}})(a)}),(0,d.jsx)("p",{className:"text-blue-600",children:"all"===a?"High-value leads are being processed and will appear here shortly.":"Leads in this category are currently being processed or in earlier pipeline stages."}),(0,d.jsxs)("div",{className:"mt-3 text-sm text-blue-500",children:["\uD83D\uDCCA Active leads: ",c?.highValueLeads?.length||0," â€¢ \uD83D\uDCB0 Total pipeline value: $",c?.totalExpectedRevenue?.toLocaleString()||"0"]})]})})]})]})})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"\uD83C\uDFAF High-Quality Lead Scoring"}),(0,d.jsx)(k.BT,{children:"Top-scoring leads based on immigration complexity, urgency, and engagement factors"})]}),(0,d.jsx)(k.Wu,{children:n?(0,d.jsx)("div",{className:"text-center py-4",children:"Loading lead scoring data..."}):j?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,d.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Array.isArray(j)?(j.reduce((a,b)=>a+(b.score||0),0)/j.length).toFixed(1):"0"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),(0,d.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:Array.isArray(j)?j.filter(a=>a.score>=6).length:0}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Qualified Leads"})]}),(0,d.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:Array.isArray(j)?j.length:0}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Total Evaluated"})]})]}),(0,d.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:(Array.isArray(j)?j:[]).slice(0,15).map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)(i.E,{variant:"high"===a.priority?"default":"secondary",className:"high"===a.priority?"bg-green-600":"",children:a.serviceType?.toUpperCase()||"N/A"}),(0,d.jsx)(i.E,{variant:"outline",children:a.sourcePlatform}),a.hasResponse&&(0,d.jsx)(i.E,{variant:"secondary",children:"Responded"})]}),(0,d.jsx)("div",{className:"text-sm text-gray-600 truncate",children:a.title||"No title"})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"font-bold text-lg text-green-600",children:a.score}),(0,d.jsxs)("div",{className:"text-xs text-gray-500",children:[a.priority," priority"]})]})]},a.id))})]}):(0,d.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,d.jsx)("p",{children:"No lead scoring data available"})})})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"\uD83D\uDCC8 Conversion Funnel Analysis"}),(0,d.jsx)(k.BT,{children:"Lead distribution across conversion funnel stages"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"space-y-3",children:c.conversionFunnel&&Object.entries(c.conversionFunnel).map(([a,b])=>(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,d.jsx)("span",{className:"capitalize font-medium",children:a.replace("_"," ")})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(l.k,{value:c.totalLeads?b/c.totalLeads*100:0,className:"w-24 h-2"}),(0,d.jsx)(i.E,{variant:"secondary",children:b})]})]},a))})})]})]}):(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsx)(k.ZB,{children:"\uD83D\uDCB0 Revenue Optimization Dashboard"})}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,d.jsx)("p",{children:"Unable to load revenue analytics"})})})]})}var s=c(64846),t=c(96610),u=c(25345);function v(){return(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsxs)(k.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(u.A,{className:"w-5 h-5"}),"Investor Update Manager"]})}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Investor update management functionality"})})]})}var w=c(28241),x=c(33847),y=c(72966),z=c(67748),A=c(81808),B=c(15952),C=c(65893),D=c(18310),E=c(23339);let F=(0,E.A)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var G=c(59268),H=c(15303),I=c(15982),J=c(46267),K=c(72567);let L={high:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",low:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"},M={growth:z.A,milestone:A.A,market:B.A,competitive:C.A,risk:D.A,opportunity:F};function N(){let[a,b]=(0,e.useState)("marl5g-strategic"),[c,g]=(0,e.useState)("");(0,t.jE)();let{data:h,isLoading:l}=(0,f.I)({queryKey:["/api/investor/insights"],enabled:!0}),{data:n,isLoading:o}=(0,f.I)({queryKey:["/api/investor/follow-up-strategies"],enabled:!0}),{data:r,isLoading:s}=(0,f.I)({queryKey:["/api/investor/automation-schedule"],enabled:!0}),u=(0,p.n)({mutationFn:a=>(0,q.AT)("/api/investor/generate-followup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({investorType:a})}),onSuccess:a=>{a.success&&g(a.communication)}});if(l||o||s)return(0,d.jsx)("div",{className:"p-6",children:(0,d.jsx)("div",{className:"grid gap-6",children:[1,2,3].map(a=>(0,d.jsxs)(k.Zp,{className:"animate-pulse",children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),(0,d.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("div",{className:"h-3 bg-gray-200 rounded"}),(0,d.jsx)("div",{className:"h-3 bg-gray-200 rounded w-4/5"})]})})]},a))})});let z=h?[{type:"growth",priority:"high",title:"Strong Growth Trajectory",insight:`Current runway of ${h?.runway||"N/A"} months with ${h?.growthRate||"N/A"}% growth rate shows strong momentum.`,data:{totalFunding:h?.totalFunding||0,burnRate:h?.burnRate||0,runway:h?.runway||0,growthRate:h?.growthRate||0},actionable:h?.recommendations||["Continue current growth trajectory","Prepare Series A materials","Focus on unit economics"],followUpTiming:"Weekly",investorRelevance:["strategic","growth-stage"]}]:[],B=n?Object.fromEntries((n?.strategies||[]).map((a,b)=>[`strategy-${b}`,{investorType:a.investor||"Unknown",timing:a.lastContact||"Unknown",context:a.nextAction||"Follow up needed",keyPoints:[a.nextAction||"Update on progress"],askStrategy:`Priority: ${a.priority||"medium"}`,successMetrics:["Response received","Meeting scheduled"]}])):{},D=r?{"daily-reports":{automationEnabled:!0,nextFollowUp:new Date().toISOString(),frequency:"daily",template:"Daily metrics and lead generation report..."},"weekly-updates":{automationEnabled:!0,nextFollowUp:new Date(Date.now()+6048e5).toISOString(),frequency:"weekly",template:"Weekly performance summary with key metrics..."}}:{};return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Investor Strategy Insights"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Strategic follow-up insights based on current performance metrics"})]}),(0,d.jsxs)(i.E,{variant:"outline",className:"px-3 py-1",children:[z.length," Active Insights"]})]}),(0,d.jsxs)(m.tU,{defaultValue:"insights",className:"space-y-4",children:[(0,d.jsxs)(m.j7,{className:"grid w-full grid-cols-5",children:[(0,d.jsx)(m.Xi,{value:"insights",children:"Strategic Insights"}),(0,d.jsx)(m.Xi,{value:"strategies",children:"Follow-up Strategies"}),(0,d.jsx)(m.Xi,{value:"generate",children:"Generate Communications"}),(0,d.jsx)(m.Xi,{value:"automation",children:"Automation Schedule"}),(0,d.jsx)(m.Xi,{value:"updates",children:"Current Updates"})]}),(0,d.jsx)(m.av,{value:"insights",className:"space-y-4",children:(0,d.jsx)("div",{className:"grid gap-4",children:z.map((a,b)=>{let c=M[a.type];return(0,d.jsxs)(k.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(c,{className:"h-5 w-5 text-primary"}),(0,d.jsx)(k.ZB,{className:"text-lg",children:a.title})]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)(i.E,{className:L[a.priority],children:a.priority}),(0,d.jsx)(i.E,{variant:"outline",children:a.type})]})]}),(0,d.jsx)(k.BT,{children:a.insight})]}),(0,d.jsxs)(k.Wu,{className:"space-y-4",children:[Object.keys(a.data).length>0&&(0,d.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4",children:[(0,d.jsx)("h4",{className:"font-medium mb-2",children:"Key Metrics"}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(a.data).map(([a,b])=>(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsxs)("span",{className:"text-muted-foreground capitalize",children:[a.replace(/([A-Z])/g," $1"),":"]}),(0,d.jsx)("span",{className:"font-medium",children:"number"==typeof b?a.includes("Rate")||a.includes("Growth")?`${b}%`:b.toLocaleString():String(b)})]},a))})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h4",{className:"font-medium mb-2 flex items-center",children:[(0,d.jsx)(G.A,{className:"h-4 w-4 mr-2 text-green-600"}),"Actionable Items"]}),(0,d.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:a.actionable.map((a,b)=>(0,d.jsx)("li",{children:a},b))})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[(0,d.jsx)(H.A,{className:"h-4 w-4"}),(0,d.jsxs)("span",{children:["Follow-up: ",a.followUpTiming]})]}),(0,d.jsx)("div",{className:"flex items-center space-x-1",children:a.investorRelevance.map((a,b)=>(0,d.jsx)(i.E,{variant:"secondary",className:"text-xs",children:a.replace("-"," ")},b))})]})]})]},b)})})}),(0,d.jsx)(m.av,{value:"strategies",className:"space-y-4",children:(0,d.jsx)("div",{className:"grid gap-4",children:Object.entries(B).map(([a,b])=>(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)(k.ZB,{className:"flex items-center space-x-2",children:[(0,d.jsx)(C.A,{className:"h-5 w-5 text-primary"}),(0,d.jsx)("span",{children:b.investorType})]}),(0,d.jsx)(i.E,{variant:"outline",children:b.timing})]}),(0,d.jsx)(k.BT,{children:b.context})]}),(0,d.jsxs)(k.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-2",children:"Key Points to Highlight"}),(0,d.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:b.keyPoints.map((a,b)=>(0,d.jsx)("li",{children:a},b))})]}),(0,d.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-950/20 rounded-lg p-4",children:[(0,d.jsx)("h4",{className:"font-medium mb-2 text-blue-900 dark:text-blue-300",children:"Ask Strategy"}),(0,d.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-400",children:b.askStrategy})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-2",children:"Success Metrics"}),(0,d.jsx)("div",{className:"grid grid-cols-1 gap-2",children:b.successMetrics.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,d.jsx)(A.A,{className:"h-4 w-4 text-green-600"}),(0,d.jsx)("span",{children:a})]},b))})]})]})]},a))})}),(0,d.jsx)(m.av,{value:"generate",className:"space-y-4",children:(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsxs)(k.ZB,{className:"flex items-center space-x-2",children:[(0,d.jsx)(I.A,{className:"h-5 w-5 text-primary"}),(0,d.jsx)("span",{children:"Generate Strategic Communication"})]}),(0,d.jsx)(k.BT,{children:"Create personalized follow-up communications based on strategic insights"})]}),(0,d.jsxs)(k.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Investor Type"}),(0,d.jsxs)(w.l6,{value:a,onValueChange:b,children:[(0,d.jsx)(w.bq,{children:(0,d.jsx)(w.yv,{placeholder:"Select investor type"})}),(0,d.jsxs)(w.gC,{children:[(0,d.jsx)(w.eb,{value:"marl5g-strategic",children:"Marl5G Strategic"}),(0,d.jsx)(w.eb,{value:"growth-investors",children:"Growth VCs"}),(0,d.jsx)(w.eb,{value:"board-members",children:"Board Members"})]})]})]}),(0,d.jsxs)(j.$,{onClick:()=>{u.mutate(a)},disabled:u.isPending,className:"mt-6",children:[u.isPending?"Generating...":"Generate Email",(0,d.jsx)(J.A,{className:"h-4 w-4 ml-2"})]})]}),c&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h4",{className:"font-medium",children:"Generated Communication"}),(0,d.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>navigator.clipboard.writeText(c),children:"Copy to Clipboard"})]}),(0,d.jsx)(y.F,{className:"h-96 w-full border rounded-lg",children:(0,d.jsx)(x.T,{value:c,onChange:a=>g(a.target.value),className:"min-h-96 border-none resize-none",placeholder:"Generated communication will appear here..."})})]})]})]})}),(0,d.jsx)(m.av,{value:"automation",className:"space-y-4",children:(0,d.jsx)("div",{className:"grid gap-4",children:Object.entries(D).map(([a,b])=>(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)(k.ZB,{className:"flex items-center space-x-2",children:[(0,d.jsx)(K.A,{className:"h-5 w-5 text-primary"}),(0,d.jsx)("span",{children:a.replace("-"," ").replace(/\b\w/g,a=>a.toUpperCase())})]}),(0,d.jsx)(i.E,{variant:b.automationEnabled?"default":"secondary",children:b.automationEnabled?"Active":"Inactive"})]})}),(0,d.jsxs)(k.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Next Follow-up:"}),(0,d.jsx)("p",{className:"font-medium",children:new Date(b.nextFollowUp).toLocaleDateString()})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Frequency:"}),(0,d.jsx)("p",{className:"font-medium capitalize",children:b.frequency})]})]}),b.template&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-2",children:"Scheduled Template Preview"}),(0,d.jsx)(y.F,{className:"h-32 bg-muted/50 rounded-lg p-3",children:(0,d.jsxs)("pre",{className:"text-xs whitespace-pre-wrap",children:[b.template.slice(0,300),"..."]})})]})]})]},a))})}),(0,d.jsx)(m.av,{value:"updates",className:"space-y-4",children:(0,d.jsx)(v,{})})]})]})}var O=c(7629),P=c(53199),Q=c(75219),R=c(71213);let S=(0,E.A)("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);var T=c(46422),U=c(75535),V=c(69596),W=c(62037);function X(){let{toast:a}=(0,W.dj)(),[b,c]=(0,e.useState)({name:"",company:"",type:""}),{data:g,isLoading:h}=(0,f.I)({queryKey:["/api/investor/pipeline-analysis"],refetchInterval:3e5}),{data:l,isLoading:n}=(0,f.I)({queryKey:["/api/investor/engagement-campaigns"]}),{data:o,isLoading:r}=(0,f.I)({queryKey:["/api/investor/action-plan"]}),s=(0,p.n)({mutationFn:async a=>(0,q.AT)("/api/investor/personalized-messages",{method:"POST",body:JSON.stringify(a)}),onSuccess:()=>{a({title:"Messages Generated",description:"Personalized outreach messages have been created"})},onError:()=>{a({title:"Generation Failed",description:"Unable to generate personalized messages",variant:"destructive"})}});if(h||n||r)return(0,d.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,d.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"}),(0,d.jsx)("span",{className:"ml-2",children:"Analyzing investor engagement strategy..."})]});let t=g?.analysis,u=l?.campaigns,v=o?.actionPlan;return(0,d.jsxs)("div",{className:"space-y-6","data-testid":"strategic-engagement-dashboard",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Strategic Investor Engagement"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"61-investor pipeline management and conversion strategy"})]}),(0,d.jsx)(j.$,{onClick:()=>q.qQ.invalidateQueries({queryKey:["/api/investor/pipeline-analysis"]}),children:"Refresh Analysis"})]}),(0,d.jsxs)(m.tU,{defaultValue:"pipeline",className:"w-full",children:[(0,d.jsxs)(m.j7,{className:"grid w-full grid-cols-4",children:[(0,d.jsx)(m.Xi,{value:"pipeline",children:"Pipeline Analysis"}),(0,d.jsx)(m.Xi,{value:"campaigns",children:"Engagement Campaigns"}),(0,d.jsx)(m.Xi,{value:"action-plan",children:"Action Plan"}),(0,d.jsx)(m.Xi,{value:"messages",children:"Message Generator"})]}),(0,d.jsxs)(m.av,{value:"pipeline",className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,d.jsxs)(k.Zp,{"data-testid":"card-total-pipeline",children:[(0,d.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(k.ZB,{className:"text-sm font-medium",children:"Total Pipeline"}),(0,d.jsx)(C.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(k.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:t?.totalInvestors||61}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active investors"})]})]}),(0,d.jsxs)(k.Zp,{"data-testid":"card-ready-close",children:[(0,d.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(k.ZB,{className:"text-sm font-medium",children:"Ready to Close"}),(0,d.jsx)(Q.A,{className:"h-4 w-4 text-green-600"})]}),(0,d.jsxs)(k.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t?.readyForClose||0}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"High conversion probability"})]})]}),(0,d.jsxs)(k.Zp,{"data-testid":"card-needs-nurturing",children:[(0,d.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(k.ZB,{className:"text-sm font-medium",children:"Needs Nurturing"}),(0,d.jsx)(H.A,{className:"h-4 w-4 text-yellow-600"})]}),(0,d.jsxs)(k.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:t?.needsNurturing||0}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Relationship building"})]})]}),(0,d.jsxs)(k.Zp,{"data-testid":"card-cold-outreach",children:[(0,d.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(k.ZB,{className:"text-sm font-medium",children:"Cold Outreach"}),(0,d.jsx)(A.A,{className:"h-4 w-4 text-blue-600"})]}),(0,d.jsxs)(k.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t?.coldOutreach||0}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Initial contact needed"})]})]})]}),t?.segments&&(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"Investor Segments"}),(0,d.jsx)(k.BT,{children:"Strategic segmentation and engagement approach"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"space-y-4",children:t.segments.map(a=>(0,d.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h4",{className:"font-medium flex items-center",children:[a.name,(0,d.jsxs)(i.E,{variant:"high"===a.priority?"default":"medium"===a.priority?"secondary":"outline",className:"ml-2",children:[a.priority," priority"]})]}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:a.description})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"text-lg font-bold",children:a.count}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"investors"})]})]}),(0,d.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium mb-1",children:"Strategy:"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:a.strategy})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium mb-1",children:"Check Size:"}),(0,d.jsxs)("p",{className:"text-sm font-medium text-green-600",children:["$",a.expectedCheckSize.min.toLocaleString()," - $",a.expectedCheckSize.max.toLocaleString()]})]})]}),(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsxs)("p",{className:"text-sm font-medium mb-1",children:["Timeline: ",a.timeline]}),(0,d.jsx)("div",{className:"flex flex-wrap gap-1",children:a.touchpoints.map((a,b)=>(0,d.jsx)(i.E,{variant:"outline",className:"text-xs",children:a},b))})]})]},a.id))})})]}),t?.insights&&(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"Strategic Insights"}),(0,d.jsx)(k.BT,{children:"Key observations and recommendations"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"space-y-2",children:t.insights.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start space-x-2 p-2 bg-blue-50 rounded",children:[(0,d.jsx)(z.A,{className:"h-4 w-4 text-blue-600 mt-0.5"}),(0,d.jsx)("span",{className:"text-sm",children:a})]},b))})})]})]}),(0,d.jsx)(m.av,{value:"campaigns",className:"space-y-4",children:u&&(0,d.jsx)("div",{className:"grid gap-6",children:u.map(a=>(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)(k.ZB,{className:"flex items-center",children:[a.name,(0,d.jsx)(i.E,{variant:"secondary",className:"ml-2",children:a.type})]}),(0,d.jsx)(k.BT,{children:a.timeline})]}),(0,d.jsx)(i.E,{variant:"outline",children:a.segment})]})}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-2",children:"Touchpoint Sequence:"}),(0,d.jsx)("div",{className:"space-y-3",children:a.touchpoints.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start space-x-3 p-3 border rounded",children:[(0,d.jsxs)("div",{className:"flex-shrink-0",children:["email"===a.channel&&(0,d.jsx)(I.A,{className:"h-4 w-4 text-blue-600"}),"call"===a.channel&&(0,d.jsx)(R.A,{className:"h-4 w-4 text-green-600"}),"linkedin"===a.channel&&(0,d.jsx)(S,{className:"h-4 w-4 text-blue-700"}),"demo"===a.channel&&(0,d.jsx)(T.A,{className:"h-4 w-4 text-purple-600"})]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,d.jsx)("span",{className:"text-sm font-medium capitalize",children:a.channel}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:a.timing})]}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:a.message}),(0,d.jsxs)(i.E,{variant:"outline",className:"text-xs",children:[(0,d.jsx)(U.A,{className:"h-3 w-3 mr-1"}),a.cta]})]})]},b))})]}),(0,d.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-1",children:"Expected Outcome:"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:a.expectedOutcome})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-1",children:"Success Metrics:"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-1",children:a.successMetrics.map((a,b)=>(0,d.jsx)(i.E,{variant:"secondary",className:"text-xs",children:a},b))})]})]})]})})]},a.id))})}),(0,d.jsx)(m.av,{value:"action-plan",className:"space-y-4",children:v&&(0,d.jsxs)("div",{className:"grid gap-6",children:[(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:Object.entries(v).filter(([a])=>a.startsWith("week")).map(([a,b])=>(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsx)(k.ZB,{className:"text-lg capitalize",children:a.replace(/(\d)/," $1")})}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"space-y-2",children:b.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start space-x-2 text-sm",children:[(0,d.jsx)("div",{className:"flex-shrink-0 w-4 h-4 rounded-full bg-primary/20 flex items-center justify-center mt-0.5",children:(0,d.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary"})}),(0,d.jsx)("span",{children:a.replace(/^[ðŸ“§ðŸ¤ðŸ“ŠðŸŽ¯ðŸ“±ðŸ“žðŸ“„ðŸ”ðŸ“‹ðŸ’¼ðŸŽ¥]/g,"").trim()})]},b))})})]},a))}),(0,d.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"Ongoing Activities"}),(0,d.jsx)(k.BT,{children:"Continuous engagement tasks"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"space-y-2",children:v.ongoing?.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start space-x-2 p-2 bg-green-50 rounded",children:[(0,d.jsx)(Q.A,{className:"h-4 w-4 text-green-600 mt-0.5"}),(0,d.jsx)("span",{className:"text-sm",children:a})]},b))})})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"Key Metrics"}),(0,d.jsx)(k.BT,{children:"Success measurement targets"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"space-y-2",children:v.keyMetrics?.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start space-x-2 p-2 bg-blue-50 rounded",children:[(0,d.jsx)(V.A,{className:"h-4 w-4 text-blue-600 mt-0.5"}),(0,d.jsx)("span",{className:"text-sm",children:a})]},b))})})]})]})]})}),(0,d.jsx)(m.av,{value:"messages",className:"space-y-4",children:(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"Personalized Message Generator"}),(0,d.jsx)(k.BT,{children:"Generate AI-powered outreach messages for specific investors"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(P.J,{htmlFor:"investor-name",children:"Investor Name"}),(0,d.jsx)(O.p,{id:"investor-name",placeholder:"John Smith",value:b.name,onChange:a=>c({...b,name:a.target.value}),"data-testid":"input-investor-name"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(P.J,{htmlFor:"investor-company",children:"Company/Fund"}),(0,d.jsx)(O.p,{id:"investor-company",placeholder:"Acme Ventures",value:b.company,onChange:a=>c({...b,company:a.target.value}),"data-testid":"input-investor-company"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(P.J,{htmlFor:"investor-type",children:"Investor Type"}),(0,d.jsxs)(w.l6,{value:b.type,onValueChange:a=>c({...b,type:a}),children:[(0,d.jsx)(w.bq,{"data-testid":"select-investor-type",children:(0,d.jsx)(w.yv,{placeholder:"Select type"})}),(0,d.jsxs)(w.gC,{children:[(0,d.jsx)(w.eb,{value:"seed",children:"Seed Stage"}),(0,d.jsx)(w.eb,{value:"series-a",children:"Series A"}),(0,d.jsx)(w.eb,{value:"immigration-focused",children:"Immigration Tech"}),(0,d.jsx)(w.eb,{value:"b2b-saas",children:"B2B SaaS"}),(0,d.jsx)(w.eb,{value:"strategic",children:"Strategic/Corporate"}),(0,d.jsx)(w.eb,{value:"angel",children:"Angel Investor"})]})]})]})]}),(0,d.jsx)(j.$,{onClick:()=>{if(!b.name||!b.company)return void a({title:"Investor Details Required",description:"Please enter investor name and company",variant:"destructive"});s.mutate({investorType:b.type||"general",investorName:b.name,company:b.company})},disabled:s.isPending,className:"w-full","data-testid":"button-generate-messages",children:s.isPending?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Generating Messages..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(T.A,{className:"w-4 h-4 mr-2"}),"Generate Personalized Messages"]})}),s.data&&(0,d.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,d.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsx)(k.ZB,{className:"text-sm",children:"Email Subject"})}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("p",{className:"text-sm font-medium",children:s.data.messages.subject})})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsx)(k.ZB,{className:"text-sm",children:"LinkedIn Message"})}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("p",{className:"text-sm",children:s.data.messages.linkedin})})]})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsx)(k.ZB,{className:"text-sm",children:"Email Content"})}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("pre",{className:"text-sm whitespace-pre-wrap",children:s.data.messages.email})})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsx)(k.ZB,{className:"text-sm",children:"Follow-up Email"})}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("pre",{className:"text-sm whitespace-pre-wrap",children:s.data.messages.followUp})})]})]})]})})]})})]})]})}var Y=c(30733),Z=c(10708);function $(){return(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsxs)(k.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(K.A,{className:"w-5 h-5"}),"Gmail Scheduler"]})}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Gmail scheduling functionality"})})]})}function _(){return(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsxs)(k.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(C.A,{className:"w-5 h-5"}),"Investor Outreach Scheduler"]})}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Investor outreach scheduling functionality"})})]})}var aa=c(65828);function ab(){return(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsxs)(k.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(aa.A,{className:"w-5 h-5"}),"Extended Investor Database"]})}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Extended investor database functionality"})})]})}function ac(){let{toast:a}=(0,W.dj)(),{data:b,isLoading:c}=(0,f.I)({queryKey:["/api/investor/current-outreach"],refetchInterval:3e5}),{data:e,isLoading:g}=(0,f.I)({queryKey:["/api/investor/current-profiles"]}),{data:h,isLoading:l}=(0,f.I)({queryKey:["/api/investor/immediate-action-plan"]}),n=b=>{navigator.clipboard.writeText(b),a({title:"Copied to Clipboard",description:"Content has been copied successfully"})};if(c||g||l)return(0,d.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,d.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"}),(0,d.jsx)("span",{className:"ml-2",children:"Generating personalized outreach for current investors..."})]});let o=b?.outreach,p=e?.profiles,r=h?.actionPlan;return(0,d.jsxs)("div",{className:"space-y-6","data-testid":"current-investor-outreach",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Current Investor Leverage"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Personalized outreach to your 4 active investors for warm introductions"})]}),(0,d.jsx)(j.$,{onClick:()=>q.qQ.invalidateQueries({queryKey:["/api/investor/current-outreach"]}),children:"Refresh Outreach"})]}),(0,d.jsxs)(m.tU,{defaultValue:"overview",className:"w-full",children:[(0,d.jsxs)(m.j7,{className:"grid w-full grid-cols-7",children:[(0,d.jsx)(m.Xi,{value:"overview",children:"Overview"}),(0,d.jsx)(m.Xi,{value:"outreach",children:"Outreach Messages"}),(0,d.jsx)(m.Xi,{value:"action-plan",children:"Action Plan"}),(0,d.jsx)(m.Xi,{value:"tracking",children:"Follow-up Tracking"}),(0,d.jsx)(m.Xi,{value:"gmail",children:"Gmail Scheduler"}),(0,d.jsx)(m.Xi,{value:"schedule",children:"Schedule"}),(0,d.jsx)(m.Xi,{value:"database",children:"Database"})]}),(0,d.jsxs)(m.av,{value:"overview",className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,d.jsxs)(k.Zp,{"data-testid":"card-active-investors",children:[(0,d.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(k.ZB,{className:"text-sm font-medium",children:"Active Investors"}),(0,d.jsx)(C.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(k.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:"4"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ready to leverage"})]})]}),(0,d.jsxs)(k.Zp,{"data-testid":"card-introduction-capacity",children:[(0,d.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(k.ZB,{className:"text-sm font-medium",children:"Introduction Capacity"}),(0,d.jsx)(A.A,{className:"h-4 w-4 text-blue-600"})]}),(0,d.jsxs)(k.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:p?.reduce((a,b)=>a+b.introductionCapacity,0)||12}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total possible introductions"})]})]}),(0,d.jsxs)(k.Zp,{"data-testid":"card-high-network",children:[(0,d.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(k.ZB,{className:"text-sm font-medium",children:"High Network Strength"}),(0,d.jsx)(Y.A,{className:"h-4 w-4 text-yellow-600"})]}),(0,d.jsxs)(k.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:p?.filter(a=>"high"===a.networkStrength).length||2}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Premium connections"})]})]}),(0,d.jsxs)(k.Zp,{"data-testid":"card-expected-intros",children:[(0,d.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(k.ZB,{className:"text-sm font-medium",children:"Expected Success"}),(0,d.jsx)(Q.A,{className:"h-4 w-4 text-green-600"})]}),(0,d.jsxs)(k.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"6-9"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Successful introductions"})]})]})]}),p&&(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"Your Current Investor Portfolio"}),(0,d.jsx)(k.BT,{children:"Detailed profiles and leverage potential"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"space-y-4",children:p.map((a,b)=>(0,d.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium",children:a.name}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:a.company}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:a.role}),(0,d.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,d.jsxs)(i.E,{variant:"high"===a.networkStrength?"default":"secondary",children:[a.networkStrength," network"]}),(0,d.jsxs)(i.E,{variant:"outline",children:[a.introductionCapacity," introductions"]})]})]}),(0,d.jsx)("div",{className:"text-right",children:(0,d.jsx)("div",{className:"text-sm font-medium",children:a.email})})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-sm font-medium",children:"Focus Areas:"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:a.focusAreas.map((a,b)=>(0,d.jsx)(i.E,{variant:"secondary",className:"text-xs",children:a},b))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-sm font-medium",children:"Best Approach:"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:a.bestApproach})]})]})]},b))})})]})]}),(0,d.jsx)(m.av,{value:"outreach",className:"space-y-4",children:o&&(0,d.jsx)("div",{className:"space-y-6",children:o.map((a,b)=>(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(k.ZB,{children:a.investor.name}),(0,d.jsxs)(k.BT,{children:[a.investor.company," â€¢ ",a.investor.relationship]})]}),(0,d.jsxs)(i.E,{variant:"high"===a.investor.networkStrength?"default":"secondary",children:[a.investor.networkStrength," network"]})]})}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("h4",{className:"font-medium",children:"Email Subject"}),(0,d.jsxs)(j.$,{variant:"outline",size:"sm",onClick:()=>n(a.subject),children:[(0,d.jsx)(Z.A,{className:"h-4 w-4 mr-1"}),"Copy"]})]}),(0,d.jsx)("p",{className:"text-sm font-medium bg-gray-50 p-2 rounded border",children:a.subject})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("h4",{className:"font-medium",children:"Email Content"}),(0,d.jsxs)(j.$,{variant:"outline",size:"sm",onClick:()=>n(a.emailContent),children:[(0,d.jsx)(Z.A,{className:"h-4 w-4 mr-1"}),"Copy"]})]}),(0,d.jsx)(x.T,{value:a.emailContent,readOnly:!0,className:"min-h-[200px] text-sm","data-testid":`email-content-${b}`})]}),(0,d.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-2",children:"Specific Target Introductions"}),(0,d.jsx)("div",{className:"space-y-1",children:a.specificTargets.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start space-x-2 text-sm",children:[(0,d.jsx)(A.A,{className:"h-4 w-4 text-blue-600 mt-0.5"}),(0,d.jsx)("span",{children:a})]},b))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-2",children:"Key Talking Points"}),(0,d.jsx)("div",{className:"space-y-1",children:a.keyTalkingPoints.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start space-x-2 text-sm",children:[(0,d.jsx)(Q.A,{className:"h-4 w-4 text-green-600 mt-0.5"}),(0,d.jsx)("span",{children:a})]},b))})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("h4",{className:"font-medium",children:"Follow-up Message (if no response)"}),(0,d.jsxs)(j.$,{variant:"outline",size:"sm",onClick:()=>n(a.followUpMessage),children:[(0,d.jsx)(Z.A,{className:"h-4 w-4 mr-1"}),"Copy"]})]}),(0,d.jsx)(x.T,{value:a.followUpMessage,readOnly:!0,className:"min-h-[100px] text-sm","data-testid":`followup-message-${b}`})]})]})})]},b))})}),(0,d.jsx)(m.av,{value:"action-plan",className:"space-y-4",children:r&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"Week 1 Priority Actions"}),(0,d.jsx)(k.BT,{children:"Immediate steps to maximize introductions"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"space-y-2",children:r.week1Actions.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start space-x-2 p-2 bg-blue-50 rounded",children:[(0,d.jsx)("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-blue-600 text-white flex items-center justify-center mt-0.5",children:(0,d.jsx)("span",{className:"text-xs font-medium",children:b+1})}),(0,d.jsx)("span",{className:"text-sm",children:a})]},b))})})]}),(0,d.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"Priority Order"}),(0,d.jsx)(k.BT,{children:"Strategic sequencing for maximum impact"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"space-y-2",children:r.priorityOrder.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start space-x-2 text-sm",children:[(0,d.jsx)(U.A,{className:"h-4 w-4 text-green-600 mt-0.5"}),(0,d.jsx)("span",{children:a})]},b))})})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"Expected Outcomes"}),(0,d.jsx)(k.BT,{children:"Projected results by investor"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"space-y-2",children:Object.entries(r.expectedOutcomes).map(([a,b],c)=>(0,d.jsxs)("div",{className:"p-2 border rounded",children:[(0,d.jsx)("div",{className:"font-medium text-sm",children:a}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:b})]},c))})})]})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"Success Metrics"}),(0,d.jsx)(k.BT,{children:"Key performance indicators for leverage strategy"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"space-y-2",children:r.successMetrics.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start space-x-2 p-2 bg-green-50 rounded",children:[(0,d.jsx)(V.A,{className:"h-4 w-4 text-green-600 mt-0.5"}),(0,d.jsx)("span",{className:"text-sm",children:a})]},b))})})]})]})}),(0,d.jsx)(m.av,{value:"tracking",className:"space-y-4",children:(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"Follow-up Tracking Template"}),(0,d.jsx)(k.BT,{children:"Track introduction requests and responses"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"space-y-4",children:p?.map((a,b)=>(0,d.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("h4",{className:"font-medium",children:[a.name," (",a.company,")"]}),(0,d.jsxs)(i.E,{variant:"outline",children:[a.introductionCapacity," intros capacity"]})]}),(0,d.jsxs)("div",{className:"grid gap-2 text-sm",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("input",{type:"checkbox",className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Initial outreach sent"}),(0,d.jsx)("input",{type:"date",className:"ml-auto px-2 py-1 border rounded text-xs"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("input",{type:"checkbox",className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Response received"}),(0,d.jsx)("input",{type:"date",className:"ml-auto px-2 py-1 border rounded text-xs"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("input",{type:"checkbox",className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Follow-up call scheduled"}),(0,d.jsx)("input",{type:"date",className:"ml-auto px-2 py-1 border rounded text-xs"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("input",{type:"checkbox",className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Introductions completed"}),(0,d.jsx)("input",{type:"number",placeholder:"0",className:"ml-auto px-2 py-1 border rounded text-xs w-16"})]})]}),(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Notes:"}),(0,d.jsx)("textarea",{placeholder:"Track specific connections, follow-up actions, etc...",className:"w-full mt-1 px-2 py-1 border rounded text-xs",rows:2})]})]},b))})})]})}),(0,d.jsx)(m.av,{value:"gmail",className:"space-y-4",children:(0,d.jsx)($,{})}),(0,d.jsx)(m.av,{value:"schedule",className:"space-y-4",children:(0,d.jsx)(_,{})}),(0,d.jsx)(m.av,{value:"database",className:"space-y-4",children:(0,d.jsx)(ab,{})})]})]})}var ad=c(32717),ae=c(18004);function af(){let[a,b]=(0,e.useState)(null),[c,f]=(0,e.useState)([]),[g,h]=(0,e.useState)(!1),[l,m]=(0,e.useState)(!0),{toast:n}=(0,W.dj)(),o=async()=>{try{let a=await fetch("/api/live-metrics"),c=await a.json();c.success&&b(c.metrics)}catch(a){console.error("Failed to fetch live metrics:",a)}finally{m(!1)}},p=()=>{let a="https:"===window.location.protocol?"wss:":"ws:",b=`${a}//${window.location.host}/ws`;try{window.ws=new WebSocket(b),window.ws.onopen=()=>{h(!0),console.log("\uD83D\uDD0C Connected to live metrics WebSocket")},window.ws.onmessage=a=>{try{let b=JSON.parse(a.data);q(b)}catch(a){console.error("Failed to parse WebSocket message:",a)}},window.ws.onclose=()=>{h(!1),console.log("\uD83D\uDD0C WebSocket disconnected, attempting reconnection..."),setTimeout(p,5e3)},window.ws.onerror=a=>{console.error("WebSocket error:",a),h(!1)}}catch(a){console.error("Failed to setup WebSocket:",a)}},q=a=>{if("conversion"===a.type){let b=a.data;f(a=>[b,...a.slice(0,4)]),n({title:"\uD83C\uDF89 New Conversion!",description:`$${b.amount} from ${b.serviceType}`,duration:5e3}),o()}},r=async()=>{try{let a=await fetch("/api/live-metrics/simulate-conversion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({leadId:"demo-lead-"+Date.now(),conversionType:"consultation",dealValue:Math.floor(1e3*Math.random())+500})}),b=await a.json();b.success&&n({title:"Demo Conversion Simulated",description:b.message,duration:3e3})}catch(a){console.error("Failed to simulate conversion:",a)}};return l?(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,b)=>(0,d.jsx)(k.Zp,{className:"animate-pulse",children:(0,d.jsxs)(k.Wu,{className:"p-6",children:[(0,d.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,d.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})},b))}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:`w-3 h-3 rounded-full ${g?"bg-green-500":"bg-red-500"}`}),(0,d.jsx)("span",{className:"text-sm text-gray-600",children:g?"Live updates connected":"Reconnecting..."})]}),(0,d.jsxs)(j.$,{onClick:r,size:"sm",variant:"outline",children:[(0,d.jsx)(T.A,{className:"h-4 w-4 mr-2"}),"Demo Conversion"]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,d.jsx)(k.Zp,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:(0,d.jsxs)(k.Wu,{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)(ad.A,{className:"h-8 w-8 text-green-600"}),(0,d.jsx)(i.E,{variant:"secondary",className:"text-green-700 bg-green-200",children:"Today"})]}),(0,d.jsxs)("div",{className:"text-3xl font-bold text-green-800 mb-1",children:["$",a?.conversions.todayRevenue.toLocaleString()||"0"]}),(0,d.jsxs)("div",{className:"text-sm text-green-600",children:[a?.conversions.todayCount||0," conversions today"]})]})}),(0,d.jsx)(k.Zp,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:(0,d.jsxs)(k.Wu,{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)(A.A,{className:"h-8 w-8 text-blue-600"}),(0,d.jsx)(z.A,{className:"h-5 w-5 text-blue-500"})]}),(0,d.jsxs)("div",{className:"text-3xl font-bold text-blue-800 mb-1",children:["$",a?.conversions.averageDealValue.toFixed(0)||"0"]}),(0,d.jsx)("div",{className:"text-sm text-blue-600",children:"Average deal value"})]})}),(0,d.jsx)(k.Zp,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:(0,d.jsxs)(k.Wu,{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)(H.A,{className:"h-8 w-8 text-purple-600"}),(0,d.jsx)(i.E,{variant:"outline",className:"text-purple-700",children:"Avg"})]}),(0,d.jsx)("div",{className:"text-3xl font-bold text-purple-800 mb-1",children:a?.conversions.averageConversionTime||"N/A"}),(0,d.jsx)("div",{className:"text-sm text-purple-600",children:"Time to convert"})]})}),(0,d.jsx)(k.Zp,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:(0,d.jsxs)(k.Wu,{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)(ae.A,{className:"h-8 w-8 text-orange-600"}),(0,d.jsx)(i.E,{variant:"secondary",className:"text-orange-700 bg-orange-200",children:"Live"})]}),(0,d.jsxs)("div",{className:"text-3xl font-bold text-orange-800 mb-1",children:[a?.performance.responseTime.toFixed(0)||"0","ms"]}),(0,d.jsxs)("div",{className:"text-sm text-orange-600",children:["Response time â€¢ ",a?.performance.uptime.toFixed(1)||"0","% uptime"]})]})}),(0,d.jsx)(k.Zp,{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 border-indigo-200",children:(0,d.jsxs)(k.Wu,{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)(A.A,{className:"h-8 w-8 text-indigo-600"}),(0,d.jsx)(z.A,{className:"h-5 w-5 text-indigo-500"})]}),(0,d.jsx)("div",{className:"text-3xl font-bold text-indigo-800 mb-1",children:a?.pipeline.activeSequences||0}),(0,d.jsx)("div",{className:"text-sm text-indigo-600",children:"Active follow-up sequences"})]})}),(0,d.jsx)(k.Zp,{className:"bg-gradient-to-br from-teal-50 to-teal-100 border-teal-200",children:(0,d.jsxs)(k.Wu,{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)(z.A,{className:"h-8 w-8 text-teal-600"}),(0,d.jsx)(i.E,{variant:"outline",className:"text-teal-700",children:"Rate"})]}),(0,d.jsxs)("div",{className:"text-3xl font-bold text-teal-800 mb-1",children:[a?.pipeline.conversionRate.toFixed(1)||"0","%"]}),(0,d.jsx)("div",{className:"text-sm text-teal-600",children:"Lead conversion rate"})]})})]}),c.length>0&&(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsxs)(k.ZB,{className:"flex items-center space-x-2",children:[(0,d.jsx)(ae.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{children:"Live Conversion Feed"}),(0,d.jsx)(i.E,{variant:"secondary",children:c.length})]})}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("div",{className:"space-y-3",children:c.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"font-medium text-green-800",children:["$",a.amount," â€¢ ",a.serviceType]}),(0,d.jsxs)("div",{className:"text-sm text-green-600",children:["Via ",a.conversionPath]})]})]}),(0,d.jsx)("div",{className:"text-xs text-green-500",children:new Date(a.timestamp).toLocaleTimeString()})]},b))})})]})]})}var ag=c(24101),ah=c(30887),ai=c(3663),aj=c(16945);function ak(){let[a,b]=(0,e.useState)("0 6 * * *"),c=(0,t.jE)(),{data:g,isLoading:h,refetch:l}=(0,f.I)({queryKey:["/api/reports/daily"],enabled:!0}),{data:n,isLoading:o}=(0,f.I)({queryKey:["/api/reports/pipeline-summary"],enabled:!0,refetchInterval:3e5}),r=g||[],s=r.length>0?r[0]:null;(0,p.n)({mutationFn:a=>(0,q.AT)("/api/reports/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schedule:a})}),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/reports/schedule"]})}});let u=(0,p.n)({mutationFn:()=>(0,q.AT)("/api/reports/daily/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:new Date().toISOString()})}),onSuccess:()=>{l()}}),v=()=>{u.mutate()};if(h)return(0,d.jsx)("div",{className:"p-6",children:(0,d.jsx)("div",{className:"grid gap-6",children:[1,2,3].map(a=>(0,d.jsxs)(k.Zp,{className:"animate-pulse",children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),(0,d.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("div",{className:"h-3 bg-gray-200 rounded"}),(0,d.jsx)("div",{className:"h-3 bg-gray-200 rounded w-4/5"})]})})]},a))})});let w=n?.summary||{},x=n?.topVisaTypes||[],y=n?.premiumVisaPerformance||[];if(h||o)return(0,d.jsx)("div",{className:"p-6",children:(0,d.jsx)("div",{className:"grid gap-6",children:[1,2,3].map(a=>(0,d.jsxs)(k.Zp,{className:"animate-pulse",children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),(0,d.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("div",{className:"h-3 bg-gray-200 rounded"}),(0,d.jsx)("div",{className:"h-3 bg-gray-200 rounded w-4/5"})]})})]},a))})});if(!s&&!n)return(0,d.jsx)("div",{className:"p-6",children:(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"Daily Reporting Dashboard"}),(0,d.jsx)(k.BT,{children:"Generate your first daily report to get started"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)(j.$,{onClick:v,disabled:u.isPending,"data-testid":"button-generate-report",children:[u.isPending?"Generating...":"Generate Daily Report",(0,d.jsx)(ah.A,{className:"h-4 w-4 ml-2"})]})})]})});let z=s?new Date(s.report_date).toLocaleDateString():null;s?.engagement_metrics,s?.learnings;let B=s?.platform_breakdown||{platforms:[],visaTypes:[]};return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Pipeline & Reports Dashboard"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Comprehensive pipeline analytics and daily operational insights"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[z&&(0,d.jsxs)(i.E,{variant:"outline",className:"px-3 py-1","data-testid":"badge-next-report",children:["Last Report: ",z]}),(0,d.jsxs)(j.$,{onClick:v,disabled:u.isPending,size:"sm","data-testid":"button-generate-now",children:[u.isPending?"Generating...":"Generate Daily Report",(0,d.jsx)(ah.A,{className:"h-4 w-4 ml-2"})]})]})]}),n&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsxs)(k.ZB,{className:"flex items-center space-x-2",children:[(0,d.jsx)(ai.A,{className:"h-5 w-5 text-primary"}),(0,d.jsx)("span",{children:"\uD83D\uDCB0 Pipeline Summary"})]})}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Leads"}),(0,d.jsx)("div",{className:"text-3xl font-bold","data-testid":"text-total-leads",children:w.totalLeads?.toLocaleString()||0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Pipeline Value"}),(0,d.jsxs)("div",{className:"text-3xl font-bold text-green-600","data-testid":"text-pipeline-value",children:["$",(w.totalPipelineValue/1e6).toFixed(1),"M"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Average Lead Value"}),(0,d.jsxs)("div",{className:"text-3xl font-bold text-blue-600","data-testid":"text-avg-lead-value",children:["$",w.avgLeadValue?.toLocaleString()||0]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Premium Leads (â‰¥$15K)"}),(0,d.jsx)("div",{className:"text-3xl font-bold text-purple-600","data-testid":"text-premium-leads",children:w.premiumLeadsCount?.toLocaleString()||0}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["$",(w.premiumPipelineValue/1e6).toFixed(1),"M value"]})]})]})})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsx)(k.ZB,{children:"\uD83D\uDCCA Top Visa Types by Revenue"})}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-4 pb-2 border-b font-medium text-sm",children:[(0,d.jsx)("div",{children:"Visa Type"}),(0,d.jsx)("div",{className:"text-right",children:"Leads"}),(0,d.jsx)("div",{className:"text-right",children:"Avg Value"}),(0,d.jsx)("div",{className:"text-right",children:"Total Value"})]}),x.slice(0,8).map((a,b)=>(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-4 items-center","data-testid":`row-visa-${b}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{children:(a=>{let b=a?.toLowerCase()||"";return b.includes("green")||b.includes("gc")?"\uD83D\uDFE2":b.includes("h-1b")||b.includes("h1b")?"\uD83D\uDD35":b.includes("eb-1")||b.includes("eb1")||b.includes("niw")||b.includes("o-1")||b.includes("o1")||b.includes("eb-5")||b.includes("eb5")?"\uD83D\uDC8E":b.includes("citizenship")||b.includes("n-400")?"\uD83C\uDDFA\uD83C\uDDF8":b.includes("asylum")?"\uD83D\uDEE1ï¸":"\uD83D\uDCBC"})(a.visaType)}),(0,d.jsx)("span",{className:"font-medium capitalize",children:a.visaType})]}),(0,d.jsx)("div",{className:"text-right",children:a.leadCount?.toLocaleString()}),(0,d.jsxs)("div",{className:"text-right",children:["$",a.avgValue?.toLocaleString()]}),(0,d.jsxs)("div",{className:"text-right font-bold",children:["$",(a.totalValue/1e6).toFixed(1),"M"]})]},b))]})})]}),y.length>0&&(0,d.jsxs)(k.Zp,{children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsx)(k.ZB,{children:"\uD83C\uDFAF Premium Visa Performance"}),(0,d.jsx)(k.BT,{children:"High-value visa types with average fees â‰¥$15K"})]}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)("div",{className:"space-y-3",children:[y.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg","data-testid":`premium-visa-${b}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC8E"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-bold uppercase",children:a.visaType}),(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.leadCount," leads @ avg $",a.avgValue?.toLocaleString()]})]})]}),(0,d.jsx)("div",{className:"text-right",children:(0,d.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:["$",(a.totalValue/1e6).toFixed(1),"M"]})})]},b)),(0,d.jsxs)("div",{className:"mt-4 p-4 bg-gradient-to-r from-purple-100 to-blue-100 rounded-lg",children:[(0,d.jsxs)("div",{className:"font-bold text-lg",children:["Total Premium Visa Pipeline: $",(y.reduce((a,b)=>a+b.totalValue,0)/1e6).toFixed(1),"M"]}),(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Across ",y.reduce((a,b)=>a+b.leadCount,0)," high-value leads"]})]})]})})]})]}),s&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsxs)(k.ZB,{className:"flex items-center space-x-2",children:[(0,d.jsx)(ai.A,{className:"h-5 w-5 text-primary"}),(0,d.jsxs)("span",{children:["Daily Summary - ",z]})]})}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:s.summary||"No summary available"})})]}),(0,d.jsxs)(m.tU,{defaultValue:"metrics",className:"space-y-4",children:[(0,d.jsxs)(m.j7,{className:"grid w-full grid-cols-4",children:[(0,d.jsx)(m.Xi,{value:"metrics","data-testid":"tab-metrics",children:"Metrics"}),(0,d.jsx)(m.Xi,{value:"engagement","data-testid":"tab-engagement",children:"Engagement"}),(0,d.jsx)(m.Xi,{value:"platform","data-testid":"tab-platform",children:"Platform Performance"}),(0,d.jsx)(m.Xi,{value:"recommendations","data-testid":"tab-recommendations",children:"Recommendations"})]}),(0,d.jsx)(m.av,{value:"metrics",className:"space-y-4",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{className:"pb-2",children:(0,d.jsx)(k.ZB,{className:"text-sm font-medium",children:"Leads Discovered"})}),(0,d.jsxs)(k.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold","data-testid":"text-leads-discovered",children:s.total_leads_discovered||0}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"New leads found"})]})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{className:"pb-2",children:(0,d.jsx)(k.ZB,{className:"text-sm font-medium",children:"Responses Sent"})}),(0,d.jsxs)(k.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold","data-testid":"text-responses-sent",children:s.responses_sent||0}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"AI-generated responses"})]})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{className:"pb-2",children:(0,d.jsx)(k.ZB,{className:"text-sm font-medium",children:"Clicks Tracked"})}),(0,d.jsxs)(k.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold","data-testid":"text-clicks-tracked",children:s.clicks_tracked||0}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Link engagements"})]})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{className:"pb-2",children:(0,d.jsx)(k.ZB,{className:"text-sm font-medium",children:"Pipeline Value"})}),(0,d.jsxs)(k.Wu,{children:[(0,d.jsxs)("div",{className:"text-2xl font-bold","data-testid":"text-pipeline-value",children:["$",(s.pipeline_value||0).toLocaleString()]}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Avg: $",(s.avg_lead_value||0).toLocaleString(),"/lead"]})]})]})]})}),(0,d.jsxs)(m.av,{value:"engagement",className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsx)(k.ZB,{className:"text-sm font-medium",children:"System Health"})}),(0,d.jsxs)(k.Wu,{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Tests Run:"}),(0,d.jsx)("span",{className:"font-bold",children:s.tests_run||0})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Tests Passed:"}),(0,d.jsx)("span",{className:"font-bold text-green-600",children:s.tests_passed||0})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Critical Errors:"}),(0,d.jsx)("span",{className:"font-bold text-red-600",children:s.critical_errors||0})]})]})]}),(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsx)(k.ZB,{className:"text-sm font-medium",children:"AI Learning"})}),(0,d.jsxs)(k.Wu,{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Patterns Discovered:"}),(0,d.jsx)("span",{className:"font-bold",children:s.new_patterns_discovered||0})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Templates Optimized:"}),(0,d.jsx)("span",{className:"font-bold",children:s.templates_optimized||0})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Model Updates:"}),(0,d.jsx)("span",{className:"font-bold",children:s.ai_model_updates||0})]})]})]})]}),s.top_insight&&(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsxs)(k.ZB,{className:"flex items-center space-x-2",children:[(0,d.jsx)(F,{className:"h-5 w-5 text-yellow-500"}),(0,d.jsx)("span",{children:"Top Insight"})]})}),(0,d.jsx)(k.Wu,{children:(0,d.jsx)("p",{className:"text-sm",children:s.top_insight})})]})]}),(0,d.jsx)(m.av,{value:"platform",className:"space-y-4",children:(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsx)(k.ZB,{children:"Platform Performance"})}),(0,d.jsx)(k.Wu,{children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-2",children:"Top Platform"}),(0,d.jsx)("p",{className:"text-2xl font-bold capitalize",children:s.top_platform||"N/A"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-2",children:"Top Visa Type"}),(0,d.jsx)("p",{className:"text-2xl font-bold uppercase",children:s.top_visa_type||"N/A"})]}),B.platforms&&B.platforms.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium mb-2",children:"Platform Breakdown"}),(0,d.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:B.platforms.map((a,b)=>(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:a.leads}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground capitalize",children:a.platform}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["$",a.value?.toLocaleString()]})]},b))})]})]})})]})}),(0,d.jsx)(m.av,{value:"recommendations",className:"space-y-4",children:(0,d.jsxs)(k.Zp,{children:[(0,d.jsx)(k.aR,{children:(0,d.jsxs)(k.ZB,{className:"flex items-center space-x-2",children:[(0,d.jsx)(A.A,{className:"h-5 w-5 text-primary"}),(0,d.jsx)("span",{children:"Recommendations"})]})}),(0,d.jsx)(k.Wu,{children:s.recommendations&&Array.isArray(s.recommendations)&&s.recommendations.length>0?(0,d.jsx)("ul",{className:"space-y-3",children:s.recommendations.map((a,b)=>(0,d.jsxs)("li",{className:"flex items-start space-x-3 p-3 bg-muted/50 rounded-lg",children:[(0,d.jsx)(aj.A,{className:"h-5 w-5 text-orange-500 mt-0.5 flex-shrink-0"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium",children:a.action||a}),a.priority&&(0,d.jsx)(i.E,{className:"mt-1",variant:"high"===a.priority?"destructive":"secondary",children:a.priority})]})]},b))}):(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"No recommendations available for this report."})})]})})]})]})]})}function al(){let[a,b]=(0,e.useState)("overview"),{data:c,isLoading:i}=(0,f.I)({queryKey:["/api/dashboard/stats"],queryFn:()=>g.F.getDashboardStats()});return(0,d.jsxs)("div",{className:"min-h-screen flex bg-gray-50",children:[(0,d.jsx)(h.A,{}),(0,d.jsxs)("main",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,d.jsx)("header",{className:"bg-gradient-to-r from-green-600 to-green-800 text-white px-6 py-6",children:(0,d.jsx)("div",{className:"flex items-center justify-between",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold",children:"Investor Relations Dashboard"}),(0,d.jsx)("p",{className:"text-green-100 mt-1",children:"Financial Metrics â€¢ Investor Updates â€¢ Growth Analytics"}),(0,d.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,d.jsx)("span",{className:"text-sm bg-green-500 px-2 py-1 rounded",children:"Financial Tracking"}),(0,d.jsx)("span",{className:"text-sm bg-blue-500 px-2 py-1 rounded",children:"Revenue Analytics"}),(0,d.jsx)("span",{className:"text-sm bg-purple-500 px-2 py-1 rounded",children:"Investor Reporting"})]})]})})}),(0,d.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,d.jsx)("nav",{className:"px-6",children:(0,d.jsxs)("div",{className:"flex space-x-8",children:[(0,d.jsxs)("button",{onClick:()=>b("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${"overview"===a?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[(0,d.jsx)("span",{children:"\uD83D\uDCCA"}),(0,d.jsx)("span",{children:"Overview"})]}),(0,d.jsxs)("button",{onClick:()=>b("metrics"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${"metrics"===a?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[(0,d.jsx)("span",{children:"\uD83D\uDCC8"}),(0,d.jsx)("span",{children:"Financial Metrics"})]}),(0,d.jsxs)("button",{onClick:()=>b("revenue"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${"revenue"===a?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[(0,d.jsx)("span",{children:"\uD83D\uDCB0"}),(0,d.jsx)("span",{children:"Revenue Analytics"})]}),(0,d.jsxs)("button",{onClick:()=>b("reports"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${"reports"===a?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[(0,d.jsx)("span",{children:"\uD83D\uDCCB"}),(0,d.jsx)("span",{children:"Reports"})]}),(0,d.jsxs)("button",{onClick:()=>b("strategy"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${"strategy"===a?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[(0,d.jsx)("span",{children:"\uD83C\uDFAF"}),(0,d.jsx)("span",{children:"Strategy"})]}),(0,d.jsxs)("button",{onClick:()=>b("outreach"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${"outreach"===a?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[(0,d.jsx)("span",{children:"\uD83D\uDCE7"}),(0,d.jsx)("span",{children:"Enhanced Outreach"})]}),(0,d.jsxs)("button",{onClick:()=>b("leverage"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${"leverage"===a?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[(0,d.jsx)("span",{children:"\uD83E\uDD1D"}),(0,d.jsx)("span",{children:"Leverage Current"})]}),(0,d.jsxs)("button",{onClick:()=>b("live"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${"live"===a?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[(0,d.jsx)("span",{children:"âš¡"}),(0,d.jsx)("span",{children:"Live Metrics"})]})]})})}),(0,d.jsxs)("div",{className:"flex-1 overflow-auto p-6 space-y-6",children:["overview"===a&&(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsx)(o,{})}),"metrics"===a&&(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsx)(s.F,{standalone:!0,variant:"detailed"})}),"revenue"===a&&(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsx)(r,{})}),"reports"===a&&(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsx)(ak,{})}),"strategy"===a&&(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsx)(N,{})}),"outreach"===a&&(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsx)(X,{})}),"leverage"===a&&(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsx)(ac,{})}),"live"===a&&(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsx)(af,{})})]})]})]})}z.A,B.A,ag.A},69596:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},75535:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])}};